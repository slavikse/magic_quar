(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"++j6":function(t,e){t.exports=AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const t=this.el.sceneEl,e=t.canvas;e?(e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchend",this.onTouchEnd)):t.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){const t=this.el.sceneEl&&this.el.sceneEl.canvas;t&&(t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchend",this.onTouchEnd))},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-1:0,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this)},onTouchStart:function(t){this.isMoving=!0,t.preventDefault()},onTouchEnd:function(t){this.isMoving=!1,t.preventDefault()}})},"+5/M":function(t,e,n){var i=n("0TMJ");function o(){throw new Error("[NetworkDriver] Driver not implemented.")}o.prototype=new i,o.prototype.constructor=o,t.exports=o},"+rLv":function(t,e,n){var i=n("dyZX").document;t.exports=i&&i.documentElement},"/YhB":function(t,e,n){t.exports=r;var i=n("Z6Vu"),o=n("JcM6");function r(){i.call(this),this.type=i.types.PARTICLE}r.prototype=new i,r.prototype.constructor=r,r.prototype.calculateLocalInertia=function(t,e){return e=e||new o,e.set(0,0,0),e},r.prototype.volume=function(){return 0},r.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=0},r.prototype.calculateWorldAABB=function(t,e,n,i){n.copy(t),i.copy(t)}},"/vHK":function(t,e){function n(){this.data={keys:[]}}t.exports=n,n.prototype.get=function(t,e){if(t>e){var n=e;e=t,t=n}return this.data[t+"-"+e]},n.prototype.set=function(t,e,n){if(t>e){var i=e;e=t,t=i}var o=t+"-"+e;this.get(t,e)||this.data.keys.push(o),this.data[o]=n},n.prototype.reset=function(){var t=this.data,e=t.keys;while(e.length>0){var n=e.pop();delete t[n]}}},"0/R4":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"05W6":function(t,e){t.exports=function(){var t,e,n,i,o,r,s,a,c,l,u,h,p,d,f,v,y,m,g,w=[],b=[],x=0;function E(){u=new THREE.Vector3,h=new THREE.Vector3,new THREE.Vector3,p=new THREE.Vector3,d=new THREE.Vector3,f=new THREE.Vector3,v=new THREE.Vector3,y=new THREE.Vector3,m=new THREE.Vector3,g=new THREE.Vector3}function A(t){while(b.length>0)_(b.shift(),t)}var C=function(){var t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(i,o,r){return t.subVectors(r,i),e.subVectors(o,i),n.crossVectors(t,e),n.normalize()}}();function T(t,e){if(void 0!==t.normal)return t.normal;var n=e[t[0]],i=e[t[1]],o=e[t[2]];return u.subVectors(i,n),h.subVectors(o,n),f.crossVectors(h,u),f.normalize(),t.normal=f.clone()}function S(t,e,n){var i=n[t[0]],o=[],r=T(t,n);e.sort(function(t,e){return o[t.x/3]=void 0!==o[t.x/3]?o[t.x/3]:r.dot(p.subVectors(t,i)),o[e.x/3]=void 0!==o[e.x/3]?o[e.x/3]:r.dot(d.subVectors(e,i)),o[t.x/3]-o[e.x/3]});var s=e.length;1===s&&(o[e[0].x/3]=r.dot(p.subVectors(e[0],i)));while(s-- >0&&o[e[s].x/3]>0);s+1<e.length&&o[e[s+1].x/3]>0&&(t.visiblePoints=e.splice(s+1))}function _(t,e){var n,i,o=w.length,r=[t],s=e.indexOf(t.visiblePoints.pop());while(o-- >0)i=w[o],i!==t&&(n=T(i,e).dot(v.subVectors(e[s],e[i[0]])),n>0&&r.push(i));var a,c,l,u,h=o=r.length,p=1===o,d=[],f=0,y=[];r[0][0],r[0][1],r[0][1],r[0][2],r[0][2],r[0][0];if(1===r.length)i=r[0],d=[i[0],i[1],i[1],i[2],i[2],i[0]],b.indexOf(i)>-1&&b.splice(b.indexOf(i),1),i.visiblePoints&&(y=y.concat(i.visiblePoints)),w.splice(w.indexOf(i),1);else while(o-- >0){var m;i=r[o],b.indexOf(i)>-1&&b.splice(b.indexOf(i),1),i.visiblePoints&&(y=y.concat(i.visiblePoints)),w.splice(w.indexOf(i),1),cEdgeIndex=0;while(cEdgeIndex<3){m=!1,h=r.length,l=i[cEdgeIndex],u=i[(cEdgeIndex+1)%3];while(h-- >0&&!m)if(a=r[h],f=0,a!==i)while(f<3&&!m)c=f+1,m=a[f]===l&&a[c%3]===u||a[f]===u&&a[c%3]===l,f++;m&&!p||(d.push(l),d.push(u)),cEdgeIndex++}}o=0;var g,x=d.length/2;while(o<x)g=[d[2*o+1],s,d[2*o]],S(g,y,e),w.push(g),void 0!==g.visiblePoints&&b.push(g),o++}var M=function(){var t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(i,o,r){t.subVectors(o,i),e.subVectors(r,i),n.subVectors(r,o);var s=e.dot(t);if(s<0)return e.dot(e);var a=t.dot(t);return s>=a?n.dot(n):e.dot(e)-s*s/a}}();return function(u){E(),points=u.vertices,w=[],b=[],R=t=points.length,e=points.slice(0,6),x=0;while(R-- >0)points[R].x<e[0].x&&(e[0]=points[R]),points[R].x>e[1].x&&(e[1]=points[R]),points[R].y<e[2].y&&(e[2]=points[R]),points[R].y<e[3].y&&(e[3]=points[R]),points[R].z<e[4].z&&(e[4]=points[R]),points[R].z<e[5].z&&(e[5]=points[R]);i=R=6;while(R-- >0){i=R-1;while(i-- >0)x<(n=e[R].distanceToSquared(e[i]))&&(x=n,o=e[R],r=e[i])}R=6,x=0;while(R-- >0)n=M(o,r,e[R]),x<n&&(x=n,s=e[R]);c=C(o,r,s),l=c.dot(o),x=0,R=t;while(R-- >0)n=Math.abs(points[R].dot(c)-l),x<n&&(x=n,a=points[R]);var h=points.indexOf(o),p=points.indexOf(r),d=points.indexOf(s),f=points.indexOf(a),v=[[d,p,h],[p,f,h],[d,f,p],[h,f,d]];y.subVectors(r,o).normalize(),m.subVectors(s,o).normalize(),g.subVectors(a,o).normalize();var T=g.dot((new THREE.Vector3).crossVectors(m,y));T<0&&(v[0].reverse(),v[1].reverse(),v[2].reverse(),v[3].reverse());var _=points.slice();_.splice(_.indexOf(o),1),_.splice(_.indexOf(r),1),_.splice(_.indexOf(s),1),_.splice(_.indexOf(a),1);var R=v.length;while(R-- >0)S(v[R],_,points),void 0!==v[R].visiblePoints&&b.push(v[R]),w.push(v[R]);A(points);var k=w.length;while(k-- >0)u.faces[k]=new THREE.Face3(w[k][2],w[k][1],w[k][0],w[k].normal);return u.normalsNeedUpdate=!0,u}}()},"0TMJ":function(t,e){function n(){}function i(){throw new Error("Method not implemented.")}t.exports=n,n.prototype.init=i,n.prototype.step=i,n.prototype.destroy=i,n.prototype.addBody=i,n.prototype.removeBody=i,n.prototype.applyBodyMethod=i,n.prototype.updateBodyProperties=i,n.prototype.addMaterial=i,n.prototype.addContactMaterial=i,n.prototype.addConstraint=i,n.prototype.removeConstraint=i,n.prototype.getContacts=i},"0YQG":function(t,e,n){t.exports=o;var i=n("JcM6");function o(){this.spatial=new i,this.rotational=new i}o.prototype.multiplyElement=function(t){return t.spatial.dot(this.spatial)+t.rotational.dot(this.rotational)},o.prototype.multiplyVectors=function(t,e){return t.dot(this.spatial)+e.dot(this.rotational)}},"0r65":function(t,e){var n=arguments[3],i=arguments[4],o=arguments[5],r=JSON.stringify;t.exports=function(t,e){for(var s,a=Object.keys(o),c=0,l=a.length;c<l;c++){var u=a[c],h=o[u].exports;if(h===t||h&&h.default===t){s=u;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var p={};for(c=0,l=a.length;c<l;c++){u=a[c];p[u]=u}i[s]=["function(require,module,exports){"+t+"(self); }",p]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[s]=s,i[d]=["function(require,module,exports){var f = require("+r(s)+");(f.default ? f.default : f)(self);}",f];var v={};function y(t){for(var e in v[t]=!0,i[t][1]){var n=i[t][1][e];v[n]||y(n)}}y(d);var m="("+n+")({"+Object.keys(v).map(function(t){return r(t)+":["+i[t][0]+","+r(i[t][1])+"]"}).join(",")+"},{},["+r(d)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,w=new Blob([m],{type:"text/javascript"});if(e&&e.bare)return w;var b=g.createObjectURL(w),x=new Worker(b);return x.objectURL=b,x}},"1Hvg":function(t,e,n){t.exports=c;var i=n("Z6Vu"),o=n("JcM6"),r=(n("kk46"),n("bc7U")),s=n("qa/2"),a=n("8NXG");function c(t,e){i.call(this),this.type=i.types.TRIMESH,this.vertices=new Float32Array(t),this.indices=new Int16Array(e),this.normals=new Float32Array(e.length),this.aabb=new s,this.edges=null,this.scale=new o(1,1,1),this.tree=new a,this.updateEdges(),this.updateNormals(),this.updateAABB(),this.updateBoundingSphereRadius(),this.updateTree()}c.prototype=new i,c.prototype.constructor=c;var l=new o;c.prototype.updateTree=function(){var t=this.tree;t.reset(),t.aabb.copy(this.aabb);var e=this.scale;t.aabb.lowerBound.x*=1/e.x,t.aabb.lowerBound.y*=1/e.y,t.aabb.lowerBound.z*=1/e.z,t.aabb.upperBound.x*=1/e.x,t.aabb.upperBound.y*=1/e.y,t.aabb.upperBound.z*=1/e.z;for(var n=new s,i=new o,r=new o,a=new o,c=[i,r,a],l=0;l<this.indices.length/3;l++){var u=3*l;this._getUnscaledVertex(this.indices[u],i),this._getUnscaledVertex(this.indices[u+1],r),this._getUnscaledVertex(this.indices[u+2],a),n.setFromPoints(c),t.insert(n,l)}t.removeEmptyNodes()};var u=new s;c.prototype.getTrianglesInAABB=function(t,e){u.copy(t);var n=this.scale,i=n.x,o=n.y,r=n.z,s=u.lowerBound,a=u.upperBound;return s.x/=i,s.y/=o,s.z/=r,a.x/=i,a.y/=o,a.z/=r,this.tree.aabbQuery(u,e)},c.prototype.setScale=function(t){var e=this.scale.x===this.scale.y===this.scale.z,n=t.x===t.y===t.z;e&&n||this.updateNormals(),this.scale.copy(t),this.updateAABB(),this.updateBoundingSphereRadius()},c.prototype.updateNormals=function(){for(var t=l,e=this.normals,n=0;n<this.indices.length/3;n++){var i=3*n,o=this.indices[i],r=this.indices[i+1],s=this.indices[i+2];this.getVertex(o,v),this.getVertex(r,y),this.getVertex(s,m),c.computeNormal(y,v,m,t),e[i]=t.x,e[i+1]=t.y,e[i+2]=t.z}},c.prototype.updateEdges=function(){for(var t={},e=function(e,n){var i=o<r?o+"_"+r:r+"_"+o;t[i]=!0},n=0;n<this.indices.length/3;n++){var i=3*n,o=this.indices[i],r=this.indices[i+1],s=this.indices[i+2];e(o,r),e(r,s),e(s,o)}var a=Object.keys(t);this.edges=new Int16Array(2*a.length);for(n=0;n<a.length;n++){var c=a[n].split("_");this.edges[2*n]=parseInt(c[0],10),this.edges[2*n+1]=parseInt(c[1],10)}},c.prototype.getEdgeVertex=function(t,e,n){var i=this.edges[2*t+(e?1:0)];this.getVertex(i,n)};var h=new o,p=new o;c.prototype.getEdgeVector=function(t,e){var n=h,i=p;this.getEdgeVertex(t,0,n),this.getEdgeVertex(t,1,i),i.vsub(n,e)};var d=new o,f=new o;c.computeNormal=function(t,e,n,i){e.vsub(t,f),n.vsub(e,d),d.cross(f,i),i.isZero()||i.normalize()};var v=new o,y=new o,m=new o;c.prototype.getVertex=function(t,e){var n=this.scale;return this._getUnscaledVertex(t,e),e.x*=n.x,e.y*=n.y,e.z*=n.z,e},c.prototype._getUnscaledVertex=function(t,e){var n=3*t,i=this.vertices;return e.set(i[n],i[n+1],i[n+2])},c.prototype.getWorldVertex=function(t,e,n,i){return this.getVertex(t,i),r.pointToWorldFrame(e,n,i,i),i},c.prototype.getTriangleVertices=function(t,e,n,i){var o=3*t;this.getVertex(this.indices[o],e),this.getVertex(this.indices[o+1],n),this.getVertex(this.indices[o+2],i)},c.prototype.getNormal=function(t,e){var n=3*t;return e.set(this.normals[n],this.normals[n+1],this.normals[n+2])};var g=new s;c.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(g);var n=g.upperBound.x-g.lowerBound.x,i=g.upperBound.y-g.lowerBound.y,o=g.upperBound.z-g.lowerBound.z;return e.set(1/12*t*(2*i*2*i+2*o*2*o),1/12*t*(2*n*2*n+2*o*2*o),1/12*t*(2*i*2*i+2*n*2*n))};var w=new o;c.prototype.computeLocalAABB=function(t){var e=t.lowerBound,n=t.upperBound,i=this.vertices.length,o=(this.vertices,w);this.getVertex(0,o),e.copy(o),n.copy(o);for(var r=0;r!==i;r++)this.getVertex(r,o),o.x<e.x?e.x=o.x:o.x>n.x&&(n.x=o.x),o.y<e.y?e.y=o.y:o.y>n.y&&(n.y=o.y),o.z<e.z?e.z=o.z:o.z>n.z&&(n.z=o.z)},c.prototype.updateAABB=function(){this.computeLocalAABB(this.aabb)},c.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=new o,i=0,r=e.length/3;i!==r;i++){this.getVertex(i,n);var s=n.norm2();s>t&&(t=s)}this.boundingSphereRadius=Math.sqrt(t)};new o;var b=new r,x=new s;c.prototype.calculateWorldAABB=function(t,e,n,i){var o=b,r=x;o.position=t,o.quaternion=e,this.aabb.toWorldFrame(o,r),n.copy(r.lowerBound),i.copy(r.upperBound)},c.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},c.createTorus=function(t,e,n,i,o){t=t||1,e=e||.5,n=n||8,i=i||6,o=o||2*Math.PI;for(var r=[],s=[],a=0;a<=n;a++)for(var l=0;l<=i;l++){var u=l/i*o,h=a/n*Math.PI*2,p=(t+e*Math.cos(h))*Math.cos(u),d=(t+e*Math.cos(h))*Math.sin(u),f=e*Math.sin(h);r.push(p,d,f)}for(a=1;a<=n;a++)for(l=1;l<=i;l++){var v=(i+1)*a+l-1,y=(i+1)*(a-1)+l-1,m=(i+1)*(a-1)+l,g=(i+1)*a+l;s.push(v,y,g),s.push(y,m,g)}return new c(r,s)}},"1W5T":function(t,e){class n{constructor(t){this.content=[],this.scoreFunction=t}push(t){this.content.push(t),this.sinkDown(this.content.length-1)}pop(){const t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t}remove(t){const e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))}size(){return this.content.length}rescoreElement(t){this.sinkDown(this.content.indexOf(t))}sinkDown(t){const e=this.content[t];while(t>0){const n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}}bubbleUp(t){const e=this.content.length,n=this.content[t],i=this.scoreFunction(n);while(1){const o=t+1<<1,r=o-1;let s,a=null;if(r<e){const t=this.content[r];s=this.scoreFunction(t),s<i&&(a=r)}if(o<e){const t=this.content[o],e=this.scoreFunction(t);e<(null===a?i:s)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}}t.exports=n},"2OiF":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"3K4u":function(t,e){function n(){this.matrix=[]}t.exports=n,n.prototype.get=function(t,e){if(t=t.index,e=e.index,e>t){var n=e;e=t,t=n}return this.matrix[(t*(t+1)>>1)+e-1]},n.prototype.set=function(t,e,n){if(t=t.index,e=e.index,e>t){var i=e;e=t,t=i}this.matrix[(t*(t+1)>>1)+e-1]=n?1:0},n.prototype.reset=function(){for(var t=0,e=this.matrix.length;t!==e;t++)this.matrix[t]=0},n.prototype.setNumObjects=function(t){this.matrix.length=t*(t-1)>>1}},"3Lyj":function(t,e,n){var i=n("KroJ");t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},"3q1R":function(t,e,n){THREE.FBXLoader=n("Gio+"),t.exports=AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const t=this.data;if(!t.src)return;this.remove();const e=new THREE.FBXLoader;t.crossorigin&&e.setCrossOrigin(t.crossorigin),e.load(t.src,this.load.bind(this))},load:function(t){this.model=t,this.el.setObject3D("mesh",t),this.el.emit("model-loaded",{format:"fbx",model:t})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"4/OP":function(t,e){t.exports=AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let t;const e=this.data;e.src&&(this.remove(),t=new THREE.ObjectLoader,e.crossorigin&&t.setCrossOrigin(e.crossorigin),t.load(e.src,t=>{t.traverse(t=>{t instanceof THREE.SkinnedMesh&&t.material&&(t.material.skinning=!!(t.geometry&&t.geometry.bones||[]).length)}),this.load(t)}))},load:function(t){this.model=t,this.el.setObject3D("mesh",t),this.el.emit("model-loaded",{format:"json",model:t})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"53S5":function(t,e){const n=.1;t.exports=AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(t){const e=this.el;this.active&&this.checkpoint!==t&&(this.checkpoint&&e.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=t,this.sync(),this.position.distanceTo(this.targetPosition)<n?this.checkpoint=null:(e.emit("navigation-start",{checkpoint:t}),"teleport"===this.data.mode&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,e.emit("navigation-end",{checkpoint:t}),e.components["movement-controls"].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(!this.active)return;const t=this.data,e=this.offset,i=this.position,o=this.targetPosition,r=this.checkpoint;return this.sync(),i.distanceTo(o)<n?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:r}),e.set(0,0,0)):(e.setLength(t.animateSpeed),e)},sync:function(){const t=this.offset,e=this.position,n=this.targetPosition;e.copy(this.el.getAttribute("position")),n.copy(this.checkpoint.object3D.getWorldPosition()),n.add(this.checkpoint.components.checkpoint.getOffset()),t.copy(n).sub(e)}})},"5DQk":function(t,e){t.exports=AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.rawgit.com/donmccurdy/aframe-extras/v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}})},"5GXb":function(t,e,n){t.exports=o;n("Z6Vu");var i=n("JcM6");n("kk46"),n("/YhB"),n("tQLc"),n("Ot0k");function o(){this.particles=[],this.density=1,this.smoothingRadius=1,this.speedOfSound=1,this.viscosity=.01,this.eps=1e-6,this.pressures=[],this.densities=[],this.neighbors=[]}o.prototype.add=function(t){this.particles.push(t),this.neighbors.length<this.particles.length&&this.neighbors.push([])},o.prototype.remove=function(t){var e=this.particles.indexOf(t);-1!==e&&(this.particles.splice(e,1),this.neighbors.length>this.particles.length&&this.neighbors.pop())};var r=new i;o.prototype.getNeighbors=function(t,e){for(var n=this.particles.length,i=t.id,o=this.smoothingRadius*this.smoothingRadius,s=r,a=0;a!==n;a++){var c=this.particles[a];c.position.vsub(t.position,s),i!==c.id&&s.norm2()<o&&e.push(c)}};var s=new i,a=new i,c=new i,l=new i,u=new i,h=new i;o.prototype.update=function(){for(var t=this.particles.length,e=s,n=this.speedOfSound,i=this.eps,o=0;o!==t;o++){var r=this.particles[o],p=this.neighbors[o];p.length=0,this.getNeighbors(r,p),p.push(this.particles[o]);for(var d=p.length,f=0,v=0;v!==d;v++){r.position.vsub(p[v].position,e);var y=e.norm(),m=this.w(y);f+=p[v].mass*m}this.densities[o]=f,this.pressures[o]=n*n*(this.densities[o]-this.density)}var g=a,w=c,b=l,x=u,E=h;for(o=0;o!==t;o++){var A,C,T=this.particles[o];g.set(0,0,0),w.set(0,0,0);for(p=this.neighbors[o],d=p.length,v=0;v!==d;v++){var S=p[v];T.position.vsub(S.position,x);var _=x.norm();A=-S.mass*(this.pressures[o]/(this.densities[o]*this.densities[o]+i)+this.pressures[v]/(this.densities[v]*this.densities[v]+i)),this.gradw(x,b),b.mult(A,b),g.vadd(b,g),S.velocity.vsub(T.velocity,E),E.mult(1/(1e-4+this.densities[o]*this.densities[v])*this.viscosity*S.mass,E),C=this.nablaw(_),E.mult(C,E),w.vadd(E,w)}w.mult(T.mass,w),g.mult(T.mass,g),T.force.vadd(w,T.force),T.force.vadd(g,T.force)}},o.prototype.w=function(t){var e=this.smoothingRadius;return 315/(64*Math.PI*Math.pow(e,9))*Math.pow(e*e-t*t,3)},o.prototype.gradw=function(t,e){var n=t.norm(),i=this.smoothingRadius;t.mult(945/(32*Math.PI*Math.pow(i,9))*Math.pow(i*i-n*n,2),e)},o.prototype.nablaw=function(t){var e=this.smoothingRadius,n=945/(32*Math.PI*Math.pow(e,9))*(e*e-t*t)*(7*t*t-3*e*e);return n}},"5KPk":function(t,e,n){t.exports=r;var i=n("JcM6"),o=n("gaw2");function r(){o.call(this),this.type=i}r.prototype=new o,r.prototype.constructObject=function(){return new i}},"5paa":function(t,e){t.exports=AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial)},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse(t=>{t.isMesh&&(t.material=this.material)})}})},"62o8":function(t,e,n){const i=n("QySN");class o{constructor(){this.portals=[]}push(t,e){void 0===e&&(e=t),this.portals.push({left:t,right:e})}stringPull(){const t=this.portals,e=[];let n,o,r,s=0,a=0,c=0;n=t[0].left,o=t[0].left,r=t[0].right,e.push(n);for(let l=1;l<t.length;l++){const u=t[l].left,h=t[l].right;if(i.triarea2(n,r,h)<=0){if(!(i.vequal(n,r)||i.triarea2(n,o,h)>0)){e.push(o),n=o,s=a,o=n,r=n,a=s,c=s,l=s;continue}r=h,c=l}if(i.triarea2(n,o,u)>=0){if(!(i.vequal(n,o)||i.triarea2(n,r,u)<0)){e.push(r),n=r,s=c,o=n,r=n,a=s,c=s,l=s;continue}o=u,a=l}}return 0!==e.length&&i.vequal(e[e.length-1],t[t.length-1].left)||e.push(t[t.length-1].left),this.path=e,e}}t.exports=o},6401:function(t,e,n){const i=n("y3EA"),o=n("7Ohj");t.exports.Primitive=AFRAME.registerPrimitive("a-hexgrid",{defaultComponents:{hexgrid:{}},mappings:{src:"hexgrid.src"}}),t.exports.Component=AFRAME.registerComponent("hexgrid",{dependencies:["material"],schema:{src:{type:"asset"}},init:function(){const t=this.data;t.src?fetch(t.src).then(t=>t.json()).then(t=>this.addMesh(t)):this.addMesh(o)},addMesh:function(t){const e=new i.HexGrid;e.fromJSON(t);const n=new i.Board(e);n.generateTilemap(),this.el.setObject3D("mesh",n.group),this.addMaterial()},addMaterial:function(){const t=this.el.components.material,e=(t||{}).material;e&&this.el.object3D.traverse(t=>{t.isMesh&&(t.material=e)})},remove:function(){this.el.removeObject3D("mesh")}})},"69bn":function(t,e,n){var i=n("y3w9"),o=n("2OiF"),r=n("K0xU")("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[r])?e:o(n)}},"6zDq":function(t,e){var n=function(){};t.exports=n,n.prototype={constructor:n,addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e),this},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},hasAnyEventListener:function(t){if(void 0===this._listeners)return!1;var e=this._listeners;return void 0!==e[t]},removeEventListener:function(t,e){if(void 0===this._listeners)return this;var n=this._listeners;if(void 0===n[t])return this;var i=n[t].indexOf(e);return-1!==i&&n[t].splice(i,1),this},dispatchEvent:function(t){if(void 0===this._listeners)return this;var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=0,o=n.length;i<o;i++)n[i].call(this,t)}return this}}},"7MSw":function(t,e,n){t.exports=r;var i=n("Z6Vu"),o=n("JcM6");function r(t){if(i.call(this),this.radius=void 0!==t?Number(t):1,this.type=i.types.SPHERE,this.radius<0)throw new Error("The sphere radius cannot be negative.");this.updateBoundingSphereRadius()}r.prototype=new i,r.prototype.constructor=r,r.prototype.calculateLocalInertia=function(t,e){e=e||new o;var n=2*t*this.radius*this.radius/5;return e.x=n,e.y=n,e.z=n,e},r.prototype.volume=function(){return 4*Math.PI*this.radius/3},r.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.radius},r.prototype.calculateWorldAABB=function(t,e,n,i){for(var o=this.radius,r=["x","y","z"],s=0;s<r.length;s++){var a=r[s];n[a]=t[a]-o,i[a]=t[a]+o}}},"7Ohj":function(t,e){t.exports={size:5,cellSize:10,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5},autogenerated:!0,cells:[{q:-1,r:0,s:1,h:1,walkable:!0,userData:{}},{q:0,r:-1,s:1,h:1,walkable:!0,userData:{}},{q:0,r:0,s:0,h:1,walkable:!0,userData:{}},{q:1,r:-1,s:0,h:1,walkable:!0,userData:{}},{q:-1,r:1,s:0,h:0,walkable:!0,userData:{}},{q:0,r:1,s:-1,h:0,walkable:!0,userData:{}},{q:1,r:0,s:-1,h:0,walkable:!0,userData:{}}]}},"7VWh":function(t,e,n){t.exports=r;var i=n("JcM6"),o=(n("FKcu"),n("IABr"));function r(t,e,n){n=n||{};var r="undefined"!==typeof n.maxForce?n.maxForce:1e6;o.call(this,t,e,-r,r),this.axisA=n.axisA?n.axisA.clone():new i(1,0,0),this.axisB=n.axisB?n.axisB.clone():new i(0,1,0),this.maxAngle=Math.PI/2}r.prototype=new o,r.prototype.constructor=r;var s=new i,a=new i;r.prototype.computeB=function(t){var e=this.a,n=this.b,i=this.axisA,o=this.axisB,r=s,c=a,l=this.jacobianElementA,u=this.jacobianElementB;i.cross(o,r),o.cross(i,c),l.rotational.copy(c),u.rotational.copy(r);var h=Math.cos(this.maxAngle)-i.dot(o),p=this.computeGW(),d=this.computeGiMf(),f=-h*e-p*n-t*d;return f}},"7wMV":function(t,e,n){t.exports=r;var i=n("IABr"),o=n("JcM6");n("FKcu");function r(t,e,n){i.call(this,t,e,-n,n),this.ri=new o,this.rj=new o,this.t=new o}r.prototype=new i,r.prototype.constructor=r;var s=new o,a=new o;r.prototype.computeB=function(t){this.a;var e=this.b,n=(this.bi,this.bj,this.ri),i=this.rj,o=s,r=a,c=this.t;n.cross(c,o),i.cross(c,r);var l=this.jacobianElementA,u=this.jacobianElementB;c.negate(l.spatial),o.negate(l.rotational),u.spatial.copy(c),u.rotational.copy(r);var h=this.computeGW(),p=this.computeGiMf(),d=-h*e-t*p;return d}},"8L4W":function(t,e){function n(){return"script_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(t,e){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.id=e,n.src=t,n}function o(t){const e=document.getElementById(t),n=e.parentNode;try{n&&n.removeChild(e)}catch(t){}}function r(t){const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function s(t,e,s){return new s(function(s,a){const c=e.timeout||5e3,l=n(),u=i(t,l),h=setTimeout(function(){a(new Error("Script request to "+t+" timed out")),o(l)},c),p=function(t){clearTimeout(t)};u.addEventListener("load",function(t){s({ok:!0}),p(h),o(l)}),u.addEventListener("error",function(e){a(new Error("Script request to "+t+" failed "+e)),p(h),o(l)}),r(u)})}function a(t){return t=t||{},function(e,n){return n=n||{},s(e,n,t.Promise||Promise)}}t.exports=a},"8NXG":function(t,e,n){var i=n("qa/2"),o=n("JcM6");function r(t){t=t||{},this.root=t.root||null,this.aabb=t.aabb?t.aabb.clone():new i,this.data=[],this.children=[]}function s(t,e){e=e||{},e.root=null,e.aabb=t,r.call(this,e),this.maxDepth="undefined"!==typeof e.maxDepth?e.maxDepth:8}t.exports=s,s.prototype=new r,r.prototype.reset=function(t,e){this.children.length=this.data.length=0},r.prototype.insert=function(t,e,n){var i=this.data;if(n=n||0,!this.aabb.contains(t))return!1;var o=this.children;if(n<(this.maxDepth||this.root.maxDepth)){var r=!1;o.length||(this.subdivide(),r=!0);for(var s=0;8!==s;s++)if(o[s].insert(t,e,n+1))return!0;r&&(o.length=0)}return i.push(e),!0};var a=new o;r.prototype.subdivide=function(){var t=this.aabb,e=t.lowerBound,n=t.upperBound,s=this.children;s.push(new r({aabb:new i({lowerBound:new o(0,0,0)})}),new r({aabb:new i({lowerBound:new o(1,0,0)})}),new r({aabb:new i({lowerBound:new o(1,1,0)})}),new r({aabb:new i({lowerBound:new o(1,1,1)})}),new r({aabb:new i({lowerBound:new o(0,1,1)})}),new r({aabb:new i({lowerBound:new o(0,0,1)})}),new r({aabb:new i({lowerBound:new o(1,0,1)})}),new r({aabb:new i({lowerBound:new o(0,1,0)})})),n.vsub(e,a),a.scale(.5,a);for(var c=this.root||this,l=0;8!==l;l++){var u=s[l];u.root=c;var h=u.aabb.lowerBound;h.x*=a.x,h.y*=a.y,h.z*=a.z,h.vadd(e,h),h.vadd(a,u.aabb.upperBound)}},r.prototype.aabbQuery=function(t,e){this.data,this.children;var n=[this];while(n.length){var i=n.pop();i.aabb.overlaps(t)&&Array.prototype.push.apply(e,i.data),Array.prototype.push.apply(n,i.children)}return e};var c=new i;r.prototype.rayQuery=function(t,e,n){return t.getAABB(c),c.toLocalFrame(e,c),this.aabbQuery(c,n),n},r.prototype.removeEmptyNodes=function(){var t=[this];while(t.length){for(var e=t.pop(),n=e.children.length-1;n>=0;n--)e.children[n].data.length||e.children.splice(n,1);Array.prototype.push.apply(t,e.children)}}},"9gX7":function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},"9ifI":function(t,e){const n=-9.8,i=-15;t.exports=AFRAME.registerComponent("jump-ability",{dependencies:["velocity"],schema:{on:{default:"keydown:Space gamepadbuttondown:0"},playerHeight:{default:1.764},maxJumps:{default:1},distance:{default:5},debug:{default:!1}},init:function(){this.velocity=0,this.numJumps=0;const t=this.beginJump.bind(this),e=this.data.on.split(" ");this.bindings={};for(let n=0;n<e.length;n++)this.bindings[e[n]]=t,this.el.addEventListener(e[n],t);this.bindings.collide=this.onCollide.bind(this),this.el.addEventListener("collide",this.bindings.collide)},remove:function(){for(var t in this.bindings)this.bindings.hasOwnProperty(t)&&(this.el.removeEventListener(t,this.bindings[t]),delete this.bindings[t]);this.el.removeEventListener("collide",this.bindings.collide),delete this.bindings.collide},beginJump:function(){if(this.numJumps<this.data.maxJumps){const t=this.data,e=Math.sqrt(-2*t.distance*(n+i)),o=this.el.getAttribute("velocity");this.el.setAttribute("velocity",{x:o.x,y:e,z:o.z}),this.numJumps++,this.el.emit("jumpstart")}},onCollide:function(){this.numJumps>0&&this.el.emit("jumpend"),this.numJumps=0}})},ALa1:function(t,e){function n(t){var e=new i,n=new i;return e.setTarget(n),n.setTarget(e),t(e),n}function i(){this.listeners=[]}t.exports=n,i.prototype.setTarget=function(t){this.target=t},i.prototype.addEventListener=function(t,e){this.listeners.push(e)},i.prototype.dispatchEvent=function(t,e){for(var n=0;n<this.listeners.length;n++)this.listeners[n](e)},i.prototype.postMessage=function(t){this.target.dispatchEvent("message",{data:t})}},APQl:function(t,e,n){t.exports=l;var i=n("JcM6"),o=n("kk46"),r=n("bc7U"),s=(n("XrCg"),n("vGJX"),n("zy4p")),a=n("Z6Vu"),c=n("qa/2");function l(t,e){this.from=t?t.clone():new i,this.to=e?e.clone():new i,this._direction=new i,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=l.ANY,this.result=new s,this.hasHit=!1,this.callback=function(t){}}l.prototype.constructor=l,l.CLOSEST=1,l.ANY=2,l.ALL=4;var u=new c,h=[];l.prototype.intersectWorld=function(t,e){return this.mode=e.mode||l.ANY,this.result=e.result||new s,this.skipBackfaces=!!e.skipBackfaces,this.collisionFilterMask="undefined"!==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionFilterGroup="undefined"!==typeof e.collisionFilterGroup?e.collisionFilterGroup:-1,e.from&&this.from.copy(e.from),e.to&&this.to.copy(e.to),this.callback=e.callback||function(){},this.hasHit=!1,this.result.reset(),this._updateDirection(),this.getAABB(u),h.length=0,t.broadphase.aabbQuery(t,u,h),this.intersectBodies(h),this.hasHit};var p=new i,d=new i;function f(t,e,n,i){i.vsub(e,N),n.vsub(e,p),t.vsub(e,d);var o,r,s=N.dot(N),a=N.dot(p),c=N.dot(d),l=p.dot(p),u=p.dot(d);return(o=l*c-a*u)>=0&&(r=s*u-a*c)>=0&&o+r<s*l-a*a}l.pointInTriangle=f;var v=new i,y=new o;l.prototype.intersectBody=function(t,e){e&&(this.result=e,this._updateDirection());var n=this.checkCollisionResponse;if((!n||t.collisionResponse)&&0!==(this.collisionFilterGroup&t.collisionFilterMask)&&0!==(t.collisionFilterGroup&this.collisionFilterMask))for(var i=v,o=y,r=0,s=t.shapes.length;r<s;r++){var a=t.shapes[r];if((!n||a.collisionResponse)&&(t.quaternion.mult(t.shapeOrientations[r],o),t.quaternion.vmult(t.shapeOffsets[r],i),i.vadd(t.position,i),this.intersectShape(a,o,i,t),this.result._shouldStop))break}},l.prototype.intersectBodies=function(t,e){e&&(this.result=e,this._updateDirection());for(var n=0,i=t.length;!this.result._shouldStop&&n<i;n++)this.intersectBody(t[n])},l.prototype._updateDirection=function(){this.to.vsub(this.from,this._direction),this._direction.normalize()},l.prototype.intersectShape=function(t,e,n,i){var o=this.from,r=F(o,this._direction,n);if(!(r>t.boundingSphereRadius)){var s=this[t.type];s&&s.call(this,t,e,n,i,t)}};new i,new i;var m=new i,g=new i,w=new i,b=new i;new i,new s;l.prototype.intersectBox=function(t,e,n,i,o){return this.intersectConvex(t.convexPolyhedronRepresentation,e,n,i,o)},l.prototype[a.types.BOX]=l.prototype.intersectBox,l.prototype.intersectPlane=function(t,e,n,o,r){var s=this.from,a=this.to,c=this._direction,l=new i(0,0,1);e.vmult(l,l);var u=new i;s.vsub(n,u);var h=u.dot(l);a.vsub(n,u);var p=u.dot(l);if(!(h*p>0)&&!(s.distanceTo(a)<h)){var d=l.dot(c);if(!(Math.abs(d)<this.precision)){var f=new i,v=new i,y=new i;s.vsub(n,f);var m=-l.dot(f)/d;c.scale(m,v),s.vadd(v,y),this.reportIntersection(l,y,r,o,-1)}}},l.prototype[a.types.PLANE]=l.prototype.intersectPlane,l.prototype.getAABB=function(t){var e=this.to,n=this.from;t.lowerBound.x=Math.min(e.x,n.x),t.lowerBound.y=Math.min(e.y,n.y),t.lowerBound.z=Math.min(e.z,n.z),t.upperBound.x=Math.max(e.x,n.x),t.upperBound.y=Math.max(e.y,n.y),t.upperBound.z=Math.max(e.z,n.z)};var x={faceList:[0]},E=new i,A=new l,C=[];l.prototype.intersectHeightfield=function(t,e,n,i,o){t.data,t.elementSize;var s=A;s.from.copy(this.from),s.to.copy(this.to),r.pointToLocalFrame(n,e,s.from,s.from),r.pointToLocalFrame(n,e,s.to,s.to),s._updateDirection();var a,l,u,h,p=C;a=l=0,u=h=t.data.length-1;var d=new c;s.getAABB(d),t.getIndexOfPosition(d.lowerBound.x,d.lowerBound.y,p,!0),a=Math.max(a,p[0]),l=Math.max(l,p[1]),t.getIndexOfPosition(d.upperBound.x,d.upperBound.y,p,!0),u=Math.min(u,p[0]+1),h=Math.min(h,p[1]+1);for(var f=a;f<u;f++)for(var v=l;v<h;v++){if(this.result._shouldStop)return;if(t.getAabbAtIndex(f,v,d),d.overlapsRay(s)){if(t.getConvexTrianglePillar(f,v,!1),r.pointToWorldFrame(n,e,t.pillarOffset,E),this.intersectConvex(t.pillarConvex,e,E,i,o,x),this.result._shouldStop)return;t.getConvexTrianglePillar(f,v,!0),r.pointToWorldFrame(n,e,t.pillarOffset,E),this.intersectConvex(t.pillarConvex,e,E,i,o,x)}}},l.prototype[a.types.HEIGHTFIELD]=l.prototype.intersectHeightfield;var T=new i,S=new i;l.prototype.intersectSphere=function(t,e,n,i,o){var r=this.from,s=this.to,a=t.radius,c=Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2)+Math.pow(s.z-r.z,2),l=2*((s.x-r.x)*(r.x-n.x)+(s.y-r.y)*(r.y-n.y)+(s.z-r.z)*(r.z-n.z)),u=Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2)+Math.pow(r.z-n.z,2)-Math.pow(a,2),h=Math.pow(l,2)-4*c*u,p=T,d=S;if(!(h<0))if(0===h)r.lerp(s,h,p),p.vsub(n,d),d.normalize(),this.reportIntersection(d,p,o,i,-1);else{var f=(-l-Math.sqrt(h))/(2*c),v=(-l+Math.sqrt(h))/(2*c);if(f>=0&&f<=1&&(r.lerp(s,f,p),p.vsub(n,d),d.normalize(),this.reportIntersection(d,p,o,i,-1)),this.result._shouldStop)return;v>=0&&v<=1&&(r.lerp(s,v,p),p.vsub(n,d),d.normalize(),this.reportIntersection(d,p,o,i,-1))}},l.prototype[a.types.SPHERE]=l.prototype.intersectSphere;var _=new i,M=(new i,new i,new i);l.prototype.intersectConvex=function(t,e,n,i,o,r){for(var s=_,a=M,c=r&&r.faceList||null,l=t.faces,u=t.vertices,h=t.faceNormals,p=this._direction,d=this.from,v=this.to,y=d.distanceTo(v),x=c?c.length:l.length,E=this.result,A=0;!E._shouldStop&&A<x;A++){var C=c?c[A]:A,T=l[C],S=h[C],R=e,k=n;a.copy(u[T[0]]),R.vmult(a,a),a.vadd(k,a),a.vsub(d,a),R.vmult(S,s);var B=p.dot(s);if(!(Math.abs(B)<this.precision)){var O=s.dot(a)/B;if(!(O<0)){p.mult(O,m),m.vadd(d,m),g.copy(u[T[0]]),R.vmult(g,g),k.vadd(g,g);for(var I=1;!E._shouldStop&&I<T.length-1;I++){w.copy(u[T[I]]),b.copy(u[T[I+1]]),R.vmult(w,w),R.vmult(b,b),k.vadd(w,w),k.vadd(b,b);var z=m.distanceTo(d);!f(m,g,w,b)&&!f(m,w,g,b)||z>y||this.reportIntersection(s,m,o,i,C)}}}}},l.prototype[a.types.CONVEXPOLYHEDRON]=l.prototype.intersectConvex;var R=new i,k=new i,B=new i,O=new i,I=new i,z=new i,L=(new c,[]),P=new r;l.prototype.intersectTrimesh=function(t,e,n,i,o,s){var a=R,c=L,l=P,u=M,h=k,p=B,d=O,v=z,y=I,x=(s&&s.faceList,t.indices),E=(t.vertices,t.faceNormals,this.from),A=this.to,C=this._direction;l.position.copy(n),l.quaternion.copy(e),r.vectorToLocalFrame(n,e,C,h),r.pointToLocalFrame(n,e,E,p),r.pointToLocalFrame(n,e,A,d),d.x*=t.scale.x,d.y*=t.scale.y,d.z*=t.scale.z,p.x*=t.scale.x,p.y*=t.scale.y,p.z*=t.scale.z,d.vsub(p,h),h.normalize();var T=p.distanceSquared(d);t.tree.rayQuery(this,l,c);for(var S=0,_=c.length;!this.result._shouldStop&&S!==_;S++){var N=c[S];t.getNormal(N,a),t.getVertex(x[3*N],g),g.vsub(p,u);var D=h.dot(a),F=a.dot(u)/D;if(!(F<0)){h.scale(F,m),m.vadd(p,m),t.getVertex(x[3*N+1],w),t.getVertex(x[3*N+2],b);var j=m.distanceSquared(p);!f(m,w,g,b)&&!f(m,g,w,b)||j>T||(r.vectorToWorldFrame(e,a,y),r.pointToWorldFrame(n,e,m,v),this.reportIntersection(y,v,o,i,N))}}c.length=0},l.prototype[a.types.TRIMESH]=l.prototype.intersectTrimesh,l.prototype.reportIntersection=function(t,e,n,i,o){var r=this.from,s=this.to,a=r.distanceTo(e),c=this.result;if(!(this.skipBackfaces&&t.dot(this._direction)>0))switch(c.hitFaceIndex="undefined"!==typeof o?o:-1,this.mode){case l.ALL:this.hasHit=!0,c.set(r,s,t,e,n,i,a),c.hasHit=!0,this.callback(c);break;case l.CLOSEST:(a<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(r,s,t,e,n,i,a));break;case l.ANY:this.hasHit=!0,c.hasHit=!0,c.set(r,s,t,e,n,i,a),c._shouldStop=!0;break}};var N=new i,D=new i;function F(t,e,n){n.vsub(t,N);var i=N.dot(e);e.mult(i,D),D.vadd(t,D);var o=n.distanceTo(D);return o}},"B+Cc":function(t,e,n){const i=n("QySN");let o=1;class r{static buildZone(t){const e=this._buildNavigationMesh(t),n={};e.vertices.forEach(t=>{t.x=i.roundNumber(t.x,2),t.y=i.roundNumber(t.y,2),t.z=i.roundNumber(t.z,2)}),n.vertices=e.vertices;const o=this._buildPolygonGroups(e);n.groups=[];const r=function(t,e){for(let n=0;n<t.length;n++)if(e===t[n])return n};return o.forEach(t=>{const e=[];t.forEach(n=>{const o=n.neighbours.map(e=>r(t,e)),s=n.neighbours.map(t=>this._getSharedVerticesInOrder(n,t));n.centroid.x=i.roundNumber(n.centroid.x,2),n.centroid.y=i.roundNumber(n.centroid.y,2),n.centroid.z=i.roundNumber(n.centroid.z,2),e.push({id:r(t,n),neighbours:o,vertexIds:n.vertexIds,centroid:n.centroid,portals:s})}),n.groups.push(e)}),n}static _buildNavigationMesh(t){return i.computeCentroids(t),t.mergeVertices(),this._buildPolygonsFromGeometry(t)}static _buildPolygonGroups(t){const e=t.polygons,n=[];let i=0;const o=function(t){t.neighbours.forEach(e=>{void 0===e.group&&(e.group=t.group,o(e))})};return e.forEach(t=>{void 0===t.group&&(t.group=i++,o(t)),n[t.group]||(n[t.group]=[]),n[t.group].push(t)}),n}static _buildPolygonNeighbours(t,e){t.neighbours=[];for(let n=0,o=e.polygons.length;n<o;n++){if(t===e.polygons[n])continue;if(t.centroid.distanceToSquared(e.polygons[n].centroid)>1e4)continue;const o=i.array_intersect(t.vertexIds,e.polygons[n].vertexIds);o.length>=2&&t.neighbours.push(e.polygons[n])}}static _buildPolygonsFromGeometry(t){const e=[],n=t.vertices,i=t.faceVertexUvs;t.faces.forEach(t=>{e.push({id:o++,vertexIds:[t.a,t.b,t.c],centroid:t.centroid,normal:t.normal,neighbours:[]})});const r={polygons:e,vertices:n,faceVertexUvs:i};return e.forEach(t=>{this._buildPolygonNeighbours(t,r)}),r}static _getSharedVerticesInOrder(t,e){const n=t.vertexIds,i=e.vertexIds,o=[];return n.forEach(t=>{i.includes(t)&&o.push(t)}),o.length<2?[]:(o.includes(n[0])&&o.includes(n[n.length-1])&&n.push(n.shift()),o.includes(i[0])&&o.includes(i[i.length-1])&&i.push(i.shift()),o.length=0,n.forEach(t=>{i.includes(t)&&o.push(t)}),o)}}t.exports=r},BaUI:function(t,e){t.exports=Object.assign(function(){},{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},BpkJ:function(t,e,n){t.exports=s;var i=n("exwj"),o=n("Wd2o"),r=n("JcM6");function s(t,e,n,s,a){i.call(this,t,n),a="undefined"!==typeof a?a:1e6,this.pivotA=e?e.clone():new r,this.pivotB=s?s.clone():new r;var c=this.equationX=new o(t,n),l=this.equationY=new o(t,n),u=this.equationZ=new o(t,n);this.equations.push(c,l,u),c.minForce=l.minForce=u.minForce=-a,c.maxForce=l.maxForce=u.maxForce=a,c.ni.set(1,0,0),l.ni.set(0,1,0),u.ni.set(0,0,1)}s.prototype=new i,s.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.equationX,i=this.equationY,o=this.equationZ;t.quaternion.vmult(this.pivotA,n.ri),e.quaternion.vmult(this.pivotB,n.rj),i.ri.copy(n.ri),i.rj.copy(n.rj),o.ri.copy(n.ri),o.rj.copy(n.rj)}},CUa4:function(t,e,n){const i=n("QySN"),o=n("UaqU"),r=n("B+Cc"),s=n("62o8");class a{constructor(){this.zones={}}static createZone(t){return r.buildZone(t)}setZoneData(t,e){this.zones[t]=e}getGroup(t,e){if(!this.zones[t])return null;let n=null,o=Math.pow(50,2);return this.zones[t].groups.forEach((t,r)=>{t.forEach(t=>{const s=i.distanceToSquared(t.centroid,e);s<o&&(n=r,o=s)})}),n}getRandomNode(t,e,n,o){if(!this.zones[t])return new THREE.Vector3;n=n||null,o=o||0;const r=[],s=this.zones[t].groups[e];return s.forEach(t=>{n&&o?i.distanceToSquared(n,t.centroid)<o*o&&r.push(t.centroid):r.push(t.centroid)}),i.sample(r)||new THREE.Vector3}getClosestNode(t,e,n,o=!1){const r=this.zones[e].groups[n],s=this.zones[e].vertices;let a=null,c=1/0;return r.forEach(e=>{const n=i.distanceToSquared(e.centroid,t);n<c&&(!o||i.isVectorInPolygon(t,e,s))&&(a=e,c=n)}),a}findPath(t,e,n,i){const r=this.zones[n].groups[i],a=this.zones[n].vertices,c=this.getClosestNode(t,n,i),l=this.getClosestNode(e,n,i,!0);if(!c||!l)return null;const u=o.search(r,c,l),h=function(t,e){for(var n=0;n<t.neighbours.length;n++)if(t.neighbours[n]===e.id)return t.portals[n]},p=new s;p.push(t);for(let o=0;o<u.length;o++){const t=u[o],e=u[o+1];if(e){const n=h(t,e);p.push(a[n[0]],a[n[1]])}}p.push(e),p.stringPull();const d=p.path.map(t=>new THREE.Vector3(t.x,t.y,t.z));return d.shift(),d}}a.prototype.clampStep=function(){const t=new THREE.Vector3,e=new THREE.Plane,n=new THREE.Triangle;let i,o,r=new THREE.Vector3;return function(s,a,c,l,u,h){const p=this.zones[l].vertices,d=this.zones[l].groups[u],f=[c],v={};v[c.id]=0,i=void 0,r.set(0,0,0),o=1/0,e.setFromCoplanarPoints(p[c.vertexIds[0]],p[c.vertexIds[1]],p[c.vertexIds[2]]),e.projectPoint(a,t),a.copy(t);for(let e=f.pop();e;e=f.pop()){n.set(p[e.vertexIds[0]],p[e.vertexIds[1]],p[e.vertexIds[2]]),n.closestPointToPoint(a,t),t.distanceToSquared(a)<o&&(i=e,r.copy(t),o=t.distanceToSquared(a));const s=v[e];if(!(s>2))for(let t=0;t<e.neighbours.length;t++){const n=d[e.neighbours[t]];n.id in v||(f.push(n),v[n.id]=s+1)}}return h.copy(r),i}}();t.exports=a},CY9K:function(t,e,n){var i=n("0r65"),o=n("ALa1"),r=n("0TMJ"),s=n("o/IA"),a=n("jZVH"),c=n("T8A4"),l=c.ID;function u(t){this.fps=t.fps,this.engine=t.engine,this.interpolate=t.interpolate,this.interpBufferSize=t.interpolationBufferSize,this.debug=t.debug,this.bodies={},this.contacts=[],this.frameDelay=1e3*this.interpBufferSize/this.fps,this.frameBuffer=[],this.worker=this.debug?o(a):i(a),this.worker.addEventListener("message",this._onMessage.bind(this))}u.prototype=new r,u.prototype.constructor=u,t.exports=u,u.prototype.init=function(t){this.worker.postMessage({type:s.INIT,worldConfig:t,fps:this.fps,engine:this.engine})},u.prototype.step=function(){if(this.interpolate){var t=this.frameBuffer[0],e=this.frameBuffer[1],n=performance.now();while(t&&e&&n-t.timestamp>this.frameDelay)this.frameBuffer.shift(),t=this.frameBuffer[0],e=this.frameBuffer[1];if(t&&e){var i=(n-t.timestamp)/this.frameDelay;for(var o in i=(i-(1-1/this.interpBufferSize))*this.interpBufferSize,t.bodies)t.bodies.hasOwnProperty(o)&&e.bodies.hasOwnProperty(o)&&c.deserializeInterpBodyUpdate(t.bodies[o],e.bodies[o],this.bodies[o],i)}}},u.prototype.destroy=function(){this.worker.terminate(),delete this.worker},u.prototype._onMessage=function(t){if(t.data.type!==s.STEP)throw new Error("[WorkerDriver] Unexpected message type.");var e=t.data,n=e.bodies;if(this.contacts=t.data.contacts,this.interpolate)this.frameBuffer.push({timestamp:performance.now(),bodies:n});else for(var i in n)n.hasOwnProperty(i)&&c.deserializeBodyUpdate(n[i],this.bodies[i])},u.prototype.addBody=function(t){c.assignID("body",t),this.bodies[t[l]]=t,this.worker.postMessage({type:s.ADD_BODY,body:c.serializeBody(t)})},u.prototype.removeBody=function(t){this.worker.postMessage({type:s.REMOVE_BODY,bodyID:t[l]}),delete this.bodies[t[l]]},u.prototype.applyBodyMethod=function(t,e,n){switch(e){case"applyForce":case"applyImpulse":this.worker.postMessage({type:s.APPLY_BODY_METHOD,bodyID:t[l],methodName:e,args:[n[0].toArray(),n[1].toArray()]});break;default:throw new Error("Unexpected methodName: %s",e)}},u.prototype.updateBodyProperties=function(t){this.worker.postMessage({type:s.UPDATE_BODY_PROPERTIES,body:c.serializeBody(t)})},u.prototype.getMaterial=function(t){},u.prototype.addMaterial=function(t){this.worker.postMessage({type:s.ADD_MATERIAL,materialConfig:t})},u.prototype.addContactMaterial=function(t,e,n){this.worker.postMessage({type:s.ADD_CONTACT_MATERIAL,materialName1:t,materialName2:e,contactMaterialConfig:n})},u.prototype.addConstraint=function(t){c.assignID("constraint",t),this.worker.postMessage({type:s.ADD_CONSTRAINT,constraint:c.serializeConstraint(t)})},u.prototype.removeConstraint=function(t){this.worker.postMessage({type:s.REMOVE_CONSTRAINT,constraintID:t[l]})},u.prototype.getContacts=function(){var t=this.bodies;return this.contacts.map(function(e){return c.deserializeContact(e,t)})}},D7Le:function(t,e,n){t.exports=s;var i=n("mjed"),o=n("JcM6"),r=n("Z6Vu");function s(t,e,n,r,s){i.apply(this),this.nx=n||10,this.ny=r||10,this.nz=s||10,this.aabbMin=t||new o(100,100,100),this.aabbMax=e||new o(-100,-100,-100);var a=this.nx*this.ny*this.nz;if(a<=0)throw"GridBroadphase: Each dimension's n must be >0";this.bins=[],this.binLengths=[],this.bins.length=a,this.binLengths.length=a;for(var c=0;c<a;c++)this.bins[c]=[],this.binLengths[c]=0}s.prototype=new i,s.prototype.constructor=s;var a=new o;new o;s.prototype.collisionPairs=function(t,e,n){for(var i=t.numObjects(),o=t.bodies,s=this.aabbMax,c=this.aabbMin,l=this.nx,u=this.ny,h=this.nz,p=u*h,d=h,f=1,v=s.x,y=s.y,m=s.z,g=c.x,w=c.y,b=c.z,x=l/(v-g),E=u/(y-w),A=h/(m-b),C=(v-g)/l,T=(y-w)/u,S=(m-b)/h,_=.5*Math.sqrt(C*C+T*T+S*S),M=r.types,R=M.SPHERE,k=M.PLANE,B=(M.BOX,M.COMPOUND,M.CONVEXPOLYHEDRON,this.bins),O=this.binLengths,I=this.bins.length,z=0;z!==I;z++)O[z]=0;var L=Math.ceil;c=Math.min,s=Math.max;function P(t,e,n,i,o,r,s){var a=(t-g)*x|0,c=(e-w)*E|0,v=(n-b)*A|0,y=L((i-g)*x),m=L((o-w)*E),C=L((r-b)*A);a<0?a=0:a>=l&&(a=l-1),c<0?c=0:c>=u&&(c=u-1),v<0?v=0:v>=h&&(v=h-1),y<0?y=0:y>=l&&(y=l-1),m<0?m=0:m>=u&&(m=u-1),C<0?C=0:C>=h&&(C=h-1),a*=p,c*=d,v*=f,y*=p,m*=d,C*=f;for(var T=a;T<=y;T+=p)for(var S=c;S<=m;S+=d)for(var _=v;_<=C;_+=f){var M=T+S+_;B[M][O[M]++]=s}}for(z=0;z!==i;z++){var N=o[z],D=N.shape;switch(D.type){case R:var F=N.position.x,j=N.position.y,H=N.position.z,V=D.radius;P(F-V,j-V,H-V,F+V,j+V,H+V,N);break;case k:D.worldNormalNeedsUpdate&&D.computeWorldNormal(N.quaternion);var q=D.worldNormal,U=g+.5*C-N.position.x,W=w+.5*T-N.position.y,G=b+.5*S-N.position.z,K=a;K.set(U,W,G);for(var $=0,X=0;$!==l;$++,X+=p,K.y=W,K.x+=C)for(var Z=0,Y=0;Z!==u;Z++,Y+=d,K.z=G,K.y+=T)for(var J=0,Q=0;J!==h;J++,Q+=f,K.z+=S)if(K.dot(q)<_){var tt=X+Y+Q;B[tt][O[tt]++]=N}break;default:N.aabbNeedsUpdate&&N.computeAABB(),P(N.aabb.lowerBound.x,N.aabb.lowerBound.y,N.aabb.lowerBound.z,N.aabb.upperBound.x,N.aabb.upperBound.y,N.aabb.upperBound.z,N);break}}for(z=0;z!==I;z++){var et=O[z];if(et>1){var nt=B[z];for($=0;$!==et;$++)for(N=nt[$],Z=0;Z!==$;Z++){var it=nt[Z];this.needBroadphaseCollision(N,it)&&this.intersectionTest(N,it,e,n)}}}this.makePairsUnique(e,n)}},DDQ4:function(t,e,n){const i=n("BaUI"),o=n("oSbB"),r=.2;t.exports=AFRAME.registerComponent("gamepad-controls",{GamepadButton:i,schema:{controller:{default:0,oneOf:[0,1,2,3]},enabled:{default:!0},debug:{default:!1},camera:{default:"[camera]",type:"selector"},rotationSensitivity:{default:2}},init:function(){const t=this.el.sceneEl;this.prevTime=window.performance.now(),this.buttons={};const e=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=THREE.Math.degToRad(e.x),this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=THREE.Math.degToRad(e.y),this.yaw.add(this.pitch),t.addBehavior(this)},update:function(){this.tick()},tick:function(t,e){this.updateButtonState(),this.updateRotation(e)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const t=this.getDpad(),e=this.getJoystick(0),n=t.x||e.x,i=t.y||e.y;return Math.abs(n)>r||Math.abs(i)>r},getVelocityDelta:function(){const t=this.getDpad(),e=this.getJoystick(0),n=t.x||e.x,i=t.y||e.y,o=new THREE.Vector3;return Math.abs(n)>r&&(o.x+=n),Math.abs(i)>r&&(o.z+=i),o},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const t=this.getJoystick(1);return Math.abs(t.x)>r||Math.abs(t.y)>r},updateRotation:function(t){if(!this.isRotationActive())return;const e=this.data,n=this.yaw,i=this.pitch,o=e.camera.components["look-controls"],s=o&&o.pitchObject&&o.yawObject;s&&(i.rotation.copy(o.pitchObject.rotation),n.rotation.copy(o.yawObject.rotation));const a=this.getJoystick(1);Math.abs(a.x)<=r&&(a.x=0),Math.abs(a.y)<=r&&(a.y=0),a.multiplyScalar(e.rotationSensitivity*t/1e3),n.rotation.y-=a.x,i.rotation.x-=a.y,i.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,i.rotation.x)),e.camera.object3D.rotation.set(i.rotation.x,n.rotation.y,0),s&&(o.pitchObject.rotation.copy(i.rotation),o.yawObject.rotation.copy(n.rotation))},updateButtonState:function(){const t=this.getGamepad();if(this.data.enabled&&t)for(var e=0;e<t.buttons.length;e++)t.buttons[e].pressed&&!this.buttons[e]?this.emit(new o("gamepadbuttondown",e,t.buttons[e])):!t.buttons[e].pressed&&this.buttons[e]&&this.emit(new o("gamepadbuttonup",e,t.buttons[e])),this.buttons[e]=t.buttons[e].pressed;else Object.keys(this.buttons)&&(this.buttons={})},emit:function(t){this.el.emit(t.type,t),this.el.emit(t.type+":"+t.index,new o(t.type,t.index,t))},getGamepad:function(){const t=navigator.getGamepads&&navigator.getGamepads()[this.data.controller],e=this.el.sceneEl.components["proxy-controls"],n=e&&e.isConnected()&&e.getGamepad(this.data.controller);return n||t},getButton:function(t){return this.getGamepad().buttons[t]},getAxis:function(t){return this.getGamepad().axes[t]},getJoystick:function(t){const e=this.getGamepad();switch(t){case 0:return new THREE.Vector2(e.axes[0],e.axes[1]);case 1:return new THREE.Vector2(e.axes[2],e.axes[3]);default:throw new Error('Unexpected joystick index "%d".',t)}},getDpad:function(){const t=this.getGamepad();return t.buttons[i.DPAD_RIGHT]?new THREE.Vector2((t.buttons[i.DPAD_RIGHT].pressed?1:0)+(t.buttons[i.DPAD_LEFT].pressed?-1:0),(t.buttons[i.DPAD_UP].pressed?-1:0)+(t.buttons[i.DPAD_DOWN].pressed?1:0)):new THREE.Vector2},isConnected:function(){const t=this.getGamepad();return!(!t||!t.connected)},getID:function(){return this.getGamepad().id}})},DQrI:function(t,e){t.exports=AFRAME.registerComponent("mesh-smooth",{init:function(){this.el.addEventListener("model-loaded",t=>{t.detail.model.traverse(t=>{t.isMesh&&t.geometry.computeVertexNormals()})})}})},"Dp/p":function(t,e){t.exports.Primitive=AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius",radialSegments:"tube.radialSegments",closed:"tube.closed"}}),t.exports.Component=AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const t=this.el,e=this.data;let n=t.components.material;if(!e.path.length)return void console.error("[a-tube] `path` property expected but not found.");const i=new THREE.CatmullRomCurve3(e.path.map(function(t){return t=t.split(" "),new THREE.Vector3(Number(t[0]),Number(t[1]),Number(t[2]))})),o=new THREE.TubeGeometry(i,e.segments,e.radius,e.radialSegments,e.closed);n||(n={},n.material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(o,n.material),this.el.setObject3D("mesh",this.mesh)},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}})},EIId:function(t,e){t.exports=AFRAME.registerComponent("nav-mesh",{init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.el.addEventListener("model-loaded",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){const t=this.el.getObject3D("mesh"),e=this.el.sceneEl.object3D;if(!t)return;let n;if(t.traverse(t=>{t.isMesh&&(n=t)}),!n)return;const i=n.geometry.isBufferGeometry?(new THREE.Geometry).fromBufferGeometry(n.geometry):n.geometry.clone();e.updateMatrixWorld(),i.applyMatrix(n.matrixWorld),this.system.setNavMeshGeometry(i),this.hasLoadedNavMesh=!0}})},EVbP:function(t,e){t.exports={GRAVITY:-9.8,MAX_INTERVAL:4/60,ITERATIONS:10,CONTACT_MATERIAL:{friction:.01,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3,frictionEquationStiffness:1e8,frictionEquationRegularization:3}}},EYlc:function(t,e,n){n("53S5"),n("DDQ4"),n("hWGv"),n("++j6"),n("h2JL"),n("xlRs")},EyK7:function(t,e,n){const i=n("CUa4"),o=new i,r="level";t.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(t){this.navMesh=new THREE.Mesh(t),o.setZoneData(r,i.createZone(t)),Array.from(this.agents).forEach(t=>t.updateNavLocation())},getNavMesh:function(){return this.navMesh},addAgent:function(t){this.agents.add(t)},removeAgent:function(t){this.agents.delete(t)},getPath:function(t,e,n){return this.navMesh?o.findPath(t,e,r,n):null},getGroup:function(t){return this.navMesh?o.getGroup(r,t):null},getNode:function(t,e){return this.navMesh?o.getClosestNode(t,r,e,!0):null},clampStep:function(t,e,n,i,s){return this.navMesh?i?o.clampStep(t,e,i,r,n,s):(s.copy(e),this.getNode(e,n)):(s.copy(e),null)}})},FKcu:function(t,e,n){t.exports=o;var i=n("JcM6");function o(t){this.elements=t||[0,0,0,0,0,0,0,0,0]}o.prototype.identity=function(){var t=this.elements;t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1},o.prototype.setZero=function(){var t=this.elements;t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0},o.prototype.setTrace=function(t){var e=this.elements;e[0]=t.x,e[4]=t.y,e[8]=t.z},o.prototype.getTrace=function(t){t=t||new i;var e=this.elements;t.x=e[0],t.y=e[4],t.z=e[8]},o.prototype.vmult=function(t,e){e=e||new i;var n=this.elements,o=t.x,r=t.y,s=t.z;return e.x=n[0]*o+n[1]*r+n[2]*s,e.y=n[3]*o+n[4]*r+n[5]*s,e.z=n[6]*o+n[7]*r+n[8]*s,e},o.prototype.smult=function(t){for(var e=0;e<this.elements.length;e++)this.elements[e]*=t},o.prototype.mmult=function(t,e){for(var n=e||new o,i=0;i<3;i++)for(var r=0;r<3;r++){for(var s=0,a=0;a<3;a++)s+=t.elements[i+3*a]*this.elements[a+3*r];n.elements[i+3*r]=s}return n},o.prototype.scale=function(t,e){e=e||new o;for(var n=this.elements,i=e.elements,r=0;3!==r;r++)i[3*r+0]=t.x*n[3*r+0],i[3*r+1]=t.y*n[3*r+1],i[3*r+2]=t.z*n[3*r+2];return e},o.prototype.solve=function(t,e){e=e||new i;for(var n,o=3,r=4,s=[],a=0;a<o*r;a++)s.push(0);for(a=0;a<3;a++)for(n=0;n<3;n++)s[a+r*n]=this.elements[a+3*n];s[3]=t.x,s[7]=t.y,s[11]=t.z;var c,l,u=3,h=u,p=4;do{if(a=h-u,0===s[a+r*a])for(n=a+1;n<h;n++)if(0!==s[a+r*n]){c=p;do{l=p-c,s[l+r*a]+=s[l+r*n]}while(--c);break}if(0!==s[a+r*a])for(n=a+1;n<h;n++){var d=s[a+r*n]/s[a+r*a];c=p;do{l=p-c,s[l+r*n]=l<=a?0:s[l+r*n]-s[l+r*a]*d}while(--c)}}while(--u);if(e.z=s[2*r+3]/s[2*r+2],e.y=(s[1*r+3]-s[1*r+2]*e.z)/s[1*r+1],e.x=(s[0*r+3]-s[0*r+2]*e.z-s[0*r+1]*e.y)/s[0*r+0],isNaN(e.x)||isNaN(e.y)||isNaN(e.z)||e.x===1/0||e.y===1/0||e.z===1/0)throw"Could not solve equation! Got x=["+e.toString()+"], b=["+t.toString()+"], A=["+this.toString()+"]";return e},o.prototype.e=function(t,e,n){if(void 0===n)return this.elements[e+3*t];this.elements[e+3*t]=n},o.prototype.copy=function(t){for(var e=0;e<t.elements.length;e++)this.elements[e]=t.elements[e];return this},o.prototype.toString=function(){for(var t="",e=",",n=0;n<9;n++)t+=this.elements[n]+e;return t},o.prototype.reverse=function(t){t=t||new o;for(var e,n=3,i=6,r=[],s=0;s<n*i;s++)r.push(0);for(s=0;s<3;s++)for(e=0;e<3;e++)r[s+i*e]=this.elements[s+3*e];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;var a,c,l=3,u=l,h=i;do{if(s=u-l,0===r[s+i*s])for(e=s+1;e<u;e++)if(0!==r[s+i*e]){a=h;do{c=h-a,r[c+i*s]+=r[c+i*e]}while(--a);break}if(0!==r[s+i*s])for(e=s+1;e<u;e++){var p=r[s+i*e]/r[s+i*s];a=h;do{c=h-a,r[c+i*e]=c<=s?0:r[c+i*e]-r[c+i*s]*p}while(--a)}}while(--l);s=2;do{e=s-1;do{p=r[s+i*e]/r[s+i*s];a=i;do{c=i-a,r[c+i*e]=r[c+i*e]-r[c+i*s]*p}while(--a)}while(e--)}while(--s);s=2;do{p=1/r[s+i*s];a=i;do{c=i-a,r[c+i*s]=r[c+i*s]*p}while(--a)}while(s--);s=2;do{e=2;do{if(c=r[n+e+i*s],isNaN(c)||c===1/0)throw"Could not reverse! A=["+this.toString()+"]";t.e(s,e,c)}while(e--)}while(s--);return t},o.prototype.setRotationFromQuaternion=function(t){var e=t.x,n=t.y,i=t.z,o=t.w,r=e+e,s=n+n,a=i+i,c=e*r,l=e*s,u=e*a,h=n*s,p=n*a,d=i*a,f=o*r,v=o*s,y=o*a,m=this.elements;return m[0]=1-(h+d),m[1]=l-y,m[2]=u+v,m[3]=l+y,m[4]=1-(c+d),m[5]=p-f,m[6]=u-v,m[7]=p+f,m[8]=1-(c+h),this},o.prototype.transpose=function(t){t=t||new o;for(var e=t.elements,n=this.elements,i=0;3!==i;i++)for(var r=0;3!==r;r++)e[3*i+r]=n[3*r+i];return t}},FN59:function(t,e){t.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(i,o){const r=this.el,s=this.data,a=this.raycaster,c=s.speed*o/1e3;if(!s.active)return;if(!this.path.length){const e=this.el.object3D.position;this.group=this.group||this.system.getGroup(e),this.path=this.system.getPath(e,t.copy(s.destination),this.group)||[],r.emit("nav-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",s.destination),this.el.setAttribute("nav-agent",{active:!1}),void r.emit("nav-end");const l=r.object3D.position,u=this.path[0];e.subVectors(u,l);const h=e.length();let p;if(h<c){if(this.path.shift(),!this.path.length)return this.el.setAttribute("nav-agent",{active:!1}),void r.emit("nav-end");n.copy(l),p=this.path[0]}else n.copy(e.setLength(c)).add(l),p=u;p.y=l.y,r.object3D.lookAt(p),a.ray.origin.copy(n),a.ray.origin.y+=1.5,a.ray.direction.y=-1;const d=a.intersectObject(this.system.getNavMesh());d.length?(e.subVectors(d[0].point,l),l.add(e.setLength(c))):l.copy(n)}}()})},FTEy:function(t,e,n){var i=n("Z6Vu"),o=n("XrCg"),r=n("JcM6"),s=n("x3f3");function a(t,e){e=s.defaults(e,{maxValue:null,minValue:null,elementSize:1}),this.data=t,this.maxValue=e.maxValue,this.minValue=e.minValue,this.elementSize=e.elementSize,null===e.minValue&&this.updateMinValue(),null===e.maxValue&&this.updateMaxValue(),this.cacheEnabled=!0,i.call(this),this.pillarConvex=new o,this.pillarOffset=new r,this.type=i.types.HEIGHTFIELD,this.updateBoundingSphereRadius(),this._cachedPillars={}}t.exports=a,a.prototype=new i,a.prototype.update=function(){this._cachedPillars={}},a.prototype.updateMinValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var i=0;i!==t[n].length;i++){var o=t[n][i];o<e&&(e=o)}this.minValue=e},a.prototype.updateMaxValue=function(){for(var t=this.data,e=t[0][0],n=0;n!==t.length;n++)for(var i=0;i!==t[n].length;i++){var o=t[n][i];o>e&&(e=o)}this.maxValue=e},a.prototype.setHeightValueAtIndex=function(t,e,n){var i=this.data;i[t][e]=n,this.clearCachedConvexTrianglePillar(t,e,!1),t>0&&(this.clearCachedConvexTrianglePillar(t-1,e,!0),this.clearCachedConvexTrianglePillar(t-1,e,!1)),e>0&&(this.clearCachedConvexTrianglePillar(t,e-1,!0),this.clearCachedConvexTrianglePillar(t,e-1,!1)),e>0&&t>0&&this.clearCachedConvexTrianglePillar(t-1,e-1,!0)},a.prototype.getRectMinMax=function(t,e,n,i,o){o=o||[];for(var r=this.data,s=this.minValue,a=t;a<=n;a++)for(var c=e;c<=i;c++){var l=r[a][c];l>s&&(s=l)}o[0]=this.minValue,o[1]=s},a.prototype.getIndexOfPosition=function(t,e,n,i){var o=this.elementSize,r=this.data,s=Math.floor(t/o),a=Math.floor(e/o);return n[0]=s,n[1]=a,i&&(s<0&&(s=0),a<0&&(a=0),s>=r.length-1&&(s=r.length-1),a>=r[0].length-1&&(a=r[0].length-1)),!(s<0||a<0||s>=r.length-1||a>=r[0].length-1)};var c=[],l=new r,u=new r,h=new r,p=new r;a.prototype.getTriangleAt=function(t,e,n,i,o,r){var s=c;this.getIndexOfPosition(t,e,s,n);var a=s[0],l=s[1],u=this.data;n&&(a=Math.min(u.length-2,Math.max(0,a)),l=Math.min(u[0].length-2,Math.max(0,l)));var h=this.elementSize,p=Math.pow(t/h-a,2)+Math.pow(e/h-l,2),d=Math.pow(t/h-(a+1),2)+Math.pow(e/h-(l+1),2),f=p>d;return this.getTriangle(a,l,f,i,o,r),f};var d=new r,f=new r,v=new r,y=new r,m=new r;function g(t,e,n,i,o,r,s,a,c){c.x=((r-a)*(t-s)+(s-o)*(e-a))/((r-a)*(n-s)+(s-o)*(i-a)),c.y=((a-i)*(t-s)+(n-s)*(e-a))/((r-a)*(n-s)+(s-o)*(i-a)),c.z=1-c.x-c.y}a.prototype.getNormalAt=function(t,e,n,i){var o=d,r=f,s=v,a=y,c=m;this.getTriangleAt(t,e,n,o,r,s),r.vsub(o,a),s.vsub(o,c),a.cross(c,i),i.normalize()},a.prototype.getAabbAtIndex=function(t,e,n){var i=this.data,o=this.elementSize;n.lowerBound.set(t*o,e*o,i[t][e]),n.upperBound.set((t+1)*o,(e+1)*o,i[t+1][e+1])},a.prototype.getHeightAt=function(t,e,n){var i=this.data,o=u,r=h,s=p,a=c;this.getIndexOfPosition(t,e,a,n);var d=a[0],f=a[1];n&&(d=Math.min(i.length-2,Math.max(0,d)),f=Math.min(i[0].length-2,Math.max(0,f)));var v=this.getTriangleAt(t,e,n,o,r,s);g(t,e,o.x,o.y,r.x,r.y,s.x,s.y,l);var y=l;return v?i[d+1][f+1]*y.x+i[d][f+1]*y.y+i[d+1][f]*y.z:i[d][f]*y.x+i[d+1][f]*y.y+i[d][f+1]*y.z},a.prototype.getCacheConvexTrianglePillarKey=function(t,e,n){return t+"_"+e+"_"+(n?1:0)},a.prototype.getCachedConvexTrianglePillar=function(t,e,n){return this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},a.prototype.setCachedConvexTrianglePillar=function(t,e,n,i,o){this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]={convex:i,offset:o}},a.prototype.clearCachedConvexTrianglePillar=function(t,e,n){delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(t,e,n)]},a.prototype.getTriangle=function(t,e,n,i,o,r){var s=this.data,a=this.elementSize;n?(i.set((t+1)*a,(e+1)*a,s[t+1][e+1]),o.set(t*a,(e+1)*a,s[t][e+1]),r.set((t+1)*a,e*a,s[t+1][e])):(i.set(t*a,e*a,s[t][e]),o.set((t+1)*a,e*a,s[t+1][e]),r.set(t*a,(e+1)*a,s[t][e+1]))},a.prototype.getConvexTrianglePillar=function(t,e,n){var i=this.pillarConvex,s=this.pillarOffset;if(this.cacheEnabled){var a=this.getCachedConvexTrianglePillar(t,e,n);if(a)return this.pillarConvex=a.convex,void(this.pillarOffset=a.offset);i=new o,s=new r,this.pillarConvex=i,this.pillarOffset=s}a=this.data;var c=this.elementSize,l=i.faces;i.vertices.length=6;for(var u=0;u<6;u++)i.vertices[u]||(i.vertices[u]=new r);l.length=5;for(u=0;u<5;u++)l[u]||(l[u]=[]);var h=i.vertices,p=(Math.min(a[t][e],a[t+1][e],a[t][e+1],a[t+1][e+1])-this.minValue)/2+this.minValue;n?(s.set((t+.75)*c,(e+.75)*c,p),h[0].set(.25*c,.25*c,a[t+1][e+1]-p),h[1].set(-.75*c,.25*c,a[t][e+1]-p),h[2].set(.25*c,-.75*c,a[t+1][e]-p),h[3].set(.25*c,.25*c,-p-1),h[4].set(-.75*c,.25*c,-p-1),h[5].set(.25*c,-.75*c,-p-1),l[0][0]=0,l[0][1]=1,l[0][2]=2,l[1][0]=5,l[1][1]=4,l[1][2]=3,l[2][0]=2,l[2][1]=5,l[2][2]=3,l[2][3]=0,l[3][0]=3,l[3][1]=4,l[3][2]=1,l[3][3]=0,l[4][0]=1,l[4][1]=4,l[4][2]=5,l[4][3]=2):(s.set((t+.25)*c,(e+.25)*c,p),h[0].set(-.25*c,-.25*c,a[t][e]-p),h[1].set(.75*c,-.25*c,a[t+1][e]-p),h[2].set(-.25*c,.75*c,a[t][e+1]-p),h[3].set(-.25*c,-.25*c,-p-1),h[4].set(.75*c,-.25*c,-p-1),h[5].set(-.25*c,.75*c,-p-1),l[0][0]=0,l[0][1]=1,l[0][2]=2,l[1][0]=5,l[1][1]=4,l[1][2]=3,l[2][0]=0,l[2][1]=2,l[2][2]=5,l[2][3]=3,l[3][0]=1,l[3][1]=0,l[3][2]=3,l[3][3]=4,l[4][0]=4,l[4][1]=5,l[4][2]=2,l[4][3]=1),i.computeNormals(),i.computeEdges(),i.updateBoundingSphereRadius(),this.setCachedConvexTrianglePillar(t,e,n,i,s)},a.prototype.calculateLocalInertia=function(t,e){return e=e||new r,e.set(0,0,0),e},a.prototype.volume=function(){return Number.MAX_VALUE},a.prototype.calculateWorldAABB=function(t,e,n,i){n.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),i.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},a.prototype.updateBoundingSphereRadius=function(){var t=this.data,e=this.elementSize;this.boundingSphereRadius=new r(t.length*e,t[0].length*e,Math.max(Math.abs(this.maxValue),Math.abs(this.minValue))).norm()},a.prototype.setHeightsFromImage=function(t,e){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=n.getContext("2d");i.drawImage(t,0,0);var o=i.getImageData(0,0,t.width,t.height),r=this.data;r.length=0,this.elementSize=Math.abs(e.x)/o.width;for(var s=0;s<o.height;s++){for(var a=[],c=0;c<o.width;c++){var l=o.data[4*(s*o.height+c)],u=o.data[4*(s*o.height+c)+1],h=o.data[4*(s*o.height+c)+2],p=(l+u+h)/4/255*e.z;e.x<0?a.push(p):a.unshift(p)}e.y<0?r.unshift(a):r.push(a)}this.updateMaxValue(),this.updateMinValue(),this.update()}},GZEu:function(t,e,n){var i,o,r,s=n("m0Pp"),a=n("MfQN"),c=n("+rLv"),l=n("Iw71"),u=n("dyZX"),h=u.process,p=u.setImmediate,d=u.clearImmediate,f=u.MessageChannel,v=u.Dispatch,y=0,m={},g="onreadystatechange",w=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){w.call(t.data)};p&&d||(p=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return m[++y]=function(){a("function"==typeof t?t:Function(t),e)},i(y),y},d=function(t){delete m[t]},"process"==n("LZWt")(h)?i=function(t){h.nextTick(s(w,t,1))}:v&&v.now?i=function(t){v.now(s(w,t,1))}:f?(o=new f,r=o.port2,o.port1.onmessage=b,i=s(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):i=g in l("script")?function(t){c.appendChild(l("script"))[g]=function(){c.removeChild(this),w.call(t)}}:function(t){setTimeout(s(w,t,1),0)}),t.exports={set:p,clear:d}},Gd68:function(t,e){const n=1e-6;t.exports=AFRAME.registerComponent("kinematic-body",{dependencies:["velocity"],schema:{mass:{default:5},radius:{default:1.3},userHeight:{default:1.6},linearDamping:{default:.05},enableSlopes:{default:!0}},init:function(){this.system=this.el.sceneEl.systems.physics,this.system.addComponent(this);const t=this.el,e=this.data,n=(new CANNON.Vec3).copy(t.getAttribute("position"));this.body=new CANNON.Body({material:this.system.getMaterial("staticMaterial"),position:n,mass:e.mass,linearDamping:e.linearDamping,fixedRotation:!0}),this.body.addShape(new CANNON.Sphere(e.radius),new CANNON.Vec3(0,e.radius-e.height,0)),this.body.el=this.el,this.el.body=this.body,this.system.addBody(this.body),t.hasAttribute("wasd-controls")&&console.warn("[kinematic-body] Not compatible with wasd-controls, use movement-controls.")},remove:function(){this.system.removeBody(this.body),this.system.removeComponent(this),delete this.el.body},beforeStep:function(t,e){if(!e)return;const n=this.el,i=this.body;i.velocity.copy(n.getAttribute("velocity")),i.position.copy(n.getAttribute("position")),i.position.y+=this.data.userHeight},step:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Vector3;return function(r,s){if(!s)return;let a,c,l=this.body,u=this.data,h=!1,p=-1/0,d=this.system.getContacts();s=Math.min(s,1e3*this.system.data.maxInterval),o.set(0,0,0),t.copy(this.el.getAttribute("velocity")),l.velocity.copy(t);for(var f,v=0;f=d[v];v++)if(f.enabled){if(l.id===f.bi.id)f.ni.negate(i);else{if(l.id!==f.bj.id)continue;i.copy(f.ni)}h=l.velocity.dot(i)<-n,h&&i.y<=.5?t=t.projectOnPlane(i):i.y>.5&&(a=l.id===f.bi.id?Math.abs(f.rj.y+f.bj.position.y):Math.abs(f.ri.y+f.bi.position.y),a>p&&(p=a,o.copy(i),c=l.id===f.bi.id?f.bj:f.bi))}if(e.copy(t).normalize(),c&&e.y<.5?(u.enableSlopes?o.y<1-n&&o.copy(this.raycastToGround(c,o)):o.set(0,1,0),t=t.projectOnPlane(o)):this.system.driver.world&&t.add(this.system.driver.world.gravity.scale(4*s/1e3)),c&&c.el&&c.el.components.velocity){const t=c.el.getAttribute("velocity");l.position.copy({x:l.position.x+t.x*s/1e3,y:l.position.y+t.y*s/1e3,z:l.position.z+t.z*s/1e3})}l.velocity.copy(t),l.position.y-=u.userHeight,this.el.setAttribute("velocity",l.velocity),this.el.setAttribute("position",l.position)}}(),raycastToGround:function(t,e){let n,i,o=this.body.position,r=this.body.position.clone();return r.y-=this.data.height,n=new CANNON.Ray(o,r),n._updateDirection(),n.intersectBody(t),n.hasHit?(i=n.result.hitNormalWorld,Math.abs(i.y)>Math.abs(e.y)?i:e):e}})},"Gio+":function(t,e){THREE.LoaderUtils={extractUrlBase:THREE.Loader.prototype.extractUrlBase,decodeText:function(t){return(new TextDecoder).decode(t)}},function(){function e(t){var e=new Map;if("Connections"in t){var n=t.Connections.connections;n.forEach(function(t){var n=t[0],i=t[1],o=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var r={ID:i,relationship:o};e.get(n).parents.push(r),e.has(i)||e.set(i,{parents:[],children:[]});var s={ID:n,relationship:o};e.get(i).children.push(s)})}return e}function n(t){var e={},n={};if("Video"in t.Objects){var o=t.Objects.Video;for(var r in o){var s=o[r],a=parseInt(r);if(e[a]=s.Filename,"Content"in s){var c=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l="string"===typeof s.Content&&""!==s.Content;if(c||l){var u=i(o[r]);n[s.Filename]=u}}}}for(var a in e){var h=e[a];void 0!==n[h]?e[a]=n[h]:e[a]=e[a].split("\\").pop()}return e}function i(t){var e,n=t.Content,i=t.RelativeFilename||t.Filename,o=i.slice(i.lastIndexOf(".")+1).toLowerCase();switch(o){case"bmp":e="image/bmp";break;case"jpg":case"jpeg":e="image/jpeg";break;case"png":e="image/png";break;case"tif":e="image/tiff";break;default:return void console.warn('FBXLoader: Image type "'+o+'" is not supported.')}if("string"===typeof n)return"data:"+e+";base64,"+n;var r=new Uint8Array(n);return window.URL.createObjectURL(new Blob([r],{type:e}))}function o(t,e,n,i){var o=new Map;if("Texture"in t.Objects){var s=t.Objects.Texture;for(var a in s){var c=r(s[a],e,n,i);o.set(parseInt(a),c)}}return o}function r(t,e,n,i){var o=s(t,e,n,i);o.ID=t.id,o.name=t.attrName;var r=t.WrapModeU,a=t.WrapModeV,c=void 0!==r?r.value:0,l=void 0!==a?a.value:0;if(o.wrapS=0===c?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,o.wrapT=0===l?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in t){var u=t.Scaling.value;o.repeat.x=u[0],o.repeat.y=u[1]}return o}function s(t,e,n,i){var o,r=e.path,s=i.get(t.id).children;void 0!==s&&s.length>0&&void 0!==n[s[0].ID]&&(o=n[s[0].ID],0!==o.indexOf("blob:")&&0!==o.indexOf("data:")||e.setPath(void 0));var a=e.load(o);return e.setPath(r),a}function a(t,e,n){var i=new Map;if("Material"in t.Objects){var o=t.Objects.Material;for(var r in o){var s=c(t,o[r],e,n);null!==s&&i.set(parseInt(r),s)}}return i}function c(t,e,n,i){var o=e.id,r=e.attrName,s=e.ShadingModel;if("object"===typeof s&&(s=s.value),!i.has(o))return null;var a,c=l(t,e,n,o,i);switch(s.toLowerCase()){case"phong":a=new THREE.MeshPhongMaterial;break;case"lambert":a=new THREE.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new THREE.MeshPhongMaterial({color:3342591});break}return a.setValues(c),a.name=r,a}function l(t,e,n,i,o){var r={};return e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse&&(r.color=(new THREE.Color).fromArray(e.Diffuse.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Specular&&(r.specular=(new THREE.Color).fromArray(e.Specular.value)),e.Shininess&&(r.shininess=e.Shininess.value),e.Emissive&&(r.emissive=(new THREE.Color).fromArray(e.Emissive.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),o.get(i).children.forEach(function(e){var i=e.relationship;switch(i){case"Bump":r.bumpMap=n.get(e.ID);break;case"DiffuseColor":r.map=u(t,n,e.ID,o);break;case"DisplacementColor":r.displacementMap=u(t,n,e.ID,o);break;case"EmissiveColor":r.emissiveMap=u(t,n,e.ID,o);break;case"NormalMap":r.normalMap=u(t,n,e.ID,o);break;case"ReflectionColor":r.envMap=u(t,n,e.ID,o),r.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":r.specularMap=u(t,n,e.ID,o);break;case"TransparentColor":r.alphaMap=u(t,n,e.ID,o),r.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",i);break}}),r}function u(t,e,n,i){return"LayeredTexture"in t.Objects&&n in t.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),n=i.get(n).children[0].ID),e.get(n)}function h(t,e){var n={};if("Deformer"in t.Objects){var i=t.Objects.Deformer;for(var o in i){var r=i[o];if("Skin"===r.attrType){var s=e.get(parseInt(o)),a=p(s,i);a.ID=o,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=s.parents[0].ID,n[o]=a}}}return n}function p(t,e){var n=[];return t.children.forEach(function(t){var i=e[t.ID];if("Cluster"===i.attrType){var o={ID:t.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(i.Transform.a),transformLink:(new THREE.Matrix4).fromArray(i.TransformLink.a),linkMode:i.Mode};"Indexes"in i&&(o.indices=i.Indexes.a,o.weights=i.Weights.a),n.push(o)}}),{rawBones:n,bones:[]}}function d(t,e,n){var i=new Map;if("Geometry"in t.Objects){var o=t.Objects.Geometry;for(var r in o){var s=e.get(parseInt(r)),a=f(t,s,o[r],n);i.set(parseInt(r),a)}}return i}function f(t,e,n,i){switch(n.attrType){case"Mesh":return v(t,e,n,i);case"NurbsCurve":return C(n)}}function v(t,e,n,i){var o=e.parents.map(function(e){return t.Objects.Model[e.ID]});if(0!==o.length){var r=e.children.reduce(function(t,e){return void 0!==i[e.ID]&&(t=i[e.ID]),t},null),s=new THREE.Matrix4,a=o[0];if("GeometricRotation"in a){var c=a.GeometricRotation.value.map(THREE.Math.degToRad);c[3]="ZYX",s.makeRotationFromEuler((new THREE.Euler).fromArray(c))}return"GeometricTranslation"in a&&s.setPosition((new THREE.Vector3).fromArray(a.GeometricTranslation.value)),y(t,e,n,r,s)}}function y(t,e,n,i,o){var r=n.Vertices.a,s=n.PolygonVertexIndex.a,a=[],c=[],l=[],u=[],h=[],p=[],d=[];if(n.LayerElementColor)var f=w(n.LayerElementColor[0]);if(n.LayerElementMaterial)var v=b(n.LayerElementMaterial[0]);if(n.LayerElementNormal)var y=m(n.LayerElementNormal[0]);if(n.LayerElementUV){var x=[],E=0;while(n.LayerElementUV[E])x.push(g(n.LayerElementUV[E])),E++}var C={};null!==i&&i.rawBones.forEach(function(t,e){t.indices.forEach(function(n,i){void 0===C[n]&&(C[n]=[]),C[n].push({id:e,weight:t.weights[i]})})});var T=0,S=0,_=!1,M=[],R=[],k=[],B=[],O=[],I=[];s.forEach(function(t,e){var n=!1;t<0&&(t^=-1,s[e]=t,n=!0);var o=[],m=[];if(M.push(3*t,3*t+1,3*t+2),f){var g=A(e,T,t,f);k.push(g[0],g[1],g[2])}if(i){if(void 0!==C[t]&&C[t].forEach(function(t){m.push(t.weight),o.push(t.id)}),m.length>4){_||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),_=!0);var w=[0,0,0,0],b=[0,0,0,0];m.forEach(function(t,e){var n=t,i=o[e];b.forEach(function(t,e,o){if(n>t){o[e]=n,n=t;var r=w[e];w[e]=i,i=r}})}),o=w,m=b}while(m.length<4)m.push(0),o.push(0);for(var E=0;E<4;++E)O.push(m[E]),I.push(o[E])}if(y){g=A(e,T,t,y);R.push(g[0],g[1],g[2])}if(v&&"AllSame"!==v.mappingType)var z=A(e,T,t,v)[0];if(x&&x.forEach(function(n,i){var o=A(e,T,t,n);void 0===B[i]&&(B[i]=[]),B[i].push(o[0]),B[i].push(o[1])}),S++,n){for(E=2;E<S;E++)a.push(r[M[0]]),a.push(r[M[1]]),a.push(r[M[2]]),a.push(r[M[3*(E-1)]]),a.push(r[M[3*(E-1)+1]]),a.push(r[M[3*(E-1)+2]]),a.push(r[M[3*E]]),a.push(r[M[3*E+1]]),a.push(r[M[3*E+2]]),i&&(p.push(O[0]),p.push(O[1]),p.push(O[2]),p.push(O[3]),p.push(O[4*(E-1)]),p.push(O[4*(E-1)+1]),p.push(O[4*(E-1)+2]),p.push(O[4*(E-1)+3]),p.push(O[4*E]),p.push(O[4*E+1]),p.push(O[4*E+2]),p.push(O[4*E+3]),d.push(I[0]),d.push(I[1]),d.push(I[2]),d.push(I[3]),d.push(I[4*(E-1)]),d.push(I[4*(E-1)+1]),d.push(I[4*(E-1)+2]),d.push(I[4*(E-1)+3]),d.push(I[4*E]),d.push(I[4*E+1]),d.push(I[4*E+2]),d.push(I[4*E+3])),f&&(l.push(k[0]),l.push(k[1]),l.push(k[2]),l.push(k[3*(E-1)]),l.push(k[3*(E-1)+1]),l.push(k[3*(E-1)+2]),l.push(k[3*E]),l.push(k[3*E+1]),l.push(k[3*E+2])),v&&"AllSame"!==v.mappingType&&(h.push(z),h.push(z),h.push(z)),y&&(c.push(R[0]),c.push(R[1]),c.push(R[2]),c.push(R[3*(E-1)]),c.push(R[3*(E-1)+1]),c.push(R[3*(E-1)+2]),c.push(R[3*E]),c.push(R[3*E+1]),c.push(R[3*E+2])),x&&x.forEach(function(t,e){void 0===u[e]&&(u[e]=[]),u[e].push(B[e][0]),u[e].push(B[e][1]),u[e].push(B[e][2*(E-1)]),u[e].push(B[e][2*(E-1)+1]),u[e].push(B[e][2*E]),u[e].push(B[e][2*E+1])});T++,S=0,M=[],R=[],k=[],B=[],O=[],I=[]}});var z=new THREE.BufferGeometry;z.name=n.name;var L=new THREE.Float32BufferAttribute(a,3);if(o.applyToBufferAttribute(L),z.addAttribute("position",L),l.length>0&&z.addAttribute("color",new THREE.Float32BufferAttribute(l,3)),i&&(z.addAttribute("skinIndex",new THREE.Float32BufferAttribute(d,4)),z.addAttribute("skinWeight",new THREE.Float32BufferAttribute(p,4)),z.FBX_Deformer=i),c.length>0){var P=new THREE.Float32BufferAttribute(c,3),N=(new THREE.Matrix3).getNormalMatrix(o);N.applyToBufferAttribute(P),z.addAttribute("normal",P)}if(u.forEach(function(t,e){var n="uv"+(e+1).toString();0===e&&(n="uv"),z.addAttribute(n,new THREE.Float32BufferAttribute(u[e],2))}),v&&"AllSame"!==v.mappingType){var D=h[0],F=0;if(h.forEach(function(t,e){t!==D&&(z.addGroup(F,e-F,D),D=t,F=e)}),z.groups.length>0){var j=z.groups[z.groups.length-1],H=j.start+j.count;H!==h.length&&z.addGroup(H,h.length-H,D)}0===z.groups.length&&z.addGroup(0,h.length,h[0])}return z}function m(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.Normals.a,o=[];return"IndexToDirect"===n&&("NormalIndex"in t?o=t.NormalIndex.a:"NormalsIndex"in t&&(o=t.NormalsIndex.a)),{dataSize:3,buffer:i,indices:o,mappingType:e,referenceType:n}}function g(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.UV.a,o=[];return"IndexToDirect"===n&&(o=t.UVIndex.a),{dataSize:2,buffer:i,indices:o,mappingType:e,referenceType:n}}function w(t){var e=t.MappingInformationType,n=t.ReferenceInformationType,i=t.Colors.a,o=[];return"IndexToDirect"===n&&(o=t.ColorIndex.a),{dataSize:4,buffer:i,indices:o,mappingType:e,referenceType:n}}function b(t){var e=t.MappingInformationType,n=t.ReferenceInformationType;if("NoMappingInformation"===e)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var i=t.Materials.a,o=[],r=0;r<i.length;++r)o.push(r);return{dataSize:1,buffer:i,indices:o,mappingType:e,referenceType:n}}t.exports=THREE.FBXLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager},Object.assign(THREE.FBXLoader.prototype,{load:function(t,e,n,i){var o=this,r=THREE.LoaderUtils.extractUrlBase(t),s=new THREE.FileLoader(this.manager);s.setResponseType("arraybuffer"),s.load(t,function(n){try{var s=o.parse(n,r);e(s)}catch(e){window.setTimeout(function(){i&&i(e),o.manager.itemError(t)},0)}},n,i)},parse:function(t,i){var r;if(Q(t))r=(new Z).parse(t);else{var s=ot(t);if(!tt(s))throw new Error("THREE.FBXLoader: Unknown format.");if(et(s)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+et(s));r=(new X).parse(s)}var c=e(r),l=n(r),u=o(r,new THREE.TextureLoader(this.manager).setPath(i),l,c),p=a(r,u,c),f=h(r,c),v=d(r,c,f),y=T(r,c,f,v,p);return y}});var x=[],E={ByPolygonVertex:{Direct:function(t,e,n,i){var o=t*i.dataSize,r=t*i.dataSize+i.dataSize;return st(x,i.buffer,o,r)},IndexToDirect:function(t,e,n,i){var o=i.indices[t],r=o*i.dataSize,s=o*i.dataSize+i.dataSize;return st(x,i.buffer,r,s)}},ByPolygon:{Direct:function(t,e,n,i){var o=e*i.dataSize,r=e*i.dataSize+i.dataSize;return st(x,i.buffer,o,r)},IndexToDirect:function(t,e,n,i){var o=i.indices[e],r=o*i.dataSize,s=o*i.dataSize+i.dataSize;return st(x,i.buffer,r,s)}},ByVertice:{Direct:function(t,e,n,i){var o=n*i.dataSize,r=n*i.dataSize+i.dataSize;return st(x,i.buffer,o,r)}},AllSame:{IndexToDirect:function(t,e,n,i){var o=i.indices[0]*i.dataSize,r=i.indices[0]*i.dataSize+i.dataSize;return st(x,i.buffer,o,r)}}};function A(t,e,n,i){return E[i.mappingType][i.referenceType](t,e,n,i)}function C(t){if(void 0===THREE.NURBSCurve)return console.error("THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new THREE.BufferGeometry;var e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new THREE.BufferGeometry;for(var n,i,o=e-1,r=t.KnotVector.a,s=[],a=t.Points.a,c=0,l=a.length;c<l;c+=4)s.push((new THREE.Vector4).fromArray(a,c));if("Closed"===t.Form)s.push(s[0]);else if("Periodic"===t.Form){n=o,i=r.length-1-n;for(c=0;c<o;++c)s.push(s[c])}var u=new THREE.NURBSCurve(o,r,s,n,i),h=u.getPoints(7*s.length),p=new Float32Array(3*h.length);h.forEach(function(t,e){t.toArray(p,3*e)});var d=new THREE.BufferGeometry;return d.addAttribute("position",new THREE.BufferAttribute(p,3)),d}function T(t,e,n,i,o){var r=new THREE.Group,s=S(t,n,i,o,e),a=t.Objects.Model;return s.forEach(function(n){var i=a[n.ID];I(t,n,i,e,r);var o=e.get(n.ID).parents;o.forEach(function(t){var e=s.get(t.ID);void 0!==e&&e.add(n)}),null===n.parent&&r.add(n)}),L(t,n,i,s,e),V(t,e,r),O(t,r),r}function S(t,e,n,i,o){var r=new Map,s=t.Objects.Model;for(var a in s){var c=parseInt(a),l=s[a],u=o.get(c),h=_(u,e,c,l.attrName);if(!h){switch(l.attrType){case"Camera":h=M(t,u);break;case"Light":h=R(t,u);break;case"Mesh":h=k(t,u,n,i);break;case"NurbsCurve":h=B(u,n);break;case"LimbNode":case"Null":default:h=new THREE.Group;break}h.name=THREE.PropertyBinding.sanitizeNodeName(l.attrName),h.ID=c}z(t,h,l),r.set(c,h)}return r}function _(t,e,n,i){var o=null;return t.parents.forEach(function(t){for(var r in e){var s=e[r];s.rawBones.forEach(function(e,r){if(e.ID===t.ID){var a=o;o=new THREE.Bone,o.matrixWorld.copy(e.transformLink),o.name=THREE.PropertyBinding.sanitizeNodeName(i),o.ID=n,s.bones[r]=o,null!==a&&o.add(a)}})}}),o}function M(t,e){var n,i;if(e.children.forEach(function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)}),void 0===i)n=new THREE.Object3D;else{var o=0;void 0!==i.CameraProjectionType&&1===i.CameraProjectionType.value&&(o=1);var r=1;void 0!==i.NearPlane&&(r=i.NearPlane.value/1e3);var s=1e3;void 0!==i.FarPlane&&(s=i.FarPlane.value/1e3);var a=window.innerWidth,c=window.innerHeight;void 0!==i.AspectWidth&&void 0!==i.AspectHeight&&(a=i.AspectWidth.value,c=i.AspectHeight.value);var l=a/c,u=45;void 0!==i.FieldOfView&&(u=i.FieldOfView.value);var h=i.FocalLength?i.FocalLength.value:null;switch(o){case 0:n=new THREE.PerspectiveCamera(u,l,r,s),null!==h&&n.setFocalLength(h);break;case 1:n=new THREE.OrthographicCamera(-a/2,a/2,c/2,-c/2,r,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),n=new THREE.Object3D;break}}return n}function R(t,e){var n,i;if(e.children.forEach(function(e){var n=t.Objects.NodeAttribute[e.ID];void 0!==n&&(i=n)}),void 0===i)n=new THREE.Object3D;else{var o;o=void 0===i.LightType?0:i.LightType.value;var r=16777215;void 0!==i.Color&&(r=(new THREE.Color).fromArray(i.Color.value));var s=void 0===i.Intensity?1:i.Intensity.value/100;void 0!==i.CastLightOnObject&&0===i.CastLightOnObject.value&&(s=0);var a=0;void 0!==i.FarAttenuationEnd&&(a=void 0!==i.EnableFarAttenuation&&0===i.EnableFarAttenuation.value?0:i.FarAttenuationEnd.value/1e3);var c=1;switch(o){case 0:n=new THREE.PointLight(r,s,a,c);break;case 1:n=new THREE.DirectionalLight(r,s);break;case 2:var l=Math.PI/3;void 0!==i.InnerAngle&&(l=THREE.Math.degToRad(i.InnerAngle.value));var u=0;void 0!==i.OuterAngle&&(u=THREE.Math.degToRad(i.OuterAngle.value),u=Math.max(u,1)),n=new THREE.SpotLight(r,s,a,l,u,c);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a THREE.PointLight."),n=new THREE.PointLight(r,s);break}void 0!==i.CastShadows&&1===i.CastShadows.value&&(n.castShadow=!0)}return n}function k(t,e,n,i){var o,r=null,s=null,a=[];return e.children.forEach(function(t){n.has(t.ID)&&(r=n.get(t.ID)),i.has(t.ID)&&a.push(i.get(t.ID))}),a.length>1?s=a:a.length>0?s=a[0]:(s=new THREE.MeshPhongMaterial({color:13421772}),a.push(s)),"color"in r.attributes&&a.forEach(function(t){t.vertexColors=THREE.VertexColors}),r.FBX_Deformer?(a.forEach(function(t){t.skinning=!0}),o=new THREE.SkinnedMesh(r,s)):o=new THREE.Mesh(r,s),o}function B(t,e){var n=t.children.reduce(function(t,n){return e.has(n.ID)&&(t=e.get(n.ID)),t},null),i=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(n,i)}function O(t,e){if("GlobalSettings"in t&&"AmbientColor"in t.GlobalSettings){var n=t.GlobalSettings.AmbientColor.value,i=n[0],o=n[1],r=n[2];if(0!==i||0!==o||0!==r){var s=new THREE.Color(i,o,r);e.add(new THREE.AmbientLight(s,1))}}}function I(t,e,n,i,o){if("LookAtProperty"in n){var r=i.get(e.ID).children;r.forEach(function(n){if("LookAtProperty"===n.relationship){var i=t.Objects.Model[n.ID];if("Lcl_Translation"in i){var r=i.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(r),o.add(e.target)):e.lookAt((new THREE.Vector3).fromArray(r))}}})}}function z(t,e,n){if("RotationOrder"in n){var i=["XYZ","XZY","YZX","ZXY","YXZ","ZYX","SphericXYZ"],o=parseInt(n.RotationOrder.value,10);o>0&&o<6?console.warn("THREE.FBXLoader: unsupported Euler Order: %s. Currently only XYZ order is supported. Animations and rotations may be incorrect.",i[o]):6===o&&console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.")}if("Lcl_Translation"in n&&e.position.fromArray(n.Lcl_Translation.value),"Lcl_Rotation"in n){var r=n.Lcl_Rotation.value.map(THREE.Math.degToRad);r.push("ZYX"),e.rotation.fromArray(r)}if("Lcl_Scaling"in n&&e.scale.fromArray(n.Lcl_Scaling.value),"PreRotation"in n){var s=n.PreRotation.value.map(THREE.Math.degToRad);s[3]="ZYX";var a=(new THREE.Euler).fromArray(s);a=(new THREE.Quaternion).setFromEuler(a);var c=(new THREE.Quaternion).setFromEuler(e.rotation);a.multiply(c),e.rotation.setFromQuaternion(a,"ZYX")}}function L(t,e,n,i,o){var r=P(t);for(var s in e){var a=e[s],c=o.get(parseInt(a.ID)).parents;c.forEach(function(t){if(n.has(t.ID)){var e=t.ID,s=o.get(e);s.parents.forEach(function(t){if(i.has(t.ID)){var e=i.get(t.ID);e.bind(new THREE.Skeleton(a.bones),r[t.ID])}})}})}}function P(t){var e={};if("Pose"in t.Objects){var n=t.Objects.Pose;for(var i in n)if("BindPose"===n[i].attrType){var o=n[i].PoseNode;Array.isArray(o)?o.forEach(function(t){e[t.Node]=(new THREE.Matrix4).fromArray(t.Matrix.a)}):e[o.Node]=(new THREE.Matrix4).fromArray(o.Matrix.a)}}return e}function N(t,e){if(void 0!==t.Objects.AnimationCurve){var n=D(t);F(t,e,n);var i=j(t,e,n),o=H(t,e,i);return o}}function D(t){var e=t.Objects.AnimationCurveNode,n=new Map;for(var i in e){var o=e[i];if(null!==o.attrName.match(/S|R|T/)){var r={id:o.id,attr:o.attrName,curves:{}};n.set(r.id,r)}}return n}function F(t,e,n){var i=t.Objects.AnimationCurve;for(var o in i){var r={id:i[o].id,times:i[o].KeyTime.a.map(nt),values:i[o].KeyValueFloat.a},s=e.get(r.id);if(void 0!==s){var a=s.parents[0].ID,c=s.parents[0].relationship,l="";if(c.match(/X/))l="x";else if(c.match(/Y/))l="y";else{if(!c.match(/Z/))continue;l="z"}n.get(a).curves[l]=r}}}function j(t,e,n){var i=t.Objects.AnimationLayer,o=new Map;for(var r in i){var s=[],a=e.get(parseInt(r));if(void 0!==a){var c=a.children;c.forEach(function(i,o){if(n.has(i.ID)){var r=n.get(i.ID);if(void 0!==r.curves.x||void 0!==r.curves.y||void 0!==r.curves.z){if(void 0===s[o]){var a;e.get(i.ID).parents.forEach(function(t){void 0!==t.relationship&&(a=t.ID)});var c=t.Objects.Model[a.toString()],l={modelName:THREE.PropertyBinding.sanitizeNodeName(c.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};"Lcl_Translation"in c&&(l.initialPosition=c.Lcl_Translation.value),"Lcl_Rotation"in c&&(l.initialRotation=c.Lcl_Rotation.value),"Lcl_Scaling"in c&&(l.initialScale=c.Lcl_Scaling.value),"PreRotation"in c&&(l.preRotations=c.PreRotation.value),s[o]=l}s[o][r.attr]=r}}}),o.set(parseInt(r),s)}}return o}function H(t,e,n){var i=t.Objects.AnimationStack,o={};for(var r in i){var s=e.get(parseInt(r)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var a=n.get(s[0].ID);o[r]={name:i[r].attrName,layer:a}}return o}function V(t,e,n){n.animations=[];var i=N(t,e);if(void 0!==i)for(var o in i){var r=i[o],s=q(r);n.animations.push(s)}}function q(t){var e=[];return t.layer.forEach(function(t){e=e.concat(U(t))}),new THREE.AnimationClip(t.name,-1,e)}function U(t){var e=[];if(void 0!==t.T&&Object.keys(t.T.curves).length>0){var n=W(t.modelName,t.T.curves,t.initialPosition,"position");void 0!==n&&e.push(n)}if(void 0!==t.R&&Object.keys(t.R.curves).length>0){var i=G(t.modelName,t.R.curves,t.initialRotation,t.preRotations);void 0!==i&&e.push(i)}if(void 0!==t.S&&Object.keys(t.S.curves).length>0){var o=W(t.modelName,t.S.curves,t.initialScale,"scale");void 0!==o&&e.push(o)}return e}function W(t,e,n,i){var o=$(e),r=K(o,e,n);return new THREE.VectorKeyframeTrack(t+"."+i,o,r)}function G(t,e,n,i){void 0!==e.x&&(e.x.values=e.x.values.map(THREE.Math.degToRad)),void 0!==e.y&&(e.y.values=e.y.values.map(THREE.Math.degToRad)),void 0!==e.z&&(e.z.values=e.z.values.map(THREE.Math.degToRad));var o=$(e),r=K(o,e,n);void 0!==i&&(i=i.map(THREE.Math.degToRad),i.push("ZYX"),i=(new THREE.Euler).fromArray(i),i=(new THREE.Quaternion).setFromEuler(i));for(var s=new THREE.Quaternion,a=new THREE.Euler,c=[],l=0;l<r.length;l+=3)a.set(r[l],r[l+1],r[l+2],"ZYX"),s.setFromEuler(a),void 0!==i&&s.premultiply(i),s.toArray(c,l/3*4);return new THREE.QuaternionKeyframeTrack(t+".quaternion",o,c)}function K(t,e,n){var i=n,o=[],r=-1,s=-1,a=-1;return t.forEach(function(t){if(e.x&&(r=e.x.times.indexOf(t)),e.y&&(s=e.y.times.indexOf(t)),e.z&&(a=e.z.times.indexOf(t)),-1!==r){var n=e.x.values[r];o.push(n),i[0]=n}else o.push(i[0]);if(-1!==s){var c=e.y.values[s];o.push(c),i[1]=c}else o.push(i[1]);if(-1!==a){var l=e.z.values[a];o.push(l),i[2]=l}else o.push(i[2])}),o}function $(t){var e=[];return void 0!==t.x&&(e=e.concat(t.x.times)),void 0!==t.y&&(e=e.concat(t.y.times)),void 0!==t.z&&(e=e.concat(t.z.times)),e=e.sort(function(t,e){return t-e}).filter(function(t,e,n){return n.indexOf(t)==e}),e}function X(){}function Z(){}function Y(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===e||e}function J(){}function Q(t){var e="Kaydara FBX Binary  \0";return t.byteLength>=e.length&&e===ot(t,0,e.length)}function tt(t){var e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function i(e){var i=t[e-1];return t=t.slice(n+e),n++,i}for(var o=0;o<e.length;++o){var r=i(1);if(r===e[o])return!1}return!0}function et(t){var e=/FBXVersion: (\d+)/,n=t.match(e);if(n){var i=parseInt(n[1]);return i}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function nt(t){return t/46186158e3}function it(t){var e=t.split(",").map(function(t){return parseFloat(t)});return e}function ot(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=t.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(t,e,n))}function rt(t,e){for(var n=0,i=t.length,o=e.length;n<o;n++,i++)t[i]=e[n]}function st(t,e,n,i){for(var o=n,r=0;o<i;o++,r++)t[r]=e[o];return t}Object.assign(X.prototype,{getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(t){this.nodeStack.push(t),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(t,e){this.currentProp=t,this.currentPropName=e},parse:function(t){this.currentIndent=0,this.allNodes=new J,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var e=this,n=t.split("\n");return n.forEach(function(t,i){var o=t.match(/^[\s\t]*;/),r=t.match(/^[\s\t]*$/);if(!o&&!r){var s=t.match("^\\t{"+e.currentIndent+"}(\\w+):(.*){",""),a=t.match("^\\t{"+e.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=t.match("^\\t{"+(e.currentIndent-1)+"}}");s?e.parseNodeBegin(t,s):a?e.parseNodeProperty(t,a,n[++i]):c?e.popStack():t.match(/^[^\s\t}]/)&&e.parseNodePropertyContinued(t)}}),this.allNodes},parseNodeBegin:function(t,e){var n=e[1].trim().replace(/^"/,"").replace(/"$/,""),i=e[2].split(",").map(function(t){return t.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:n},r=this.parseNodeAttr(i),s=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,o):n in s?("PoseNode"===n?s.PoseNode.push(o):void 0!==s[n].id&&(s[n]={},s[n][s[n].id]=s[n]),""!==r.id&&(s[n][r.id]=o)):"number"===typeof r.id?(s[n]={},s[n][r.id]=o):"Properties70"!==n&&(s[n]="PoseNode"===n?[o]:o),"number"===typeof r.id&&(o.id=r.id),""!==r.name&&(o.attrName=r.name),""!==r.type&&(o.attrType=r.type),this.pushStack(o)},parseNodeAttr:function(t){var e=t[0];""!==t[0]&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));var n="",i="";return t.length>1&&(n=t[1].replace(/^(\w+)::/,""),i=t[2]),{id:e,name:n,type:i}},parseNodeProperty:function(t,e,n){var i=e[1].replace(/^"/,"").replace(/"$/,"").trim(),o=e[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===i&&","===o&&(o=n.replace(/"/g,"").replace(/,$/,"").trim());var r=this.getCurrentNode(),s=r.name;if("Properties70"!==s){if("C"===i){var a=o.split(",").slice(1),c=parseInt(a[0]),l=parseInt(a[1]),u=o.split(",").slice(3);u=u.map(function(t){return t.trim().replace(/^"/,"")}),i="connections",o=[c,l],rt(o,u),void 0===r[i]&&(r[i]=[])}"Node"===i&&(r.id=o),i in r&&Array.isArray(r[i])?r[i].push(o):"a"!==i?r[i]=o:r.a=o,this.setCurrentProp(r,i),"a"===i&&","!==o.slice(-1)&&(r.a=it(o))}else this.parseNodeSpecialProperty(t,i,o)},parseNodePropertyContinued:function(t){var e=this.getCurrentNode();e.a+=t,","!==t.slice(-1)&&(e.a=it(e.a))},parseNodeSpecialProperty:function(t,e,n){var i=n.split('",').map(function(t){return t.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=i[0],r=i[1],s=i[2],a=i[3],c=i[4];switch(r){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=it(c);break}this.getPrevNode()[o]={type:r,type2:s,flag:a,value:c},this.setCurrentProp(this.getPrevNode(),o)}}),Object.assign(Z.prototype,{parse:function(t){var e=new Y(t);e.skip(23);var n=e.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+n);var i=new J;while(!this.endOfContent(e)){var o=this.parseNode(e,n);null!==o&&i.add(o.name,o)}return i},endOfContent:function(t){return t.size()%16===0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()},parseNode:function(t,e){var n={},i=e>=7500?t.getUint64():t.getUint32(),o=e>=7500?t.getUint64():t.getUint32(),r=(e>=7500?t.getUint64():t.getUint32(),t.getUint8()),s=t.getString(r);if(0===i)return null;for(var a=[],c=0;c<o;c++)a.push(this.parseProperty(t));var l=a.length>0?a[0]:"",u=a.length>1?a[1]:"",h=a.length>2?a[2]:"";n.singleProperty=1===o&&t.getOffset()===i;while(i>t.getOffset()){var p=this.parseNode(t,e);null!==p&&this.parseSubNode(s,n,p)}return n.propertyList=a,"number"===typeof l&&(n.id=l),""!==u&&(n.attrName=u),""!==h&&(n.attrType=h),""!==s&&(n.name=s),n},parseSubNode:function(t,e,n){if(!0===n.singleProperty){var i=n.propertyList[0];Array.isArray(i)?(e[n.name]=n,n.a=i):e[n.name]=i}else if("Connections"===t&&"C"===n.name){var o=[];n.propertyList.forEach(function(t,e){0!==e&&o.push(t)}),void 0===e.connections&&(e.connections=[]),e.connections.push(o)}else if("Properties70"===n.name){var r=Object.keys(n);r.forEach(function(t){e[t]=n[t]})}else if("Properties70"===t&&"P"===n.name){var s,a=n.propertyList[0],c=n.propertyList[1],l=n.propertyList[2],u=n.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===c.indexOf("Lcl ")&&(c=c.replace("Lcl ","Lcl_")),s="Color"===c||"ColorRGB"===c||"Vector"===c||"Vector3D"===c||0===c.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],e[a]={type:c,type2:l,flag:u,value:s}}else void 0===e[n.name]?"number"===typeof n.id?(e[n.name]={},e[n.name][n.id]=n):e[n.name]=n:"PoseNode"===n.name?(Array.isArray(e[n.name])||(e[n.name]=[e[n.name]]),e[n.name].push(n)):void 0===e[n.name][n.id]&&(e[n.name][n.id]=n)},parseProperty:function(t){var e=t.getString(1);switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":var n=t.getUint32();return t.getArrayBuffer(n);case"S":n=t.getUint32();return t.getString(n);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var i=t.getUint32(),o=t.getUint32(),r=t.getUint32();if(0===o)switch(e){case"b":case"c":return t.getBooleanArray(i);case"d":return t.getFloat64Array(i);case"f":return t.getFloat32Array(i);case"i":return t.getInt32Array(i);case"l":return t.getInt64Array(i)}void 0===window.Zlib&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var s=new Zlib.Inflate(new Uint8Array(t.getArrayBuffer(r))),a=new Y(s.decompress().buffer);switch(e){case"b":case"c":return a.getBooleanArray(i);case"d":return a.getFloat64Array(i);case"f":return a.getFloat32Array(i);case"i":return a.getInt32Array(i);case"l":return a.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}}),Object.assign(Y.prototype,{getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(t){this.offset+=t},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getBoolean());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getInt64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),2147483648&e?(e=4294967295&~e,t=4294967295&~t,4294967295===t&&(e=e+1&4294967295),t=t+1&4294967295,-(4294967296*e+t)):4294967296*e+t},getInt64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt64());return e},getUint64:function(){var t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),4294967296*e+t},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getArrayBuffer:function(t){var e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},getString:function(t){for(var e=new Uint8Array(t),n=0;n<t;n++)e[n]=this.getUint8();var i=e.indexOf(0);return i>=0&&(e=e.slice(0,i)),THREE.LoaderUtils.decodeText(e)}}),Object.assign(J.prototype,{add:function(t,e){this[t]=e}})}()},H6hf:function(t,e,n){var i=n("y3w9");t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t["return"];throw void 0!==r&&i(r.call(t)),e}}},HcvI:function(t,e){t.exports=AFRAME.registerComponent("sphere-collider",{schema:{objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},remove:function(){this.pause()},play:function(){const t=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(t,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const t=this.data;let e;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(e)},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3,i=new Map;return function(){const o=this.el,r=this.data,s=o.getObject3D("mesh"),a=[];let c;function l(n){let o,r,s,l,u,h;n.isEntity&&(r=n.getObject3D("mesh"),r&&(l=(new THREE.Box3).setFromObject(r),h=l.getSize(),u=Math.max(h.x,h.y,h.z)/2,o=Math.sqrt(2*u*u),l.getCenter(e),o&&(s=t.distanceTo(e),s<o+c&&(a.push(n),i.set(n,s)))))}function u(t){return Math.max.apply(null,t.toArray())}s&&(i.clear(),t.copy(o.object3D.getWorldPosition()),o.object3D.getWorldScale(n),c=r.radius*u(n),this.els.forEach(l),a.sort((t,e)=>i.get(t)>i.get(e)?1:-1).forEach(this.handleHit),0===a.length&&o.emit("hit",{el:null}),this.collisions.filter(t=>!i.has(t)).forEach(this.handleHitEnd),this.collisions=a)}}(),handleHit:function(t){t.emit("hit"),t.addState(this.data.state),this.el.emit("hit",{el:t})},handleHitEnd:function(t){t.emit("hitend"),t.removeState(this.data.state),this.el.emit("hitend",{el:t})}})},Hl6p:function(t,e,n){var i=n("R+EB");i.shape2mesh=function(t){for(var e=new THREE.Object3D,n=0;n<t.shapes.length;n++){var o,r=t.shapes[n];switch(r.type){case i.Shape.types.SPHERE:var s=new THREE.SphereGeometry(r.radius,8,8);o=new THREE.Mesh(s,this.currentMaterial);break;case i.Shape.types.PARTICLE:o=new THREE.Mesh(this.particleGeo,this.particleMaterial);var a=this.settings;o.scale.set(a.particleSize,a.particleSize,a.particleSize);break;case i.Shape.types.PLANE:var c=new THREE.PlaneGeometry(10,10,4,4);o=new THREE.Object3D;var l=new THREE.Object3D,u=new THREE.Mesh(c,this.currentMaterial);u.scale.set(100,100,100),l.add(u),u.castShadow=!0,u.receiveShadow=!0,o.add(l);break;case i.Shape.types.BOX:var h=new THREE.BoxGeometry(2*r.halfExtents.x,2*r.halfExtents.y,2*r.halfExtents.z);o=new THREE.Mesh(h,this.currentMaterial);break;case i.Shape.types.CONVEXPOLYHEDRON:for(var p=new THREE.Geometry,d=0;d<r.vertices.length;d++){var f=r.vertices[d];p.vertices.push(new THREE.Vector3(f.x,f.y,f.z))}for(d=0;d<r.faces.length;d++)for(var v=r.faces[d],y=v[0],m=1;m<v.length-1;m++){var g=v[m],w=v[m+1];p.faces.push(new THREE.Face3(y,g,w))}p.computeBoundingSphere(),p.computeFaceNormals(),o=new THREE.Mesh(p,this.currentMaterial);break;case i.Shape.types.HEIGHTFIELD:c=new THREE.Geometry;for(var b=new i.Vec3,x=new i.Vec3,E=new i.Vec3,A=0;A<r.data.length-1;A++)for(var C=0;C<r.data[A].length-1;C++)for(var T=0;T<2;T++){r.getConvexTrianglePillar(A,C,0===T),b.copy(r.pillarConvex.vertices[0]),x.copy(r.pillarConvex.vertices[1]),E.copy(r.pillarConvex.vertices[2]),b.vadd(r.pillarOffset,b),x.vadd(r.pillarOffset,x),E.vadd(r.pillarOffset,E),c.vertices.push(new THREE.Vector3(b.x,b.y,b.z),new THREE.Vector3(x.x,x.y,x.z),new THREE.Vector3(E.x,E.y,E.z));d=c.vertices.length-3;c.faces.push(new THREE.Face3(d,d+1,d+2))}c.computeBoundingSphere(),c.computeFaceNormals(),o=new THREE.Mesh(c,this.currentMaterial);break;case i.Shape.types.TRIMESH:for(c=new THREE.Geometry,b=new i.Vec3,x=new i.Vec3,E=new i.Vec3,d=0;d<r.indices.length/3;d++){r.getTriangleVertices(d,b,x,E),c.vertices.push(new THREE.Vector3(b.x,b.y,b.z),new THREE.Vector3(x.x,x.y,x.z),new THREE.Vector3(E.x,E.y,E.z));m=c.vertices.length-3;c.faces.push(new THREE.Face3(m,m+1,m+2))}c.computeBoundingSphere(),c.computeFaceNormals(),o=new THREE.Mesh(c,this.currentMaterial);break;default:throw"Visual type not recognized: "+r.type}if(o.receiveShadow=!0,o.castShadow=!0,o.children)for(d=0;d<o.children.length;d++)if(o.children[d].castShadow=!0,o.children[d].receiveShadow=!0,o.children[d])for(m=0;m<o.children[d].length;m++)o.children[d].children[m].castShadow=!0,o.children[d].children[m].receiveShadow=!0;var S=t.shapeOffsets[n],_=t.shapeOrientations[n];o.position.set(S.x,S.y,S.z),o.quaternion.set(_.x,_.y,_.z,_.w),e.add(o)}return e},t.exports=i.shape2mesh},"I8a+":function(t,e,n){var i=n("LZWt"),o=n("K0xU")("toStringTag"),r="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},IABr:function(t,e,n){t.exports=r;var i=n("0YQG"),o=n("JcM6");function r(t,e,n,o){this.id=r.id++,this.minForce="undefined"===typeof n?-1e6:n,this.maxForce="undefined"===typeof o?1e6:o,this.bi=t,this.bj=e,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new i,this.jacobianElementB=new i,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}r.prototype.constructor=r,r.id=0,r.prototype.setSpookParams=function(t,e,n){var i=e,o=t,r=n;this.a=4/(r*(1+4*i)),this.b=4*i/(1+4*i),this.eps=4/(r*r*o*(1+4*i))},r.prototype.computeB=function(t,e,n){var i=this.computeGW(),o=this.computeGq(),r=this.computeGiMf();return-o*t-i*e-r*n},r.prototype.computeGq=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,i=this.bj,o=n.position,r=i.position;return t.spatial.dot(o)+e.spatial.dot(r)};new o;r.prototype.computeGW=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,i=this.bj,o=n.velocity,r=i.velocity,s=n.angularVelocity,a=i.angularVelocity;return t.multiplyVectors(o,s)+e.multiplyVectors(r,a)},r.prototype.computeGWlambda=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,i=this.bj,o=n.vlambda,r=i.vlambda,s=n.wlambda,a=i.wlambda;return t.multiplyVectors(o,s)+e.multiplyVectors(r,a)};var s=new o,a=new o,c=new o,l=new o;r.prototype.computeGiMf=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,i=this.bj,o=n.force,r=n.torque,u=i.force,h=i.torque,p=n.invMassSolve,d=i.invMassSolve;return o.scale(p,s),u.scale(d,a),n.invInertiaWorldSolve.vmult(r,c),i.invInertiaWorldSolve.vmult(h,l),t.multiplyVectors(s,c)+e.multiplyVectors(a,l)};var u=new o;r.prototype.computeGiMGt=function(){var t=this.jacobianElementA,e=this.jacobianElementB,n=this.bi,i=this.bj,o=n.invMassSolve,r=i.invMassSolve,s=n.invInertiaWorldSolve,a=i.invInertiaWorldSolve,c=o+r;return s.vmult(t.rotational,u),c+=u.dot(t.rotational),a.vmult(e.rotational,u),c+=u.dot(e.rotational),c};var h=new o;new o,new o,new o,new o,new o;r.prototype.addToWlambda=function(t){var e=this.jacobianElementA,n=this.jacobianElementB,i=this.bi,o=this.bj,r=h;i.vlambda.addScaledVector(i.invMassSolve*t,e.spatial,i.vlambda),o.vlambda.addScaledVector(o.invMassSolve*t,n.spatial,o.vlambda),i.invInertiaWorldSolve.vmult(e.rotational,r),i.wlambda.addScaledVector(t,r,i.wlambda),o.invInertiaWorldSolve.vmult(n.rotational,r),o.wlambda.addScaledVector(t,r,o.wlambda)},r.prototype.computeC=function(){return this.computeGiMGt()+this.eps}},Iw71:function(t,e,n){var i=n("0/R4"),o=n("dyZX").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},"J+6e":function(t,e,n){var i=n("I8a+"),o=n("K0xU")("iterator"),r=n("hPIQ");t.exports=n("g3g5").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},JUsp:function(t,e,n){(function(t){var e="KeyboardEvent"in t;e||(t.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in t.KeyboardEvent||(t.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var n=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,i=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,o=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,r=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function s(t,e){return-1!==String(t).indexOf(e)}var a=function(){return s(navigator.platform,"Win")?"win":s(navigator.platform,"Mac")?"mac":s(navigator.platform,"CrOS")?"cros":s(navigator.platform,"Linux")?"linux":s(navigator.userAgent,"iPad")||s(navigator.platform,"iPod")||s(navigator.platform,"iPhone")?"ios":""}(),c=function(){return s(navigator.userAgent,"Chrome/")?"chrome":s(navigator.vendor,"Apple")?"safari":s(navigator.userAgent,"MSIE")?"ie":s(navigator.userAgent,"Gecko/")?"moz":s(navigator.userAgent,"Opera/")?"opera":""}(),l=c+"-"+a;function u(t,e,n){l!==e&&c!==e&&a!==e||Object.keys(n).forEach(function(e){t[e]=n[e]})}function h(t,e){var n={};return Object.keys(t).forEach(function(i){var o=t[i];e in o&&(n[o[e]]=o)}),n}var p={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:i},92:{code:"OSRight",location:o},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:r},97:{code:"Numpad1",keyCap:"1",location:r},98:{code:"Numpad2",keyCap:"2",location:r},99:{code:"Numpad3",keyCap:"3",location:r},100:{code:"Numpad4",keyCap:"4",location:r},101:{code:"Numpad5",keyCap:"5",location:r},102:{code:"Numpad6",keyCap:"6",location:r},103:{code:"Numpad7",keyCap:"7",location:r},104:{code:"Numpad8",keyCap:"8",location:r},105:{code:"Numpad9",keyCap:"9",location:r},106:{code:"NumpadMultiply",keyCap:"*",location:r},107:{code:"NumpadAdd",keyCap:"+",location:r},108:{code:"NumpadComma",keyCap:",",location:r},109:{code:"NumpadSubtract",keyCap:"-",location:r},110:{code:"NumpadDecimal",keyCap:".",location:r},111:{code:"NumpadDivide",keyCap:"/",location:r},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:r},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:i},161:{code:"ShiftRight",location:o},162:{code:"ControlLeft",location:i},163:{code:"ControlRight",location:o},164:{code:"AltLeft",location:i},165:{code:"AltRight",location:o},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};u(p,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:r},189:{code:"NumpadSubtract",keyCap:"-",location:r}}),u(p,"moz-mac",{12:{code:"NumLock",location:r},173:{code:"Minus",keyCap:"-"}}),u(p,"moz-win",{173:{code:"Minus",keyCap:"-"}}),u(p,"chrome-mac",{93:{code:"OSRight",location:o}}),u(p,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),u(p,"ios",{10:{code:"Enter",location:n}}),u(p,"safari-mac",{91:{code:"OSLeft",location:i},93:{code:"OSRight",location:o},229:{code:"KeyQ",keyCap:"Q"}});var d={};"cros"===a&&(d["U+00A0"]={code:"ShiftLeft",location:i},d["U+00A1"]={code:"ShiftRight",location:o},d["U+00A2"]={code:"ControlLeft",location:i},d["U+00A3"]={code:"ControlRight",location:o},d["U+00A4"]={code:"AltLeft",location:i},d["U+00A5"]={code:"AltRight",location:o}),"chrome-mac"===l&&(d["U+0010"]={code:"ContextMenu"}),"safari-mac"===l&&(d["U+0010"]={code:"ContextMenu"}),"ios"===a&&(d["U+0010"]={code:"Function"},d["U+001C"]={code:"ArrowLeft"},d["U+001D"]={code:"ArrowRight"},d["U+001E"]={code:"ArrowUp"},d["U+001F"]={code:"ArrowDown"},d["U+0001"]={code:"Home"},d["U+0004"]={code:"End"},d["U+000B"]={code:"PageUp"},d["U+000C"]={code:"PageDown"});var f=[];f[i]={16:{code:"ShiftLeft",location:i},17:{code:"ControlLeft",location:i},18:{code:"AltLeft",location:i}},f[o]={16:{code:"ShiftRight",location:o},17:{code:"ControlRight",location:o},18:{code:"AltRight",location:o}},f[r]={13:{code:"NumpadEnter",location:r}},u(f[r],"moz",{109:{code:"NumpadSubtract",location:r},107:{code:"NumpadAdd",location:r}}),u(f[i],"moz-mac",{224:{code:"OSLeft",location:i}}),u(f[o],"moz-mac",{224:{code:"OSRight",location:o}}),u(f[o],"moz-win",{91:{code:"OSRight",location:o}}),u(f[o],"mac",{93:{code:"OSRight",location:o}}),u(f[r],"chrome-mac",{12:{code:"NumLock",location:r}}),u(f[r],"safari-mac",{12:{code:"NumLock",location:r},187:{code:"NumpadAdd",location:r},189:{code:"NumpadSubtract",location:r},190:{code:"NumpadDecimal",location:r},191:{code:"NumpadDivide",location:r}});var v={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};u(v,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var y={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},m=h(p,"code");try{var g=e&&"location"in new KeyboardEvent("")}catch(t){}function w(t){var e="keyCode"in t?t.keyCode:"which"in t?t.which:0,n=function(){if(g||"keyLocation"in t){var n=g?t.location:t.keyLocation;if(n&&e in f[n])return f[n][e]}return"keyIdentifier"in t&&t.keyIdentifier in d?d[t.keyIdentifier]:e in p?p[e]:null}();if(!n)return null;var i=function(){var e=v[n.code];return e?t.shiftKey&&"shiftKey"in e?e.shiftKey:e.key:n.code}();return{code:n.code,key:i,location:n.location,keyCap:n.keyCap}}function b(t,e){if(t=String(t),!m.hasOwnProperty(t))return"Undefined";if(e&&"en-us"!==String(e).toLowerCase())throw Error("Unsupported locale");var n=m[t];return n.keyCap||n.code||"Undefined"}"KeyboardEvent"in t&&"defineProperty"in Object&&function(){function t(t,e,n){e in t||Object.defineProperty(t,e,n)}if(t(KeyboardEvent.prototype,"code",{get:function(){var t=w(this);return t?t.code:""}}),"key"in KeyboardEvent.prototype){var e=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var t=e.get.call(this);return y.hasOwnProperty(t)?y[t]:t}})}t(KeyboardEvent.prototype,"key",{get:function(){var t=w(this);return t&&"key"in t?t.key:"Unidentified"}}),t(KeyboardEvent.prototype,"location",{get:function(){var t=w(this);return t&&"location"in t?t.location:n}}),t(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in t.KeyboardEvent||(t.KeyboardEvent.queryKeyCap=b),t.identifyKey=function(t){if(!("code"in t)){var e=w(t);t.code=e?e.code:"",t.key=e&&"key"in e?e.key:"Unidentified",t.location="location"in t?t.location:"keyLocation"in t?t.keyLocation:e&&"location"in e?e.location:n,t.locale=""}}})(window)},JcM6:function(t,e,n){t.exports=o;var i=n("FKcu");function o(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}o.ZERO=new o(0,0,0),o.UNIT_X=new o(1,0,0),o.UNIT_Y=new o(0,1,0),o.UNIT_Z=new o(0,0,1),o.prototype.cross=function(t,e){var n=t.x,i=t.y,r=t.z,s=this.x,a=this.y,c=this.z;return e=e||new o,e.x=a*r-c*i,e.y=c*n-s*r,e.z=s*i-a*n,e},o.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},o.prototype.setZero=function(){this.x=this.y=this.z=0},o.prototype.vadd=function(t,e){if(!e)return new o(this.x+t.x,this.y+t.y,this.z+t.z);e.x=t.x+this.x,e.y=t.y+this.y,e.z=t.z+this.z},o.prototype.vsub=function(t,e){if(!e)return new o(this.x-t.x,this.y-t.y,this.z-t.z);e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z},o.prototype.crossmat=function(){return new i([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])},o.prototype.normalize=function(){var t=this.x,e=this.y,n=this.z,i=Math.sqrt(t*t+e*e+n*n);if(i>0){var o=1/i;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return i},o.prototype.unit=function(t){t=t||new o;var e=this.x,n=this.y,i=this.z,r=Math.sqrt(e*e+n*n+i*i);return r>0?(r=1/r,t.x=e*r,t.y=n*r,t.z=i*r):(t.x=1,t.y=0,t.z=0),t},o.prototype.norm=function(){var t=this.x,e=this.y,n=this.z;return Math.sqrt(t*t+e*e+n*n)},o.prototype.length=o.prototype.norm,o.prototype.norm2=function(){return this.dot(this)},o.prototype.lengthSquared=o.prototype.norm2,o.prototype.distanceTo=function(t){var e=this.x,n=this.y,i=this.z,o=t.x,r=t.y,s=t.z;return Math.sqrt((o-e)*(o-e)+(r-n)*(r-n)+(s-i)*(s-i))},o.prototype.distanceSquared=function(t){var e=this.x,n=this.y,i=this.z,o=t.x,r=t.y,s=t.z;return(o-e)*(o-e)+(r-n)*(r-n)+(s-i)*(s-i)},o.prototype.mult=function(t,e){e=e||new o;var n=this.x,i=this.y,r=this.z;return e.x=t*n,e.y=t*i,e.z=t*r,e},o.prototype.vmul=function(t,e){return e=e||new o,e.x=t.x*this.x,e.y=t.y*this.y,e.z=t.z*this.z,e},o.prototype.scale=o.prototype.mult,o.prototype.addScaledVector=function(t,e,n){return n=n||new o,n.x=this.x+t*e.x,n.y=this.y+t*e.y,n.z=this.z+t*e.z,n},o.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},o.prototype.isZero=function(){return 0===this.x&&0===this.y&&0===this.z},o.prototype.negate=function(t){return t=t||new o,t.x=-this.x,t.y=-this.y,t.z=-this.z,t};var r=new o,s=new o;o.prototype.tangents=function(t,e){var n=this.norm();if(n>0){var i=r,o=1/n;i.set(this.x*o,this.y*o,this.z*o);var a=s;Math.abs(i.x)<.9?(a.set(1,0,0),i.cross(a,t)):(a.set(0,1,0),i.cross(a,t)),i.cross(t,e)}else t.set(1,0,0),e.set(0,1,0)},o.prototype.toString=function(){return this.x+","+this.y+","+this.z},o.prototype.toArray=function(){return[this.x,this.y,this.z]},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},o.prototype.lerp=function(t,e,n){var i=this.x,o=this.y,r=this.z;n.x=i+(t.x-i)*e,n.y=o+(t.y-o)*e,n.z=r+(t.z-r)*e},o.prototype.almostEquals=function(t,e){return void 0===e&&(e=1e-6),!(Math.abs(this.x-t.x)>e||Math.abs(this.y-t.y)>e||Math.abs(this.z-t.z)>e)},o.prototype.almostZero=function(t){return void 0===t&&(t=1e-6),!(Math.abs(this.x)>t||Math.abs(this.y)>t||Math.abs(this.z)>t)};var a=new o;o.prototype.isAntiparallelTo=function(t,e){return this.negate(a),a.almostEquals(t,e)},o.prototype.clone=function(){return new o(this.x,this.y,this.z)}},JrsB:function(t,e,n){t.exports=a;n("exwj");var i=n("BpkJ"),o=n("7VWh"),r=n("MIOf"),s=(n("Wd2o"),n("JcM6"));function a(t,e,n){n=n||{};var a="undefined"!==typeof n.maxForce?n.maxForce:1e6,c=n.pivotA?n.pivotA.clone():new s,l=n.pivotB?n.pivotB.clone():new s;i.call(this,t,c,e,l,a);var u=this.axisA=n.axisA?n.axisA.clone():new s(1,0,0);u.normalize();var h=this.axisB=n.axisB?n.axisB.clone():new s(1,0,0);h.normalize();var p=this.rotationalEquation1=new o(t,e,n),d=this.rotationalEquation2=new o(t,e,n),f=this.motorEquation=new r(t,e,a);f.enabled=!1,this.equations.push(p,d,f)}a.prototype=new i,a.constructor=a,a.prototype.enableMotor=function(){this.motorEquation.enabled=!0},a.prototype.disableMotor=function(){this.motorEquation.enabled=!1},a.prototype.setMotorSpeed=function(t){this.motorEquation.targetVelocity=t},a.prototype.setMotorMaxForce=function(t){this.motorEquation.maxForce=t,this.motorEquation.minForce=-t};var c=new s,l=new s;a.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.motorEquation,o=this.rotationalEquation1,r=this.rotationalEquation2,s=c,a=l,u=this.axisA,h=this.axisB;i.prototype.update.call(this),t.quaternion.vmult(u,s),e.quaternion.vmult(h,a),s.tangents(o.axisA,r.axisA),o.axisB.copy(a),r.axisB.copy(a),this.motorEquation.enabled&&(t.quaternion.vmult(this.axisA,n.axisA),e.quaternion.vmult(this.axisB,n.axisB))}},K0xU:function(t,e,n){var i=n("VTer")("wks"),o=n("ylqs"),r=n("dyZX").Symbol,s="function"==typeof r,a=t.exports=function(t){return i[t]||(i[t]=s&&r[t]||(s?r:o)("Symbol."+t))};a.store=i},"KHd+":function(t,e,n){"use strict";function i(t,e,n,i,o,r,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}n.d(e,"a",function(){return i})},KroJ:function(t,e,n){var i=n("dyZX"),o=n("Mukb"),r=n("aagx"),s=n("ylqs")("src"),a="toString",c=Function[a],l=(""+c).split(a);n("g3g5").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(r(n,s)||o(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||c.call(this)})},Kw5r:function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function r(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return null==t?"":"object"===typeof t?JSON.stringify(t,null,2):String(t)}function f(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),o=0;o<i.length;o++)n[i[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function w(t,e){return g.call(t,e)}function b(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var x=/-(\w)/g,E=b(function(t){return t.replace(x,function(t,e){return e?e.toUpperCase():""})}),A=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),C=/\B([A-Z])/g,T=b(function(t){return t.replace(C,"-$1").toLowerCase()});function S(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function _(t,e){return t.bind(e)}var M=Function.prototype.bind?_:S;function R(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function k(t,e){for(var n in e)t[n]=e[n];return t}function B(t){for(var e={},n=0;n<t.length;n++)t[n]&&k(e,t[n]);return e}function O(t,e,n){}var I=function(t,e,n){return!1},z=function(t){return t};function L(t,e){if(t===e)return!0;var n=c(t),i=c(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var o=Array.isArray(t),r=Array.isArray(e);if(o&&r)return t.length===e.length&&t.every(function(t,n){return L(t,e[n])});if(o||r)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return L(t[n],e[n])})}catch(t){return!1}}function P(t,e){for(var n=0;n<t.length;n++)if(L(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var D="data-server-rendered",F=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:O,parsePlatformTagName:z,mustUseProp:I,_lifecycleHooks:j};function V(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var U=/[^\w.$]/;function W(t){if(!U.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var G,K="__proto__"in{},$="undefined"!==typeof window,X="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=X&&WXEnvironment.platform.toLowerCase(),Y=$&&window.navigator.userAgent.toLowerCase(),J=Y&&/msie|trident/.test(Y),Q=Y&&Y.indexOf("msie 9.0")>0,tt=Y&&Y.indexOf("edge/")>0,et=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===Z),nt=(Y&&/chrome\/\d+/.test(Y),{}.watch),it=!1;if($)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,ot)}catch(t){}var rt=function(){return void 0===G&&(G=!$&&!X&&"undefined"!==typeof t&&"server"===t["process"].env.VUE_ENV),G},st=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"===typeof t&&/native code/.test(t.toString())}var ct,lt="undefined"!==typeof Symbol&&at(Symbol)&&"undefined"!==typeof Reflect&&at(Reflect.ownKeys);ct="undefined"!==typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=O,ht=0,pt=function(){this.id=ht++,this.subs=[]};pt.prototype.addSub=function(t){this.subs.push(t)},pt.prototype.removeSub=function(t){m(this.subs,t)},pt.prototype.depend=function(){pt.target&&pt.target.addDep(this)},pt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},pt.target=null;var dt=[];function ft(t){pt.target&&dt.push(pt.target),pt.target=t}function vt(){pt.target=dt.pop()}var yt=function(t,e,n,i,o,r,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=o,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(yt.prototype,mt);var gt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function wt(t){return new yt(void 0,void 0,void 0,String(t))}function bt(t){var e=new yt(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var xt=Array.prototype,Et=Object.create(xt),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach(function(t){var e=xt[t];q(Et,t,function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var o,r=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&s.observeArray(o),s.dep.notify(),r})});var Ct=Object.getOwnPropertyNames(Et),Tt=!0;function St(t){Tt=t}var _t=function(t){if(this.value=t,this.dep=new pt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)){var e=K?Mt:Rt;e(t,Et,Ct),this.observeArray(t)}else this.walk(t)};function Mt(t,e,n){t.__proto__=e}function Rt(t,e,n){for(var i=0,o=n.length;i<o;i++){var r=n[i];q(t,r,e[r])}}function kt(t,e){var n;if(c(t)&&!(t instanceof yt))return w(t,"__ob__")&&t.__ob__ instanceof _t?n=t.__ob__:Tt&&!rt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new _t(t)),e&&n&&n.vmCount++,n}function Bt(t,e,n,i,o){var r=new pt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get;a||2!==arguments.length||(n=t[e]);var c=s&&s.set,l=!o&&kt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return pt.target&&(r.depend(),l&&(l.dep.depend(),Array.isArray(e)&&zt(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!==e&&i!==i||(c?c.call(t,e):n=e,l=!o&&kt(e),r.notify())}})}}function Ot(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Bt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function It(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function zt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&zt(e)}_t.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Bt(t,e[n])},_t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)kt(t[e])};var Lt=H.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var n,i,o,r=Object.keys(e),s=0;s<r.length;s++)n=r[s],i=t[n],o=e[n],w(t,n)?u(i)&&u(o)&&Pt(i,o):Ot(t,n,o);return t}function Nt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,o="function"===typeof t?t.call(n,n):t;return i?Pt(i,o):o}:e?t?function(){return Pt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Ft(t,e,n,i){var o=Object.create(t||null);return e?k(o,e):o}Lt.data=function(t,e,n){return n?Nt(t,e,n):e&&"function"!==typeof e?t:Nt(t,e)},j.forEach(function(t){Lt[t]=Dt}),F.forEach(function(t){Lt[t+"s"]=Ft}),Lt.watch=function(t,e,n,i){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var r in k(o,t),e){var s=o[r],a=e[r];s&&!Array.isArray(s)&&(s=[s]),o[r]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,n,i){if(!t)return e;var o=Object.create(null);return k(o,t),e&&k(o,e),o},Lt.provide=Nt;var jt=function(t,e){return void 0===e?t:e};function Ht(t,e){var n=t.props;if(n){var i,o,r,s={};if(Array.isArray(n)){i=n.length;while(i--)o=n[i],"string"===typeof o&&(r=E(o),s[r]={type:null})}else if(u(n))for(var a in n)o=n[a],r=E(a),s[r]=u(o)?o:{type:o};else 0;t.props=s}}function Vt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)i[n[o]]={from:n[o]};else if(u(n))for(var r in n){var s=n[r];i[r]=u(s)?k({from:r},s):{from:s}}else 0}}function qt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Ut(t,e,n){"function"===typeof e&&(e=e.options),Ht(e,n),Vt(e,n),qt(e);var i=e.extends;if(i&&(t=Ut(t,i,n)),e.mixins)for(var o=0,r=e.mixins.length;o<r;o++)t=Ut(t,e.mixins[o],n);var s,a={};for(s in t)c(s);for(s in e)w(t,s)||c(s);function c(i){var o=Lt[i]||jt;a[i]=o(t[i],e[i],n,i)}return a}function Wt(t,e,n,i){if("string"===typeof n){var o=t[e];if(w(o,n))return o[n];var r=E(n);if(w(o,r))return o[r];var s=A(r);if(w(o,s))return o[s];var a=o[n]||o[r]||o[s];return a}}function Gt(t,e,n,i){var o=e[t],r=!w(n,t),s=n[t],a=Zt(Boolean,o.type);if(a>-1)if(r&&!w(o,"default"))s=!1;else if(""===s||s===T(t)){var c=Zt(String,o.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Kt(i,o,t);var l=Tt;St(!0),kt(s),St(l)}return s}function Kt(t,e,n){if(w(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==$t(e.type)?i.call(t):i}}function $t(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Xt(t,e){return $t(t)===$t(e)}function Zt(t,e){if(!Array.isArray(e))return Xt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Xt(e[n],t))return n;return-1}function Yt(t,e,n){if(e){var i=e;while(i=i.$parent){var o=i.$options.errorCaptured;if(o)for(var r=0;r<o.length;r++)try{var s=!1===o[r].call(i,t,e,n);if(s)return}catch(t){Jt(t,i,"errorCaptured hook")}}}Jt(t,e,n)}function Jt(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(t){Qt(t,null,"config.errorHandler")}Qt(t,e,n)}function Qt(t,e,n){if(!$&&!X||"undefined"===typeof console)throw t;console.error(t)}var te,ee,ne=[],ie=!1;function oe(){ie=!1;var t=ne.slice(0);ne.length=0;for(var e=0;e<t.length;e++)t[e]()}var re=!1;if("undefined"!==typeof setImmediate&&at(setImmediate))ee=function(){setImmediate(oe)};else if("undefined"===typeof MessageChannel||!at(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())ee=function(){setTimeout(oe,0)};else{var se=new MessageChannel,ae=se.port2;se.port1.onmessage=oe,ee=function(){ae.postMessage(1)}}if("undefined"!==typeof Promise&&at(Promise)){var ce=Promise.resolve();te=function(){ce.then(oe),et&&setTimeout(O)}}else te=ee;function le(t){return t._withTask||(t._withTask=function(){re=!0;var e=t.apply(null,arguments);return re=!1,e})}function ue(t,e){var n;if(ne.push(function(){if(t)try{t.call(e)}catch(t){Yt(t,e,"nextTick")}else n&&n(e)}),ie||(ie=!0,re?ee():te()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var he=new ct;function pe(t){de(t,he),he.clear()}function de(t,e){var n,i,o=Array.isArray(t);if(!(!o&&!c(t)||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(o){n=t.length;while(n--)de(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)de(t[i[n]],e)}}}var fe,ve=b(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}});function ye(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),o=0;o<i.length;o++)i[o].apply(null,t)}return e.fns=t,e}function me(t,e,n,o,r){var s,a,c,l;for(s in t)a=t[s],c=e[s],l=ve(s),i(a)||(i(c)?(i(a.fns)&&(a=t[s]=ye(a)),n(l.name,a,l.once,l.capture,l.passive,l.params)):a!==c&&(c.fns=a,t[s]=c));for(s in e)i(t[s])&&(l=ve(s),o(l.name,e[s],l.capture))}function ge(t,e,n){var s;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),m(s.fns,c)}i(a)?s=ye([c]):o(a.fns)&&r(a.merged)?(s=a,s.fns.push(c)):s=ye([a,c]),s.merged=!0,t[e]=s}function we(t,e,n){var r=e.options.props;if(!i(r)){var s={},a=t.attrs,c=t.props;if(o(a)||o(c))for(var l in r){var u=T(l);be(s,c,l,u,!0)||be(s,a,l,u,!1)}return s}}function be(t,e,n,i,r){if(o(e)){if(w(e,n))return t[n]=e[n],r||delete e[n],!0;if(w(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function xe(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ee(t){return a(t)?[wt(t)]:Array.isArray(t)?Ce(t):void 0}function Ae(t){return o(t)&&o(t.text)&&s(t.isComment)}function Ce(t,e){var n,s,c,l,u=[];for(n=0;n<t.length;n++)s=t[n],i(s)||"boolean"===typeof s||(c=u.length-1,l=u[c],Array.isArray(s)?s.length>0&&(s=Ce(s,(e||"")+"_"+n),Ae(s[0])&&Ae(l)&&(u[c]=wt(l.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?Ae(l)?u[c]=wt(l.text+s):""!==s&&u.push(wt(s)):Ae(s)&&Ae(l)?u[c]=wt(l.text+s.text):(r(t._isVList)&&o(s.tag)&&i(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+n+"__"),u.push(s)));return u}function Te(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function Se(t,e,n,i,o){var r=gt();return r.asyncFactory=t,r.asyncMeta={data:e,context:n,children:i,tag:o},r}function _e(t,e,n){if(r(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(r(t.loading)&&o(t.loadingComp))return t.loadingComp;if(!o(t.contexts)){var s=t.contexts=[n],a=!0,l=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},u=N(function(n){t.resolved=Te(n,e),a||l()}),h=N(function(e){o(t.errorComp)&&(t.error=!0,l())}),p=t(u,h);return c(p)&&("function"===typeof p.then?i(t.resolved)&&p.then(u,h):o(p.component)&&"function"===typeof p.component.then&&(p.component.then(u,h),o(p.error)&&(t.errorComp=Te(p.error,e)),o(p.loading)&&(t.loadingComp=Te(p.loading,e),0===p.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,l())},p.delay||200)),o(p.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},p.timeout))),a=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}function Me(t){return t.isComment&&t.asyncFactory}function Re(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Me(n)))return n}}function ke(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ie(t,e)}function Be(t,e,n){n?fe.$once(t,e):fe.$on(t,e)}function Oe(t,e){fe.$off(t,e)}function Ie(t,e,n){fe=t,me(e,n||{},Be,Oe,t),fe=void 0}function ze(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this,o=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i.$on(t[r],n);else(o._events[t]||(o._events[t]=[])).push(n),e.test(t)&&(o._hasHookEvent=!0);return o},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this,i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var o=0,r=t.length;o<r;o++)n.$off(t[o],e);return i}var s=i._events[t];if(!s)return i;if(!e)return i._events[t]=null,i;if(e){var a,c=s.length;while(c--)if(a=s[c],a===e||a.fn===e){s.splice(c,1);break}}return i},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var i=R(arguments,1),o=0,r=n.length;o<r;o++)try{n[o].apply(e,i)}catch(n){Yt(n,e,'event handler for "'+t+'"')}}return e}}function Le(t,e){var n={};if(!t)return n;for(var i=0,o=t.length;i<o;i++){var r=t[i],s=r.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,r.context!==e&&r.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(r);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===r.tag?c.push.apply(c,r.children||[]):c.push(r)}}for(var l in n)n[l].every(Pe)&&delete n[l];return n}function Pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ne(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?Ne(t[n],e):e[t[n].key]=t[n].fn;return e}var De=null;function Fe(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function je(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&Ge(n,"beforeUpdate");var i=n.$el,o=n._vnode,r=De;De=n,n._vnode=t,o?n.$el=n.__patch__(o,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),De=r,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ge(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ge(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function He(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=gt),Ge(t,"beforeMount"),i=function(){t._update(t._render(),n)},new an(t,i,O,null,!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ge(t,"mounted")),t}function Ve(t,e,i,o,r){var s=!!(r||t.$options._renderChildren||o.data.scopedSlots||t.$scopedSlots!==n);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=r,t.$attrs=o.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){St(!1);for(var a=t._props,c=t.$options._propKeys||[],l=0;l<c.length;l++){var u=c[l],h=t.$options.props;a[u]=Gt(u,h,e,t)}St(!0),t.$options.propsData=e}i=i||n;var p=t.$options._parentListeners;t.$options._parentListeners=i,Ie(t,i,p),s&&(t.$slots=Le(r,o.context),t.$forceUpdate())}function qe(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ue(t,e){if(e){if(t._directInactive=!1,qe(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ue(t.$children[n]);Ge(t,"activated")}}function We(t,e){if((!e||(t._directInactive=!0,!qe(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)We(t.$children[n]);Ge(t,"deactivated")}}function Ge(t,e){ft();var n=t.$options[e];if(n)for(var i=0,o=n.length;i<o;i++)try{n[i].call(t)}catch(n){Yt(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Ke=[],$e=[],Xe={},Ze=!1,Ye=!1,Je=0;function Qe(){Je=Ke.length=$e.length=0,Xe={},Ze=Ye=!1}function tn(){var t,e;for(Ye=!0,Ke.sort(function(t,e){return t.id-e.id}),Je=0;Je<Ke.length;Je++)t=Ke[Je],e=t.id,Xe[e]=null,t.run();var n=$e.slice(),i=Ke.slice();Qe(),on(n),en(i),st&&H.devtools&&st.emit("flush")}function en(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&Ge(i,"updated")}}function nn(t){t._inactive=!1,$e.push(t)}function on(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ue(t[e],!0)}function rn(t){var e=t.id;if(null==Xe[e]){if(Xe[e]=!0,Ye){var n=Ke.length-1;while(n>Je&&Ke[n].id>t.id)n--;Ke.splice(n+1,0,t)}else Ke.push(t);Ze||(Ze=!0,ue(tn))}}var sn=0,an=function(t,e,n,i,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++sn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ct,this.newDepIds=new ct,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};an.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Yt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&pe(t),vt(),this.cleanupDeps()}return t},an.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},an.prototype.cleanupDeps=function(){var t=this,e=this.deps.length;while(e--){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},an.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():rn(this)},an.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Yt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},an.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},an.prototype.depend=function(){var t=this,e=this.deps.length;while(e--)t.deps[e].depend()},an.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);var e=this.deps.length;while(e--)t.deps[e].removeSub(t);this.active=!1}};var cn={enumerable:!0,configurable:!0,get:O,set:O};function ln(t,e,n){cn.get=function(){return this[e][n]},cn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,cn)}function un(t){t._watchers=[];var e=t.$options;e.props&&hn(t,e.props),e.methods&&gn(t,e.methods),e.data?pn(t):kt(t._data={},!0),e.computed&&vn(t,e.computed),e.watch&&e.watch!==nt&&wn(t,e.watch)}function hn(t,e){var n=t.$options.propsData||{},i=t._props={},o=t.$options._propKeys=[],r=!t.$parent;r||St(!1);var s=function(r){o.push(r);var s=Gt(r,e,n,t);Bt(i,r,s),r in t||ln(t,"_props",r)};for(var a in e)s(a);St(!0)}function pn(t){var e=t.$options.data;e=t._data="function"===typeof e?dn(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,o=(t.$options.methods,n.length);while(o--){var r=n[o];0,i&&w(i,r)||V(r)||ln(t,"_data",r)}kt(e,!0)}function dn(t,e){ft();try{return t.call(e,e)}catch(t){return Yt(t,e,"data()"),{}}finally{vt()}}var fn={lazy:!0};function vn(t,e){var n=t._computedWatchers=Object.create(null),i=rt();for(var o in e){var r=e[o],s="function"===typeof r?r:r.get;0,i||(n[o]=new an(t,s||O,O,fn)),o in t||yn(t,o,r)}}function yn(t,e,n){var i=!rt();"function"===typeof n?(cn.get=i?mn(e):n,cn.set=O):(cn.get=n.get?i&&!1!==n.cache?mn(e):n.get:O,cn.set=n.set?n.set:O),Object.defineProperty(t,e,cn)}function mn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function gn(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?O:M(e[n],t)}function wn(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var o=0;o<i.length;o++)bn(t,n,i[o]);else bn(t,n,i)}}function bn(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function xn(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ot,t.prototype.$delete=It,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return bn(i,t,e,n);n=n||{},n.user=!0;var o=new an(i,t,e,n);return n.immediate&&e.call(i,o.value),function(){o.teardown()}}}function En(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function An(t){var e=Cn(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach(function(n){Bt(t,n,e[n])}),St(!0))}function Cn(t,e){if(t){for(var n=Object.create(null),i=lt?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),o=0;o<i.length;o++){var r=i[o],s=t[r].from,a=e;while(a){if(a._provided&&w(a._provided,s)){n[r]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[r]){var c=t[r].default;n[r]="function"===typeof c?c.call(e):c}else 0}return n}}function Tn(t,e){var n,i,r,s,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(c(t))for(s=Object.keys(t),n=new Array(s.length),i=0,r=s.length;i<r;i++)a=s[i],n[i]=e(t[a],a,i);return o(n)&&(n._isVList=!0),n}function Sn(t,e,n,i){var o,r=this.$scopedSlots[t];if(r)n=n||{},i&&(n=k(k({},i),n)),o=r(n)||e;else{var s=this.$slots[t];s&&(s._rendered=!0),o=s||e}var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function _n(t){return Wt(this.$options,"filters",t,!0)||z}function Mn(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Rn(t,e,n,i,o){var r=H.keyCodes[e]||n;return o&&i&&!H.keyCodes[e]?Mn(o,i):r?Mn(r,t):i?T(i)!==e:void 0}function kn(t,e,n,i,o){if(n)if(c(n)){var r;Array.isArray(n)&&(n=B(n));var s=function(s){if("class"===s||"style"===s||y(s))r=t;else{var a=t.attrs&&t.attrs.type;r=i||H.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(s in r)&&(r[s]=n[s],o)){var c=t.on||(t.on={});c["update:"+s]=function(t){n[s]=t}}};for(var a in n)s(a)}else;return t}function Bn(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),In(i,"__static__"+t,!1),i)}function On(t,e,n){return In(t,"__once__"+e+(n?"_"+n:""),!0),t}function In(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&zn(t[i],e+"_"+i,n);else zn(t,e,n)}function zn(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ln(t,e){if(e)if(u(e)){var n=t.on=t.on?k({},t.on):{};for(var i in e){var o=n[i],r=e[i];n[i]=o?[].concat(o,r):r}}else;return t}function Pn(t){t._o=On,t._n=f,t._s=d,t._l=Tn,t._t=Sn,t._q=L,t._i=P,t._m=Bn,t._f=_n,t._k=Rn,t._b=kn,t._v=wt,t._e=gt,t._u=Ne,t._g=Ln}function Nn(t,e,i,o,s){var a,c=s.options;w(o,"_uid")?(a=Object.create(o),a._original=o):(a=o,o=o._original);var l=r(c._compiled),u=!l;this.data=t,this.props=e,this.children=i,this.parent=o,this.listeners=t.on||n,this.injections=Cn(c.inject,o),this.slots=function(){return Le(i,o)},l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||n),c._scopeId?this._c=function(t,e,n,i){var r=Xn(a,t,e,n,i,u);return r&&!Array.isArray(r)&&(r.fnScopeId=c._scopeId,r.fnContext=o),r}:this._c=function(t,e,n,i){return Xn(a,t,e,n,i,u)}}function Dn(t,e,i,r,s){var a=t.options,c={},l=a.props;if(o(l))for(var u in l)c[u]=Gt(u,l,e||n);else o(i.attrs)&&jn(c,i.attrs),o(i.props)&&jn(c,i.props);var h=new Nn(i,c,s,r,t),p=a.render.call(null,h._c,h);if(p instanceof yt)return Fn(p,i,h.parent,a);if(Array.isArray(p)){for(var d=Ee(p)||[],f=new Array(d.length),v=0;v<d.length;v++)f[v]=Fn(d[v],i,h.parent,a);return f}}function Fn(t,e,n,i){var o=bt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function jn(t,e){for(var n in e)t[E(n)]=e[n]}Pn(Nn.prototype);var Hn={init:function(t,e,n,i){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var o=t;Hn.prepatch(o,o)}else{var r=t.componentInstance=Un(t,De,n,i);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Ve(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Ge(n,"mounted")),t.data.keepAlive&&(e._isMounted?nn(n):Ue(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?We(e,!0):e.$destroy())}},Vn=Object.keys(Hn);function qn(t,e,n,s,a){if(!i(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=_e(u,l,n),void 0===t))return Se(u,e,n,s,a);e=e||{},oi(t),o(e.model)&&Gn(t.options,e);var h=we(e,t,a);if(r(t.options.functional))return Dn(t,h,e,n,s);var p=e.on;if(e.on=e.nativeOn,r(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}Wn(e);var f=t.options.name||a,v=new yt("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:p,tag:a,children:s},u);return v}}}function Un(t,e,n,i){var r={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return o(s)&&(r.render=s.render,r.staticRenderFns=s.staticRenderFns),new t.componentOptions.Ctor(r)}function Wn(t){for(var e=t.hook||(t.hook={}),n=0;n<Vn.length;n++){var i=Vn[n];e[i]=Hn[i]}}function Gn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});o(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}var Kn=1,$n=2;function Xn(t,e,n,i,o,s){return(Array.isArray(n)||a(n))&&(o=i,i=n,n=void 0),r(s)&&(o=$n),Zn(t,e,n,i,o)}function Zn(t,e,n,i,r){if(o(n)&&o(n.__ob__))return gt();if(o(n)&&o(n.is)&&(e=n.is),!e)return gt();var s,a,c;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===$n?i=Ee(i):r===Kn&&(i=xe(i)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),s=H.isReservedTag(e)?new yt(H.parsePlatformTagName(e),n,i,void 0,void 0,t):o(c=Wt(t.$options,"components",e))?qn(c,n,t,i,e):new yt(e,n,i,void 0,void 0,t)):s=qn(e,n,t,i);return Array.isArray(s)?s:o(s)?(o(a)&&Yn(s,a),o(n)&&Jn(n),s):gt()}function Yn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var s=0,a=t.children.length;s<a;s++){var c=t.children[s];o(c.tag)&&(i(c.ns)||r(n)&&"svg"!==c.tag)&&Yn(c,e,n)}}function Jn(t){c(t.style)&&pe(t.style),c(t.class)&&pe(t.class)}function Qn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,o=i&&i.context;t.$slots=Le(e._renderChildren,o),t.$scopedSlots=n,t._c=function(e,n,i,o){return Xn(t,e,n,i,o,!1)},t.$createElement=function(e,n,i,o){return Xn(t,e,n,i,o,!0)};var r=i&&i.data;Bt(t,"$attrs",r&&r.attrs||n,null,!0),Bt(t,"$listeners",e._parentListeners||n,null,!0)}function ti(t){Pn(t.prototype),t.prototype.$nextTick=function(t){return ue(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,o=i.render,r=i._parentVnode;r&&(e.$scopedSlots=r.data.scopedSlots||n),e.$vnode=r;try{t=o.call(e._renderProxy,e.$createElement)}catch(n){Yt(n,e,"render"),t=e._vnode}return t instanceof yt||(t=gt()),t.parent=r,t}}var ei=0;function ni(t){t.prototype._init=function(t){var e=this;e._uid=ei++,e._isVue=!0,t&&t._isComponent?ii(e,t):e.$options=Ut(oi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Fe(e),ke(e),Qn(e),Ge(e,"beforeCreate"),An(e),un(e),En(e),Ge(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function ii(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i,n._parentElm=e._parentElm,n._refElm=e._refElm;var o=i.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function oi(t){var e=t.options;if(t.super){var n=oi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var o=ri(t);o&&k(t.extendOptions,o),e=t.options=Ut(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function ri(t){var e,n=t.options,i=t.extendOptions,o=t.sealedOptions;for(var r in n)n[r]!==o[r]&&(e||(e={}),e[r]=si(n[r],i[r],o[r]));return e}function si(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var o=0;o<t.length;o++)(e.indexOf(t[o])>=0||n.indexOf(t[o])<0)&&i.push(t[o]);return i}return t}function ai(t){this._init(t)}function ci(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function li(t){t.mixin=function(t){return this.options=Ut(this.options,t),this}}function ui(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,o=t._Ctor||(t._Ctor={});if(o[i])return o[i];var r=t.name||n.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Ut(n.options,t),s["super"]=n,s.options.props&&hi(s),s.options.computed&&pi(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,F.forEach(function(t){s[t]=n[t]}),r&&(s.options.components[r]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=k({},s.options),o[i]=s,s}}function hi(t){var e=t.options.props;for(var n in e)ln(t.prototype,"_props",n)}function pi(t){var e=t.options.computed;for(var n in e)yn(t.prototype,n,e[n])}function di(t){F.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function fi(t){return t&&(t.Ctor.options.name||t.tag)}function vi(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function yi(t,e){var n=t.cache,i=t.keys,o=t._vnode;for(var r in n){var s=n[r];if(s){var a=fi(s.componentOptions);a&&!e(a)&&mi(n,r,i,o)}}}function mi(t,e,n,i){var o=t[e];!o||i&&o.tag===i.tag||o.componentInstance.$destroy(),t[e]=null,m(n,e)}ni(ai),xn(ai),ze(ai),je(ai),ti(ai);var gi=[String,RegExp,Array],wi={name:"keep-alive",abstract:!0,props:{include:gi,exclude:gi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)mi(t.cache,e,t.keys)},mounted:function(){var t=this;this.$watch("include",function(e){yi(t,function(t){return vi(e,t)})}),this.$watch("exclude",function(e){yi(t,function(t){return!vi(e,t)})})},render:function(){var t=this.$slots.default,e=Re(t),n=e&&e.componentOptions;if(n){var i=fi(n),o=this,r=o.include,s=o.exclude;if(r&&(!i||!vi(r,i))||s&&i&&vi(s,i))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,m(l,u),l.push(u)):(c[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&mi(c,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},bi={KeepAlive:wi};function xi(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:k,mergeOptions:Ut,defineReactive:Bt},t.set=Ot,t.delete=It,t.nextTick=ue,t.options=Object.create(null),F.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,k(t.options.components,bi),ci(t),li(t),ui(t),di(t)}xi(ai),Object.defineProperty(ai.prototype,"$isServer",{get:rt}),Object.defineProperty(ai.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ai,"FunctionalRenderContext",{value:Nn}),ai.version="2.5.16";var Ei=v("style,class"),Ai=v("input,textarea,option,select,progress"),Ci=function(t,e,n){return"value"===n&&Ai(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ti=v("contenteditable,draggable,spellcheck"),Si=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),_i="http://www.w3.org/1999/xlink",Mi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ri=function(t){return Mi(t)?t.slice(6,t.length):""},ki=function(t){return null==t||!1===t};function Bi(t){var e=t.data,n=t,i=t;while(o(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Oi(i.data,e));while(o(n=n.parent))n&&n.data&&(e=Oi(e,n.data));return Ii(e.staticClass,e.class)}function Oi(t,e){return{staticClass:zi(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Ii(t,e){return o(t)||o(e)?zi(t,Li(e)):""}function zi(t,e){return t?e?t+" "+e:t:e||""}function Li(t){return Array.isArray(t)?Pi(t):c(t)?Ni(t):"string"===typeof t?t:""}function Pi(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=Li(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ni(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Di={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Fi=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ji=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Hi=function(t){return Fi(t)||ji(t)};function Vi(t){return ji(t)?"svg":"math"===t?"math":void 0}var qi=Object.create(null);function Ui(t){if(!$)return!0;if(Hi(t))return!1;if(t=t.toLowerCase(),null!=qi[t])return qi[t];var e=document.createElement(t);return t.indexOf("-")>-1?qi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:qi[t]=/HTMLUnknownElement/.test(e.toString())}var Wi=v("text,number,password,search,email,tel,url");function Gi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Ki(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function $i(t,e){return document.createElementNS(Di[t],e)}function Xi(t){return document.createTextNode(t)}function Zi(t){return document.createComment(t)}function Yi(t,e,n){t.insertBefore(e,n)}function Ji(t,e){t.removeChild(e)}function Qi(t,e){t.appendChild(e)}function to(t){return t.parentNode}function eo(t){return t.nextSibling}function no(t){return t.tagName}function io(t,e){t.textContent=e}function oo(t,e){t.setAttribute(e,"")}var ro=Object.freeze({createElement:Ki,createElementNS:$i,createTextNode:Xi,createComment:Zi,insertBefore:Yi,removeChild:Ji,appendChild:Qi,parentNode:to,nextSibling:eo,tagName:no,setTextContent:io,setStyleScope:oo}),so={create:function(t,e){ao(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ao(t,!0),ao(e))},destroy:function(t){ao(t,!0)}};function ao(t,e){var n=t.data.ref;if(o(n)){var i=t.context,r=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[n])?m(s[n],r):s[n]===r&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(r)<0&&s[n].push(r):s[n]=[r]:s[n]=r}}var co=new yt("",{},[]),lo=["create","activate","update","remove","destroy"];function uo(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&ho(t,e)||r(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function ho(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r||Wi(i)&&Wi(r)}function po(t,e,n){var i,r,s={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(s[r]=i);return s}function fo(t){var e,n,s={},c=t.modules,l=t.nodeOps;for(e=0;e<lo.length;++e)for(s[lo[e]]=[],n=0;n<c.length;++n)o(c[n][lo[e]])&&s[lo[e]].push(c[n][lo[e]]);function u(t){return new yt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&p(t)}return n.listeners=e,n}function p(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function d(t,e,n,i,s,a,c){if(o(t.elm)&&o(a)&&(t=a[c]=bt(t)),t.isRootInsert=!s,!f(t,e,n,i)){var u=t.data,h=t.children,p=t.tag;o(p)?(t.elm=t.ns?l.createElementNS(t.ns,p):l.createElement(p,t),E(t),w(t,h,e),o(u)&&x(t,e),g(n,t.elm,i)):r(t.isComment)?(t.elm=l.createComment(t.text),g(n,t.elm,i)):(t.elm=l.createTextNode(t.text),g(n,t.elm,i))}}function f(t,e,n,i){var s=t.data;if(o(s)){var a=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1,n,i),o(t.componentInstance))return y(t,e),r(a)&&m(t,e,n,i),!0}}function y(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(x(t,e),E(t)):(ao(t),e.push(t))}function m(t,e,n,i){var r,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,o(r=a.data)&&o(r=r.transition)){for(r=0;r<s.activate.length;++r)s.activate[r](co,a);e.push(a);break}g(n,t.elm,i)}function g(t,e,n){o(t)&&(o(n)?n.parentNode===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function w(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)d(e[i],n,t.elm,null,!0,e,i)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function x(t,n){for(var i=0;i<s.create.length;++i)s.create[i](co,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(co,t),o(e.insert)&&n.push(t))}function E(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}o(e=De)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function A(t,e,n,i,o,r){for(;i<=o;++i)d(n[i],r,t,e,!1,n,i)}function C(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function T(t,e,n,i){for(;n<=i;++n){var r=e[n];o(r)&&(o(r.tag)?(S(r),C(r)):p(r.elm))}}function S(t,e){if(o(e)||o(t.data)){var n,i=s.remove.length+1;for(o(e)?e.listeners+=i:e=h(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&S(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else p(t.elm)}function _(t,e,n,r,s){var a,c,u,h,p=0,f=0,v=e.length-1,y=e[0],m=e[v],g=n.length-1,w=n[0],b=n[g],x=!s;while(p<=v&&f<=g)i(y)?y=e[++p]:i(m)?m=e[--v]:uo(y,w)?(R(y,w,r),y=e[++p],w=n[++f]):uo(m,b)?(R(m,b,r),m=e[--v],b=n[--g]):uo(y,b)?(R(y,b,r),x&&l.insertBefore(t,y.elm,l.nextSibling(m.elm)),y=e[++p],b=n[--g]):uo(m,w)?(R(m,w,r),x&&l.insertBefore(t,m.elm,y.elm),m=e[--v],w=n[++f]):(i(a)&&(a=po(e,p,v)),c=o(w.key)?a[w.key]:M(w,e,p,v),i(c)?d(w,r,t,y.elm,!1,n,f):(u=e[c],uo(u,w)?(R(u,w,r),e[c]=void 0,x&&l.insertBefore(t,u.elm,y.elm)):d(w,r,t,y.elm,!1,n,f)),w=n[++f]);p>v?(h=i(n[g+1])?null:n[g+1].elm,A(t,h,n,f,g,r)):f>g&&T(t,e,p,v)}function M(t,e,n,i){for(var r=n;r<i;r++){var s=e[r];if(o(s)&&uo(t,s))return r}}function R(t,e,n,a){if(t!==e){var c=e.elm=t.elm;if(r(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?O(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(r(e.isStatic)&&r(t.isStatic)&&e.key===t.key&&(r(e.isCloned)||r(e.isOnce)))e.componentInstance=t.componentInstance;else{var u,h=e.data;o(h)&&o(u=h.hook)&&o(u=u.prepatch)&&u(t,e);var p=t.children,d=e.children;if(o(h)&&b(e)){for(u=0;u<s.update.length;++u)s.update[u](t,e);o(u=h.hook)&&o(u=u.update)&&u(t,e)}i(e.text)?o(p)&&o(d)?p!==d&&_(c,p,d,n,a):o(d)?(o(t.text)&&l.setTextContent(c,""),A(c,null,d,0,d.length-1,n)):o(p)?T(c,p,0,p.length-1):o(t.text)&&l.setTextContent(c,""):t.text!==e.text&&l.setTextContent(c,e.text),o(h)&&o(u=h.hook)&&o(u=u.postpatch)&&u(t,e)}}}function k(t,e,n){if(r(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var B=v("attrs,class,staticClass,staticStyle,key");function O(t,e,n,i){var s,a=e.tag,c=e.data,l=e.children;if(i=i||c&&c.pre,e.elm=t,r(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(s=c.hook)&&o(s=s.init)&&s(e,!0),o(s=e.componentInstance)))return y(e,n),!0;if(o(a)){if(o(l))if(t.hasChildNodes())if(o(s=c)&&o(s=s.domProps)&&o(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,p=0;p<l.length;p++){if(!h||!O(h,l[p],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else w(e,l,n);if(o(c)){var d=!1;for(var f in c)if(!B(f)){d=!0,x(e,n);break}!d&&c["class"]&&pe(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a,c,h){if(!i(e)){var p=!1,f=[];if(i(t))p=!0,d(e,f,c,h);else{var v=o(t.nodeType);if(!v&&uo(t,e))R(t,e,f,a);else{if(v){if(1===t.nodeType&&t.hasAttribute(D)&&(t.removeAttribute(D),n=!0),r(n)&&O(t,e,f))return k(e,f,!0),t;t=u(t)}var y=t.elm,m=l.parentNode(y);if(d(e,f,y._leaveCb?null:m,l.nextSibling(y)),o(e.parent)){var g=e.parent,w=b(e);while(g){for(var x=0;x<s.destroy.length;++x)s.destroy[x](g);if(g.elm=e.elm,w){for(var E=0;E<s.create.length;++E)s.create[E](co,g);var A=g.data.hook.insert;if(A.merged)for(var S=1;S<A.fns.length;S++)A.fns[S]()}else ao(g);g=g.parent}}o(m)?T(m,[t],0,0):o(t.tag)&&C(t)}}return k(e,f,p),e.elm}o(t)&&C(t)}}var vo={create:yo,update:yo,destroy:function(t){yo(t,co)}};function yo(t,e){(t.data.directives||e.data.directives)&&mo(t,e)}function mo(t,e){var n,i,o,r=t===co,s=e===co,a=wo(t.data.directives,t.context),c=wo(e.data.directives,e.context),l=[],u=[];for(n in c)i=a[n],o=c[n],i?(o.oldValue=i.value,xo(o,"update",e,t),o.def&&o.def.componentUpdated&&u.push(o)):(xo(o,"bind",e,t),o.def&&o.def.inserted&&l.push(o));if(l.length){var h=function(){for(var n=0;n<l.length;n++)xo(l[n],"inserted",e,t)};r?ge(e,"insert",h):h()}if(u.length&&ge(e,"postpatch",function(){for(var n=0;n<u.length;n++)xo(u[n],"componentUpdated",e,t)}),!r)for(n in a)c[n]||xo(a[n],"unbind",t,t,s)}var go=Object.create(null);function wo(t,e){var n,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=go),o[bo(i)]=i,i.def=Wt(e.$options,"directives",i.name,!0);return o}function bo(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function xo(t,e,n,i,o){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,i,o)}catch(i){Yt(i,n.context,"directive "+t.name+" "+e+" hook")}}var Eo=[so,vo];function Ao(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var r,s,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(r in o(u.__ob__)&&(u=e.data.attrs=k({},u)),u)s=u[r],a=l[r],a!==s&&Co(c,r,s);for(r in(J||tt)&&u.value!==l.value&&Co(c,"value",u.value),l)i(u[r])&&(Mi(r)?c.removeAttributeNS(_i,Ri(r)):Ti(r)||c.removeAttribute(r))}}function Co(t,e,n){t.tagName.indexOf("-")>-1?To(t,e,n):Si(e)?ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ti(e)?t.setAttribute(e,ki(n)||"false"===n?"false":"true"):Mi(e)?ki(n)?t.removeAttributeNS(_i,Ri(e)):t.setAttributeNS(_i,e,n):To(t,e,n)}function To(t,e,n){if(ki(n))t.removeAttribute(e);else{if(J&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var So={create:Ao,update:Ao};function _o(t,e){var n=e.elm,r=e.data,s=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=Bi(e),c=n._transitionClasses;o(c)&&(a=zi(a,Li(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Mo,Ro={create:_o,update:_o},ko="__r",Bo="__c";function Oo(t){if(o(t[ko])){var e=J?"change":"input";t[e]=[].concat(t[ko],t[e]||[]),delete t[ko]}o(t[Bo])&&(t.change=[].concat(t[Bo],t.change||[]),delete t[Bo])}function Io(t,e,n){var i=Mo;return function o(){var r=t.apply(null,arguments);null!==r&&Lo(e,o,n,i)}}function zo(t,e,n,i,o){e=le(e),n&&(e=Io(e,t,i)),Mo.addEventListener(t,e,it?{capture:i,passive:o}:i)}function Lo(t,e,n,i){(i||Mo).removeEventListener(t,e._withTask||e,n)}function Po(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},o=t.data.on||{};Mo=e.elm,Oo(n),me(n,o,zo,Lo,e.context),Mo=void 0}}var No={create:Po,update:Po};function Do(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in o(c.__ob__)&&(c=e.data.domProps=k({},c)),a)i(c[n])&&(s[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n){s._value=r;var l=i(r)?"":String(r);Fo(s,l)&&(s.value=l)}else s[n]=r}}}function Fo(t,e){return!t.composing&&("OPTION"===t.tagName||jo(t,e)||Ho(t,e))}function jo(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Ho(t,e){var n=t.value,i=t._vModifiers;if(o(i)){if(i.lazy)return!1;if(i.number)return f(n)!==f(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var Vo={create:Do,update:Do},qo=b(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function Uo(t){var e=Wo(t.style);return t.staticStyle?k(t.staticStyle,e):e}function Wo(t){return Array.isArray(t)?B(t):"string"===typeof t?qo(t):t}function Go(t,e){var n,i={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=Uo(o.data))&&k(i,n)}(n=Uo(t.data))&&k(i,n);var r=t;while(r=r.parent)r.data&&(n=Uo(r.data))&&k(i,n);return i}var Ko,$o=/^--/,Xo=/\s*!important$/,Zo=function(t,e,n){if($o.test(e))t.style.setProperty(e,n);else if(Xo.test(n))t.style.setProperty(e,n.replace(Xo,""),"important");else{var i=Jo(e);if(Array.isArray(n))for(var o=0,r=n.length;o<r;o++)t.style[i]=n[o];else t.style[i]=n}},Yo=["Webkit","Moz","ms"],Jo=b(function(t){if(Ko=Ko||document.createElement("div").style,t=E(t),"filter"!==t&&t in Ko)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Yo.length;n++){var i=Yo[n]+e;if(i in Ko)return i}});function Qo(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var s,a,c=e.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},h=l||u,p=Wo(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?k({},p):p;var d=Go(e,!0);for(a in h)i(d[a])&&Zo(c,a,"");for(a in d)s=d[a],s!==h[a]&&Zo(c,a,null==s?"":s)}}var tr={create:Qo,update:Qo};function er(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function nr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function ir(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&k(e,or(t.name||"v")),k(e,t),e}return"string"===typeof t?or(t):void 0}}var or=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),rr=$&&!Q,sr="transition",ar="animation",cr="transition",lr="transitionend",ur="animation",hr="animationend";rr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(cr="WebkitTransition",lr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ur="WebkitAnimation",hr="webkitAnimationEnd"));var pr=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function dr(t){pr(function(){pr(t)})}function fr(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),er(t,e))}function vr(t,e){t._transitionClasses&&m(t._transitionClasses,e),nr(t,e)}function yr(t,e,n){var i=gr(t,e),o=i.type,r=i.timeout,s=i.propCount;if(!o)return n();var a=o===sr?lr:hr,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout(function(){c<s&&l()},r+1),t.addEventListener(a,u)}var mr=/\b(transform|all)(,|$)/;function gr(t,e){var n,i=window.getComputedStyle(t),o=i[cr+"Delay"].split(", "),r=i[cr+"Duration"].split(", "),s=wr(o,r),a=i[ur+"Delay"].split(", "),c=i[ur+"Duration"].split(", "),l=wr(a,c),u=0,h=0;e===sr?s>0&&(n=sr,u=s,h=r.length):e===ar?l>0&&(n=ar,u=l,h=c.length):(u=Math.max(s,l),n=u>0?s>l?sr:ar:null,h=n?n===sr?r.length:c.length:0);var p=n===sr&&mr.test(i[cr+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:p}}function wr(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return br(e)+br(t[n])}))}function br(t){return 1e3*Number(t.slice(0,-1))}function xr(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=ir(t.data.transition);if(!i(r)&&!o(n._enterCb)&&1===n.nodeType){var s=r.css,a=r.type,l=r.enterClass,u=r.enterToClass,h=r.enterActiveClass,p=r.appearClass,d=r.appearToClass,v=r.appearActiveClass,y=r.beforeEnter,m=r.enter,g=r.afterEnter,w=r.enterCancelled,b=r.beforeAppear,x=r.appear,E=r.afterAppear,A=r.appearCancelled,C=r.duration,T=De,S=De.$vnode;while(S&&S.parent)S=S.parent,T=S.context;var _=!T._isMounted||!t.isRootInsert;if(!_||x||""===x){var M=_&&p?p:l,R=_&&v?v:h,k=_&&d?d:u,B=_&&b||y,O=_&&"function"===typeof x?x:m,I=_&&E||g,z=_&&A||w,L=f(c(C)?C.enter:C);0;var P=!1!==s&&!Q,D=Cr(O),F=n._enterCb=N(function(){P&&(vr(n,k),vr(n,R)),F.cancelled?(P&&vr(n,M),z&&z(n)):I&&I(n),n._enterCb=null});t.data.show||ge(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),O&&O(n,F)}),B&&B(n),P&&(fr(n,M),fr(n,R),dr(function(){vr(n,M),F.cancelled||(fr(n,k),D||(Ar(L)?setTimeout(F,L):yr(n,a,F)))})),t.data.show&&(e&&e(),O&&O(n,F)),P||D||F()}}}function Er(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ir(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var s=r.css,a=r.type,l=r.leaveClass,u=r.leaveToClass,h=r.leaveActiveClass,p=r.beforeLeave,d=r.leave,v=r.afterLeave,y=r.leaveCancelled,m=r.delayLeave,g=r.duration,w=!1!==s&&!Q,b=Cr(d),x=f(c(g)?g.leave:g);0;var E=n._leaveCb=N(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),w&&(vr(n,u),vr(n,h)),E.cancelled?(w&&vr(n,l),y&&y(n)):(e(),v&&v(n)),n._leaveCb=null});m?m(A):A()}function A(){E.cancelled||(t.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),p&&p(n),w&&(fr(n,l),fr(n,h),dr(function(){vr(n,l),E.cancelled||(fr(n,u),b||(Ar(x)?setTimeout(E,x):yr(n,a,E)))})),d&&d(n,E),w||b||E())}}function Ar(t){return"number"===typeof t&&!isNaN(t)}function Cr(t){if(i(t))return!1;var e=t.fns;return o(e)?Cr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Tr(t,e){!0!==e.data.show&&xr(e)}var Sr=$?{create:Tr,activate:Tr,remove:function(t,e){!0!==t.data.show?Er(t,e):e()}}:{},_r=[So,Ro,No,Vo,tr,Sr],Mr=_r.concat(Eo),Rr=fo({nodeOps:ro,modules:Mr});Q&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Nr(t,"input")});var kr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ge(n,"postpatch",function(){kr.componentUpdated(t,e,n)}):Br(t,e,n.context),t._vOptions=[].map.call(t.options,zr)):("textarea"===n.tag||Wi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Lr),t.addEventListener("compositionend",Pr),t.addEventListener("change",Pr),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Br(t,e,n.context);var i=t._vOptions,o=t._vOptions=[].map.call(t.options,zr);if(o.some(function(t,e){return!L(t,i[e])})){var r=t.multiple?e.value.some(function(t){return Ir(t,o)}):e.value!==e.oldValue&&Ir(e.value,o);r&&Nr(t,"change")}}}};function Br(t,e,n){Or(t,e,n),(J||tt)&&setTimeout(function(){Or(t,e,n)},0)}function Or(t,e,n){var i=e.value,o=t.multiple;if(!o||Array.isArray(i)){for(var r,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],o)r=P(i,zr(s))>-1,s.selected!==r&&(s.selected=r);else if(L(zr(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function Ir(t,e){return e.every(function(e){return!L(e,t)})}function zr(t){return"_value"in t?t._value:t.value}function Lr(t){t.target.composing=!0}function Pr(t){t.target.composing&&(t.target.composing=!1,Nr(t.target,"input"))}function Nr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Dr(t){return!t.componentInstance||t.data&&t.data.transition?t:Dr(t.componentInstance._vnode)}var Fr={bind:function(t,e,n){var i=e.value;n=Dr(n);var o=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&o?(n.data.show=!0,xr(n,function(){t.style.display=r})):t.style.display=i?r:"none"},update:function(t,e,n){var i=e.value,o=e.oldValue;if(!i!==!o){n=Dr(n);var r=n.data&&n.data.transition;r?(n.data.show=!0,i?xr(n,function(){t.style.display=t.__vOriginalDisplay}):Er(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,o){o||(t.style.display=t.__vOriginalDisplay)}},jr={model:kr,show:Fr},Hr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Vr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Vr(Re(e.children)):t}function qr(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var o=n._parentListeners;for(var r in o)e[E(r)]=o[r];return e}function Ur(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Wr(t){while(t=t.parent)if(t.data.transition)return!0}function Gr(t,e){return e.key===t.key&&e.tag===t.tag}var Kr={name:"transition",props:Hr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||Me(t)}),n.length)){0;var i=this.mode;0;var o=n[0];if(Wr(this.$vnode))return o;var r=Vr(o);if(!r)return o;if(this._leaving)return Ur(t,o);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:a(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var c=(r.data||(r.data={})).transition=qr(this),l=this._vnode,u=Vr(l);if(r.data.directives&&r.data.directives.some(function(t){return"show"===t.name})&&(r.data.show=!0),u&&u.data&&!Gr(r,u)&&!Me(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=k({},c);if("out-in"===i)return this._leaving=!0,ge(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Ur(t,o);if("in-out"===i){if(Me(r))return l;var p,d=function(){p()};ge(c,"afterEnter",d),ge(c,"enterCancelled",d),ge(h,"delayLeave",function(t){p=t})}}return o}}},$r=k({tag:String,moveClass:String},Hr);delete $r.mode;var Xr={props:$r,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],r=this.children=[],s=qr(this),a=0;a<o.length;a++){var c=o[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))r.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(i){for(var l=[],u=[],h=0;h<i.length;h++){var p=i[h];p.data.transition=s,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?l.push(p):u.push(p)}this.kept=t(e,null,l),this.removed=u}return t(e,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Zr),t.forEach(Yr),t.forEach(Jr),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;fr(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(lr,n._moveCb=function t(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(lr,t),n._moveCb=null,vr(n,e))})}}))},methods:{hasMove:function(t,e){if(!rr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){nr(n,t)}),er(n,e),n.style.display="none",this.$el.appendChild(n);var i=gr(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Zr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Yr(t){t.data.newPos=t.elm.getBoundingClientRect()}function Jr(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,o=e.top-n.top;if(i||o){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+i+"px,"+o+"px)",r.transitionDuration="0s"}}var Qr={Transition:Kr,TransitionGroup:Xr};ai.config.mustUseProp=Ci,ai.config.isReservedTag=Hi,ai.config.isReservedAttr=Ei,ai.config.getTagNamespace=Vi,ai.config.isUnknownElement=Ui,k(ai.options.directives,jr),k(ai.options.components,Qr),ai.prototype.__patch__=$?Rr:O,ai.prototype.$mount=function(t,e){return t=t&&$?Gi(t):void 0,He(this,t,e)},$&&setTimeout(function(){H.devtools&&st&&st.emit("init",ai)},0),e["a"]=ai}).call(this,n("yLpj"))},L2JU:function(t,e,n){"use strict";
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */var i=function(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,n.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},o="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){o.emit("vuex:mutation",t,e)}))}function s(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function a(t){return null!==t&&"object"===typeof t}function c(t){return t&&"function"===typeof t.then}var l=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(t,e){this._children[t]=e},l.prototype.removeChild=function(t){delete this._children[t]},l.prototype.getChild=function(t){return this._children[t]},l.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},l.prototype.forEachChild=function(t){s(this._children,t)},l.prototype.forEachGetter=function(t){this._rawModule.getters&&s(this._rawModule.getters,t)},l.prototype.forEachAction=function(t){this._rawModule.actions&&s(this._rawModule.actions,t)},l.prototype.forEachMutation=function(t){this._rawModule.mutations&&s(this._rawModule.mutations,t)},Object.defineProperties(l.prototype,u);var h=function(t){this.register([],t,!1)};function p(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;p(t.concat(i),e.getChild(i),n.modules[i])}}h.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},h.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},h.prototype.update=function(t){p([],this.root,t)},h.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var o=new l(e,n);if(0===t.length)this.root=o;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],o)}e.modules&&s(e.modules,function(e,o){i.register(t.concat(o),e,n)})},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var d;var f=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!==typeof window&&window.Vue&&M(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var o=t.state;void 0===o&&(o={}),"function"===typeof o&&(o=o()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d;var s=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(t,e){return c.call(s,t,e)},this.commit=function(t,e,n){return l.call(s,t,e,n)},this.strict=i,w(this,o,[],this._modules.root),g(this,o),n.forEach(function(t){return t(e)}),d.config.devtools&&r(this)},v={state:{configurable:!0}};function y(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function m(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;w(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var i=t._vm;t.getters={};var o=t._wrappedGetters,r={};s(o,function(e,n){r[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:r}),d.config.silent=a,t.strict&&T(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),d.nextTick(function(){return i.$destroy()}))}function w(t,e,n,i,o){var r=!n.length,s=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[s]=i),!r&&!o){var a=S(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){d.set(a,c,i.state)})}var l=i.context=b(t,s,n);i.forEachMutation(function(e,n){var i=s+n;E(t,i,e,l)}),i.forEachAction(function(e,n){var i=e.root?n:s+n,o=e.handler||e;A(t,i,o,l)}),i.forEachGetter(function(e,n){var i=s+n;C(t,i,e,l)}),i.forEachChild(function(i,r){w(t,e,n.concat(r),i,o)})}function b(t,e,n){var i=""===e,o={dispatch:i?t.dispatch:function(n,i,o){var r=_(n,i,o),s=r.payload,a=r.options,c=r.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:i?t.commit:function(n,i,o){var r=_(n,i,o),s=r.payload,a=r.options,c=r.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(o,{getters:{get:i?function(){return t.getters}:function(){return x(t,e)}},state:{get:function(){return S(t.state,n)}}}),o}function x(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(o){if(o.slice(0,i)===e){var r=o.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[o]},enumerable:!0})}}),n}function E(t,e,n,i){var o=t._mutations[e]||(t._mutations[e]=[]);o.push(function(e){n.call(t,i.state,e)})}function A(t,e,n,i){var o=t._actions[e]||(t._actions[e]=[]);o.push(function(e,o){var r=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,o);return c(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):r})}function C(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function T(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function S(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function _(t,e,n){return a(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function M(t){d&&t===d||(d=t,i(d))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},f.prototype.commit=function(t,e,n){var i=this,o=_(t,e,n),r=o.type,s=o.payload,a=(o.options,{type:r,payload:s}),c=this._mutations[r];c&&(this._withCommit(function(){c.forEach(function(t){t(s)})}),this._subscribers.forEach(function(t){return t(a,i.state)}))},f.prototype.dispatch=function(t,e){var n=this,i=_(t,e),o=i.type,r=i.payload,s={type:o,payload:r},a=this._actions[o];if(a)return this._actionSubscribers.forEach(function(t){return t(s,n.state)}),a.length>1?Promise.all(a.map(function(t){return t(r)})):a[0](r)},f.prototype.subscribe=function(t){return y(t,this._subscribers)},f.prototype.subscribeAction=function(t){return y(t,this._actionSubscribers)},f.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},f.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},f.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},f.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=S(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])}),m(this)},f.prototype.hotUpdate=function(t){this._modules.update(t),m(this,!0)},f.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(f.prototype,v);var R=L(function(t,e){var n={};return z(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=P(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof o?o.call(this,e,n):e[o]},n[i].vuex=!0}),n}),k=L(function(t,e){var n={};return z(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var r=P(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"===typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}}),n}),B=L(function(t,e){var n={};return z(e).forEach(function(e){var i=e.key,o=e.val;o=t+o,n[i]=function(){if(!t||P(this.$store,"mapGetters",t))return this.$store.getters[o]},n[i].vuex=!0}),n}),O=L(function(t,e){var n={};return z(e).forEach(function(e){var i=e.key,o=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var r=P(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"===typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}}),n}),I=function(t){return{mapState:R.bind(null,t),mapGetters:B.bind(null,t),mapMutations:k.bind(null,t),mapActions:O.bind(null,t)}};function z(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function L(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function P(t,e,n){var i=t._modulesNamespaceMap[n];return i}var N={Store:f,install:M,version:"3.0.1",mapState:R,mapMutations:k,mapGetters:B,mapActions:O,createNamespacedHelpers:I};e["a"]=N},LQAc:function(t,e){t.exports=!1},LZWt:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},M6Qj:function(t,e,n){var i=n("hPIQ"),o=n("K0xU")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},MIOf:function(t,e,n){t.exports=r;var i=n("JcM6"),o=(n("FKcu"),n("IABr"));function r(t,e,n){n="undefined"!==typeof n?n:1e6,o.call(this,t,e,-n,n),this.axisA=new i,this.axisB=new i,this.targetVelocity=0}r.prototype=new o,r.prototype.constructor=r,r.prototype.computeB=function(t){this.a;var e=this.b,n=(this.bi,this.bj,this.axisA),i=this.axisB,o=this.jacobianElementA,r=this.jacobianElementB;o.rotational.copy(n),i.negate(r.rotational);var s=this.computeGW()-this.targetVelocity,a=this.computeGiMf(),c=-s*e-t*a;return c}},MfQN:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},MsAy:function(t,e,n){n("EYlc"),n("mRFy"),n("Zgaw"),n("mvZv"),n("bQoG")},Mukb:function(t,e,n){var i=n("hswa"),o=n("RjD/");t.exports=n("nh4g")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},Ot0k:function(t,e){function n(t){var e="";t=t||{},"string"===typeof t?(e=t,t={}):"object"===typeof t&&(e=""),this.name=e,this.id=n.idCounter++,this.friction="undefined"!==typeof t.friction?t.friction:-1,this.restitution="undefined"!==typeof t.restitution?t.restitution:-1}t.exports=n,n.idCounter=0},"Ou4/":function(t,e){function n(){this.matrix={}}t.exports=n,n.prototype.get=function(t,e){if(t=t.id,e=e.id,e>t){var n=e;e=t,t=n}return t+"-"+e in this.matrix},n.prototype.set=function(t,e,n){if(t=t.id,e=e.id,e>t){var i=e;e=t,t=i}n?this.matrix[t+"-"+e]=!0:delete this.matrix[t+"-"+e]},n.prototype.reset=function(){this.matrix={}},n.prototype.setNumObjects=function(t){}},PPbP:function(t,e,n){t.exports=g;n("Z6Vu");var i=n("JcM6"),o=n("kk46"),r=n("PtzM"),s=(n("Wd2o"),n("7wMV"),n("XdV9")),a=n("6zDq"),c=n("3K4u"),l=n("Y4ID"),u=n("Ot0k"),h=n("fXWP"),p=n("tQLc"),d=n("/vHK"),f=n("zy4p"),v=n("qa/2"),y=n("APQl"),m=n("ht9l");function g(t){t=t||{},a.apply(this),this.dt=-1,this.allowSleep=!!t.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=void 0!==t.quatNormalizeSkip?t.quatNormalizeSkip:0,this.quatNormalizeFast=void 0!==t.quatNormalizeFast&&t.quatNormalizeFast,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new i,t.gravity&&this.gravity.copy(t.gravity),this.broadphase=void 0!==t.broadphase?t.broadphase:new m,this.bodies=[],this.solver=void 0!==t.solver?t.solver:new r,this.constraints=[],this.narrowphase=new s(this),this.collisionMatrix=new c,this.collisionMatrixPrevious=new c,this.bodyOverlapKeeper=new l,this.shapeOverlapKeeper=new l,this.materials=[],this.contactmaterials=[],this.contactMaterialTable=new d,this.defaultMaterial=new u("default"),this.defaultContactMaterial=new h(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}g.prototype=new a;new v;var w=new y;if(g.prototype.getContactMaterial=function(t,e){return this.contactMaterialTable.get(t.id,e.id)},g.prototype.numObjects=function(){return this.bodies.length},g.prototype.collisionMatrixTick=function(){var t=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=t,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()},g.prototype.add=g.prototype.addBody=function(t){-1===this.bodies.indexOf(t)&&(t.index=this.bodies.length,this.bodies.push(t),t.world=this,t.initPosition.copy(t.position),t.initVelocity.copy(t.velocity),t.timeLastSleepy=this.time,t instanceof p&&(t.initAngularVelocity.copy(t.angularVelocity),t.initQuaternion.copy(t.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=t,this.idToBodyMap[t.id]=t,this.dispatchEvent(this.addBodyEvent))},g.prototype.addConstraint=function(t){this.constraints.push(t)},g.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&this.constraints.splice(e,1)},g.prototype.rayTest=function(t,e,n){n instanceof f?this.raycastClosest(t,e,{skipBackfaces:!0},n):this.raycastAll(t,e,{skipBackfaces:!0},n)},g.prototype.raycastAll=function(t,e,n,i){return n.mode=y.ALL,n.from=t,n.to=e,n.callback=i,w.intersectWorld(this,n)},g.prototype.raycastAny=function(t,e,n,i){return n.mode=y.ANY,n.from=t,n.to=e,n.result=i,w.intersectWorld(this,n)},g.prototype.raycastClosest=function(t,e,n,i){return n.mode=y.CLOSEST,n.from=t,n.to=e,n.result=i,w.intersectWorld(this,n)},g.prototype.remove=function(t){t.world=null;var e=this.bodies.length-1,n=this.bodies,i=n.indexOf(t);if(-1!==i){n.splice(i,1);for(var o=0;o!==n.length;o++)n[o].index=o;this.collisionMatrix.setNumObjects(e),this.removeBodyEvent.body=t,delete this.idToBodyMap[t.id],this.dispatchEvent(this.removeBodyEvent)}},g.prototype.removeBody=g.prototype.remove,g.prototype.getBodyById=function(t){return this.idToBodyMap[t]},g.prototype.getShapeById=function(t){for(var e=this.bodies,n=0,i=e.length;n<i;n++)for(var o=e[n].shapes,r=0,s=o.length;r<s;r++){var a=o[r];if(a.id===t)return a}},g.prototype.addMaterial=function(t){this.materials.push(t)},g.prototype.addContactMaterial=function(t){this.contactmaterials.push(t),this.contactMaterialTable.set(t.materials[0].id,t.materials[1].id,t)},"undefined"===typeof performance&&(performance={}),!performance.now){var b=Date.now();performance.timing&&performance.timing.navigationStart&&(b=performance.timing.navigationStart),performance.now=function(){return Date.now()-b}}new i;g.prototype.step=function(t,e,n){if(n=n||10,e=e||0,0===e)this.internalStep(t),this.time+=t;else{this.accumulator+=e;var i=0;while(this.accumulator>=t&&i<n)this.internalStep(t),this.accumulator-=t,i++;for(var o=this.accumulator%t/t,r=0;r!==this.bodies.length;r++){var s=this.bodies[r];s.previousPosition.lerp(s.position,o,s.interpolatedPosition),s.previousQuaternion.slerp(s.quaternion,o,s.interpolatedQuaternion),s.previousQuaternion.normalize()}this.time+=e}};var x={type:"postStep"},E={type:"preStep"},A={type:p.COLLIDE_EVENT_NAME,body:null,contact:null},C=[],T=[],S=[],_=[];new i,new i,new i,new i,new i,new i,new i,new i,new i,new o,new o,new o,new i;g.prototype.internalStep=function(t){this.dt=t;var e,n=this.contacts,i=S,o=_,r=this.numObjects(),s=this.bodies,a=this.solver,c=this.gravity,l=this.doProfiling,u=this.profile,h=p.DYNAMIC,d=this.constraints,f=T,v=(c.norm(),c.x),y=c.y,m=c.z,g=0;for(l&&(e=performance.now()),g=0;g!==r;g++){var w=s[g];if(w.type===h){var b=w.force,M=w.mass;b.x+=M*v,b.y+=M*y,b.z+=M*m}}g=0;for(var R=this.subsystems.length;g!==R;g++)this.subsystems[g].update();l&&(e=performance.now()),i.length=0,o.length=0,this.broadphase.collisionPairs(this,i,o),l&&(u.broadphase=performance.now()-e);var k=d.length;for(g=0;g!==k;g++){var B=d[g];if(!B.collideConnected)for(var O=i.length-1;O>=0;O-=1)(B.bodyA===i[O]&&B.bodyB===o[O]||B.bodyB===i[O]&&B.bodyA===o[O])&&(i.splice(O,1),o.splice(O,1))}this.collisionMatrixTick(),l&&(e=performance.now());var I=C,z=n.length;for(g=0;g!==z;g++)I.push(n[g]);n.length=0;var L=this.frictionEquations.length;for(g=0;g!==L;g++)f.push(this.frictionEquations[g]);this.frictionEquations.length=0,this.narrowphase.getContacts(i,o,this,n,I,this.frictionEquations,f),l&&(u.narrowphase=performance.now()-e),l&&(e=performance.now());for(g=0;g<this.frictionEquations.length;g++)a.addEquation(this.frictionEquations[g]);for(var P=n.length,N=0;N!==P;N++){B=n[N],w=B.bi;var D,F=B.bj,j=B.si,H=B.sj;D=w.material&&F.material&&this.getContactMaterial(w.material,F.material)||this.defaultContactMaterial;D.friction;if(w.material&&F.material&&(w.material.friction>=0&&F.material.friction>=0&&w.material.friction*F.material.friction,w.material.restitution>=0&&F.material.restitution>=0&&(B.restitution=w.material.restitution*F.material.restitution)),a.addEquation(B),w.allowSleep&&w.type===p.DYNAMIC&&w.sleepState===p.SLEEPING&&F.sleepState===p.AWAKE&&F.type!==p.STATIC){var V=F.velocity.norm2()+F.angularVelocity.norm2(),q=Math.pow(F.sleepSpeedLimit,2);V>=2*q&&(w._wakeUpAfterNarrowphase=!0)}if(F.allowSleep&&F.type===p.DYNAMIC&&F.sleepState===p.SLEEPING&&w.sleepState===p.AWAKE&&w.type!==p.STATIC){var U=w.velocity.norm2()+w.angularVelocity.norm2(),W=Math.pow(w.sleepSpeedLimit,2);U>=2*W&&(F._wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(w,F,!0),this.collisionMatrixPrevious.get(w,F)||(A.body=F,A.contact=B,w.dispatchEvent(A),A.body=w,F.dispatchEvent(A)),this.bodyOverlapKeeper.set(w.id,F.id),this.shapeOverlapKeeper.set(j.id,H.id)}for(this.emitContactEvents(),l&&(u.makeContactConstraints=performance.now()-e,e=performance.now()),g=0;g!==r;g++){w=s[g];w._wakeUpAfterNarrowphase&&(w.wakeUp(),w._wakeUpAfterNarrowphase=!1)}k=d.length;for(g=0;g!==k;g++){B=d[g];B.update();O=0;for(var G=B.equations.length;O!==G;O++){var K=B.equations[O];a.addEquation(K)}}a.solve(t,this),l&&(u.solve=performance.now()-e),a.removeAllEquations();var $=Math.pow;for(g=0;g!==r;g++){w=s[g];if(w.type&h){var X=$(1-w.linearDamping,t),Z=w.velocity;Z.mult(X,Z);var Y=w.angularVelocity;if(Y){var J=$(1-w.angularDamping,t);Y.mult(J,Y)}}}for(this.dispatchEvent(E),g=0;g!==r;g++){w=s[g];w.preStep&&w.preStep.call(w)}l&&(e=performance.now());var Q=this.stepnumber,tt=Q%(this.quatNormalizeSkip+1)===0,et=this.quatNormalizeFast;for(g=0;g!==r;g++)s[g].integrate(t,tt,et);for(this.clearForces(),this.broadphase.dirty=!0,l&&(u.integrate=performance.now()-e),this.time+=t,this.stepnumber+=1,this.dispatchEvent(x),g=0;g!==r;g++){w=s[g];var nt=w.postStep;nt&&nt.call(w)}if(this.allowSleep)for(g=0;g!==r;g++)s[g].sleepTick(this.time)},g.prototype.emitContactEvents=function(){var t=[],e=[],n={type:"beginContact",bodyA:null,bodyB:null},i={type:"endContact",bodyA:null,bodyB:null},o={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},r={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null};return function(){var s=this.hasAnyEventListener("beginContact"),a=this.hasAnyEventListener("endContact");if((s||a)&&this.bodyOverlapKeeper.getDiff(t,e),s){for(var c=0,l=t.length;c<l;c+=2)n.bodyA=this.getBodyById(t[c]),n.bodyB=this.getBodyById(t[c+1]),this.dispatchEvent(n);n.bodyA=n.bodyB=null}if(a){for(c=0,l=e.length;c<l;c+=2)i.bodyA=this.getBodyById(e[c]),i.bodyB=this.getBodyById(e[c+1]),this.dispatchEvent(i);i.bodyA=i.bodyB=null}t.length=e.length=0;var u=this.hasAnyEventListener("beginShapeContact"),h=this.hasAnyEventListener("endShapeContact");if((u||h)&&this.shapeOverlapKeeper.getDiff(t,e),u){for(c=0,l=t.length;c<l;c+=2){var p=this.getShapeById(t[c]),d=this.getShapeById(t[c+1]);o.shapeA=p,o.shapeB=d,o.bodyA=p.body,o.bodyB=d.body,this.dispatchEvent(o)}o.bodyA=o.bodyB=o.shapeA=o.shapeB=null}if(h){for(c=0,l=e.length;c<l;c+=2){p=this.getShapeById(e[c]),d=this.getShapeById(e[c+1]);r.shapeA=p,r.shapeB=d,r.bodyA=p.body,r.bodyB=d.body,this.dispatchEvent(r)}r.bodyA=r.bodyB=r.shapeA=r.shapeB=null}}}(),g.prototype.clearForces=function(){for(var t=this.bodies,e=t.length,n=0;n!==e;n++){var i=t[n];i.force,i.torque;i.force.set(0,0,0),i.torque.set(0,0,0)}}},PtzM:function(t,e,n){t.exports=o;n("JcM6"),n("kk46");var i=n("TUg/");function o(){i.call(this),this.iterations=10,this.tolerance=1e-7}o.prototype=new i;var r=[],s=[],a=[];o.prototype.solve=function(t,e){var n,i,o,c,l,u,h=0,p=this.iterations,d=this.tolerance*this.tolerance,f=this.equations,v=f.length,y=e.bodies,m=y.length,g=t;if(0!==v)for(var w=0;w!==m;w++)y[w].updateSolveMassProperties();var b=s,x=a,E=r;b.length=v,x.length=v,E.length=v;for(w=0;w!==v;w++){var A=f[w];E[w]=0,x[w]=A.computeB(g),b[w]=1/A.computeC()}if(0!==v){for(w=0;w!==m;w++){var C=y[w],T=C.vlambda,S=C.wlambda;T.set(0,0,0),S.set(0,0,0)}for(h=0;h!==p;h++){c=0;for(var _=0;_!==v;_++){A=f[_];n=x[_],i=b[_],u=E[_],l=A.computeGWlambda(),o=i*(n-l-A.eps*u),u+o<A.minForce?o=A.minForce-u:u+o>A.maxForce&&(o=A.maxForce-u),E[_]+=o,c+=o>0?o:-o,A.addToWlambda(o)}if(c*c<d)break}for(w=0;w!==m;w++){C=y[w];var M=C.velocity,R=C.angularVelocity;C.vlambda.vmul(C.linearFactor,C.vlambda),M.vadd(C.vlambda,M),C.wlambda.vmul(C.angularFactor,C.wlambda),R.vadd(C.wlambda,R)}var k=f.length,B=1/g;while(k--)f[k].multiplier=E[k]*B}return h}},QHZA:function(t,e){const n={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function i(t){return new RegExp("^"+t.split(/\*+/).map(o).join(".*")+"$")}function o(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}t.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(n)},repetitions:{default:1/0,min:0}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const t=this.el.getObject3D("mesh");t?this.load(t):this.el.addEventListener("model-loaded",t=>{this.load(t.detail.model)})},load:function(t){const e=this.el;this.model=t,this.mixer=new THREE.AnimationMixer(t),this.mixer.addEventListener("loop",t=>{e.emit("animation-loop",{action:t.action,loopDelta:t.loopDelta})}),this.mixer.addEventListener("finished",t=>{e.emit("animation-finished",{action:t.action,direction:t.direction})}),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(t){t&&(this.stopAction(),this.data.clip&&this.playAction())},stopAction:function(){const t=this.data;for(let e=0;e<this.activeActions.length;e++)t.crossFadeDuration?this.activeActions[e].fadeOut(t.crossFadeDuration):this.activeActions[e].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const t=this.model,e=this.data,o=t.animations||(t.geometry||{}).animations||[];if(!o.length)return;const r=i(e.clip);for(let i,s=0;i=o[s];s++)if(i.name.match(r)){const o=this.mixer.clipAction(i,t);o.enabled=!0,e.duration&&o.setDuration(e.duration),o.setLoop(n[e.loop],e.repetitions).fadeIn(e.crossFadeDuration).play(),this.activeActions.push(o)}},tick:function(t,e){this.mixer&&!isNaN(e)&&this.mixer.update(e/1e3)}})},QySN:function(t,e){class n{static computeCentroids(t){var e,n,i;for(e=0,n=t.faces.length;e<n;e++)i=t.faces[e],i.centroid=new THREE.Vector3(0,0,0),i.centroid.add(t.vertices[i.a]),i.centroid.add(t.vertices[i.b]),i.centroid.add(t.vertices[i.c]),i.centroid.divideScalar(3)}static roundNumber(t,e){var n=Number(t+"").toFixed(parseInt(e));return parseFloat(n)}static sample(t){return t[Math.floor(Math.random()*t.length)]}static mergeVertexIds(t,e){var n=[];if(t.forEach(t=>{e.indexOf(t)>=0&&n.push(t)}),n.length<2)return[];n.includes(t[0])&&n.includes(t[t.length-1])&&t.push(t.shift()),n.includes(e[0])&&n.includes(e[e.length-1])&&e.push(e.shift()),n=[],t.forEach(t=>{e.includes(t)&&n.push(t)});var i=n[1],o=n[0],r=t.slice();while(r[0]!==i)r.push(r.shift());var s=0,a=e.slice();while(a[0]!==o)if(a.push(a.shift()),s++>10)throw new Error("Unexpected state");return a.shift(),a.pop(),r=r.concat(a),r}static setPolygonCentroid(t,e){var n=new THREE.Vector3,i=e.vertices;t.vertexIds.forEach(t=>{n.add(i[t])}),n.divideScalar(t.vertexIds.length),t.centroid.copy(n)}static cleanPolygon(t,e){for(var n=[],i=e.vertices,o=0;o<t.vertexIds.length;o++){var r,s,a,c,l=i[t.vertexIds[o]];0===o?(r=t.vertexIds[1],s=t.vertexIds[t.vertexIds.length-1]):o===t.vertexIds.length-1?(r=t.vertexIds[0],s=t.vertexIds[t.vertexIds.length-2]):(r=t.vertexIds[o+1],s=t.vertexIds[o-1]),a=i[r],c=i[s];var u=a.clone().sub(l),h=c.clone().sub(l),p=u.angleTo(h);if(p>Math.PI-.01&&p<Math.PI+.01){var d=[];t.neighbours.forEach(e=>{e.vertexIds.includes(t.vertexIds[o])||d.push(e)}),t.neighbours=d}else n.push(t.vertexIds[o])}t.vertexIds=n,this.setPolygonCentroid(t,e)}static isConvex(t,e){var n=e.vertices;if(t.vertexIds.length<3)return!1;for(var i=!0,o=[],r=0;r<t.vertexIds.length;r++){var s,a,c=n[t.vertexIds[r]];0===r?(s=n[t.vertexIds[1]],a=n[t.vertexIds[t.vertexIds.length-1]]):r===t.vertexIds.length-1?(s=n[t.vertexIds[0]],a=n[t.vertexIds[t.vertexIds.length-2]]):(s=n[t.vertexIds[r+1]],a=n[t.vertexIds[r-1]]);var l=s.clone().sub(c),u=a.clone().sub(c),h=l.angleTo(u);if(h,h===Math.PI||0===h)return!1;var p=l.cross(u).y;o.push(p)}return o.forEach(t=>{0===t&&(i=!1)}),o[0]>0?o.forEach(t=>{t<0&&(i=!1)}):o.forEach(t=>{t>0&&(i=!1)}),i}static distanceToSquared(t,e){var n=t.x-e.x,i=t.y-e.y,o=t.z-e.z;return n*n+i*i+o*o}static isPointInPoly(t,e){for(var n=!1,i=-1,o=t.length,r=o-1;++i<o;r=i)(t[i].z<=e.z&&e.z<t[r].z||t[r].z<=e.z&&e.z<t[i].z)&&e.x<(t[r].x-t[i].x)*(e.z-t[i].z)/(t[r].z-t[i].z)+t[i].x&&(n=!n);return n}static isVectorInPolygon(t,e,n){var i=1e5,o=-1e5,r=[];return e.vertexIds.forEach(t=>{i=Math.min(n[t].y,i),o=Math.max(n[t].y,o),r.push(n[t])}),!!(t.y<o+.5&&t.y>i-.5&&this.isPointInPoly(r,t))}static triarea2(t,e,n){var i=e.x-t.x,o=e.z-t.z,r=n.x-t.x,s=n.z-t.z;return r*o-i*s}static vequal(t,e){return this.distanceToSquared(t,e)<1e-5}static array_intersect(){let t,e,n,i,o,r,s=[],a={};for(r=arguments.length-1,n=arguments[0].length,e=0,t=0;t<=r;t++)i=arguments[t].length,i<n&&(e=t,n=i);for(t=0;t<=r;t++){i=t===e?0:t||e,o=arguments[i].length;for(var c=0;c<o;c++){var l=arguments[i][c];a[l]===t-1?t===r?(s.push(l),a[l]=0):a[l]=t:0===t&&(a[l]=0)}}return s}}t.exports=n},"R+EB":function(t,e,n){t.exports={version:n("z8T1").version,AABB:n("qa/2"),ArrayCollisionMatrix:n("3K4u"),Body:n("tQLc"),Box:n("vGJX"),Broadphase:n("mjed"),Constraint:n("exwj"),ContactEquation:n("Wd2o"),Narrowphase:n("XdV9"),ConeTwistConstraint:n("ZqPA"),ContactMaterial:n("fXWP"),ConvexPolyhedron:n("XrCg"),Cylinder:n("TCln"),DistanceConstraint:n("eVAH"),Equation:n("IABr"),EventTarget:n("6zDq"),FrictionEquation:n("7wMV"),GSSolver:n("PtzM"),GridBroadphase:n("D7Le"),Heightfield:n("FTEy"),HingeConstraint:n("JrsB"),LockConstraint:n("gem7"),Mat3:n("FKcu"),Material:n("Ot0k"),NaiveBroadphase:n("ht9l"),ObjectCollisionMatrix:n("Ou4/"),Pool:n("gaw2"),Particle:n("/YhB"),Plane:n("rrJ0"),PointToPointConstraint:n("BpkJ"),Quaternion:n("kk46"),Ray:n("APQl"),RaycastVehicle:n("gFEl"),RaycastResult:n("zy4p"),RigidVehicle:n("UZPb"),RotationalEquation:n("7VWh"),RotationalMotorEquation:n("MIOf"),SAPBroadphase:n("kDUh"),SPHSystem:n("5GXb"),Shape:n("Z6Vu"),Solver:n("TUg/"),Sphere:n("7MSw"),SplitSolver:n("VPcm"),Spring:n("bBed"),Transform:n("bc7U"),Trimesh:n("1Hvg"),Vec3:n("JcM6"),Vec3Pool:n("5KPk"),World:n("PPbP")}},RQMZ:function(t,e,n){var i=n("R+EB");n("w/IA"),n("ayFu"),n("s/hC"),n("lSwU"),n("f9Zq"),n("rUNA"),n("opYQ"),t.exports={registerAll:function(){console.warn("registerAll() is deprecated. Components are automatically registered.")}},window.CANNON=window.CANNON||i},RYi7:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"RjD/":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},STiA:function(t,e,n){var i=n("JcM6"),o=n("bc7U"),r=n("zy4p"),s=n("x3f3");function a(t){t=s.defaults(t,{chassisConnectionPointLocal:new i,chassisConnectionPointWorld:new i,directionLocal:new i,directionWorld:new i,axleLocal:new i,axleWorld:new i,suspensionRestLength:1,suspensionMaxLength:2,radius:1,suspensionStiffness:100,dampingCompression:10,dampingRelaxation:10,frictionSlip:1e4,steering:0,rotation:0,deltaRotation:0,rollInfluence:.01,maxSuspensionForce:Number.MAX_VALUE,isFrontWheel:!0,clippedInvContactDotSuspension:1,suspensionRelativeVelocity:0,suspensionForce:0,skidInfo:0,suspensionLength:0,maxSuspensionTravel:1,useCustomSlidingRotationalSpeed:!1,customSlidingRotationalSpeed:-.1}),this.maxSuspensionTravel=t.maxSuspensionTravel,this.customSlidingRotationalSpeed=t.customSlidingRotationalSpeed,this.useCustomSlidingRotationalSpeed=t.useCustomSlidingRotationalSpeed,this.sliding=!1,this.chassisConnectionPointLocal=t.chassisConnectionPointLocal.clone(),this.chassisConnectionPointWorld=t.chassisConnectionPointWorld.clone(),this.directionLocal=t.directionLocal.clone(),this.directionWorld=t.directionWorld.clone(),this.axleLocal=t.axleLocal.clone(),this.axleWorld=t.axleWorld.clone(),this.suspensionRestLength=t.suspensionRestLength,this.suspensionMaxLength=t.suspensionMaxLength,this.radius=t.radius,this.suspensionStiffness=t.suspensionStiffness,this.dampingCompression=t.dampingCompression,this.dampingRelaxation=t.dampingRelaxation,this.frictionSlip=t.frictionSlip,this.steering=0,this.rotation=0,this.deltaRotation=0,this.rollInfluence=t.rollInfluence,this.maxSuspensionForce=t.maxSuspensionForce,this.engineForce=0,this.brake=0,this.isFrontWheel=t.isFrontWheel,this.clippedInvContactDotSuspension=1,this.suspensionRelativeVelocity=0,this.suspensionForce=0,this.skidInfo=0,this.suspensionLength=0,this.sideImpulse=0,this.forwardImpulse=0,this.raycastResult=new r,this.worldTransform=new o,this.isInContact=!1}t.exports=a;var c=new i,l=new i;c=new i;a.prototype.updateWheel=function(t){var e=this.raycastResult;if(this.isInContact){var n=e.hitNormalWorld.dot(e.directionWorld);e.hitPointWorld.vsub(t.position,l),t.getVelocityAtWorldPoint(l,c);var i=e.hitNormalWorld.dot(c);if(n>=-.1)this.suspensionRelativeVelocity=0,this.clippedInvContactDotSuspension=10;else{var o=-1/n;this.suspensionRelativeVelocity=i*o,this.clippedInvContactDotSuspension=o}}else e.suspensionLength=this.suspensionRestLength,this.suspensionRelativeVelocity=0,e.directionWorld.scale(-1,e.hitNormalWorld),this.clippedInvContactDotSuspension=1}},SlkY:function(t,e,n){var i=n("m0Pp"),o=n("H6hf"),r=n("M6Qj"),s=n("y3w9"),a=n("ne8i"),c=n("J+6e"),l={},u={};e=t.exports=function(t,e,n,h,p){var d,f,v,y,m=p?function(){return t}:c(t),g=i(n,h,e?2:1),w=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(d=a(t.length);d>w;w++)if(y=e?g(s(f=t[w])[0],f[1]):g(t[w]),y===l||y===u)return y}else for(v=m.call(t);!(f=v.next()).done;)if(y=o(v,g,f.value,e),y===l||y===u)return y};e.BREAK=l,e.RETURN=u},T8A4:function(t,e,n){var i=n("R+EB"),o=n("kA2+"),r="__id";t.exports.ID=r;var s={};function a(t){var e={type:t.type};if(t.type===i.Shape.types.BOX)e.halfExtents=l(t.halfExtents);else if(t.type===i.Shape.types.SPHERE)e.radius=t.radius;else{if(t._type!==i.Shape.types.CYLINDER)throw new Error("Unimplemented shape type: %s",t.type);e.type=i.Shape.types.CYLINDER,e.radiusTop=t.radiusTop,e.radiusBottom=t.radiusBottom,e.height=t.height,e.numSegments=t.numSegments}return e}function c(t){var e;if(t.type===i.Shape.types.BOX)e=new i.Box(u(t.halfExtents));else if(t.type===i.Shape.types.SPHERE)e=new i.Sphere(t.radius);else{if(t.type!==i.Shape.types.CYLINDER)throw new Error("Unimplemented shape type: %s",t.type);e=new i.Cylinder(t.radiusTop,t.radiusBottom,t.height,t.numSegments),e._type=i.Shape.types.CYLINDER}return e}function l(t){return t.toArray()}function u(t){return new i.Vec3(t[0],t[1],t[2])}function h(t){return t.toArray()}function p(t){return new i.Quaternion(t[0],t[1],t[2],t[3])}t.exports.assignID=function(t,e){e[r]||(s[t]=s[t]||1,e[r]=t+"_"+s[t]++)},t.exports.serializeBody=function(t){var e={shapes:t.shapes.map(a),shapeOffsets:t.shapeOffsets.map(l),shapeOrientations:t.shapeOrientations.map(h),position:l(t.position),quaternion:t.quaternion.toArray(),velocity:l(t.velocity),angularVelocity:l(t.angularVelocity),id:t[r],mass:t.mass,linearDamping:t.linearDamping,angularDamping:t.angularDamping,fixedRotation:t.fixedRotation,allowSleep:t.allowSleep,sleepSpeedLimit:t.sleepSpeedLimit,sleepTimeLimit:t.sleepTimeLimit};return e},t.exports.deserializeBodyUpdate=function(t,e){return e.position.set(t.position[0],t.position[1],t.position[2]),e.quaternion.set(t.quaternion[0],t.quaternion[1],t.quaternion[2],t.quaternion[3]),e.velocity.set(t.velocity[0],t.velocity[1],t.velocity[2]),e.angularVelocity.set(t.angularVelocity[0],t.angularVelocity[1],t.angularVelocity[2]),e.linearDamping=t.linearDamping,e.angularDamping=t.angularDamping,e.fixedRotation=t.fixedRotation,e.allowSleep=t.allowSleep,e.sleepSpeedLimit=t.sleepSpeedLimit,e.sleepTimeLimit=t.sleepTimeLimit,e.mass!==t.mass&&(e.mass=t.mass,e.updateMassProperties()),e},t.exports.deserializeInterpBodyUpdate=function(t,e,n,i){var r=1-i,s=i;n.position.set(t.position[0]*r+e.position[0]*s,t.position[1]*r+e.position[1]*s,t.position[2]*r+e.position[2]*s);var a=o.slerp(t.quaternion,e.quaternion,i);return n.quaternion.set(a[0],a[1],a[2],a[3]),n.velocity.set(t.velocity[0]*r+e.velocity[0]*s,t.velocity[1]*r+e.velocity[1]*s,t.velocity[2]*r+e.velocity[2]*s),n.angularVelocity.set(t.angularVelocity[0]*r+e.angularVelocity[0]*s,t.angularVelocity[1]*r+e.angularVelocity[1]*s,t.angularVelocity[2]*r+e.angularVelocity[2]*s),n.linearDamping=e.linearDamping,n.angularDamping=e.angularDamping,n.fixedRotation=e.fixedRotation,n.allowSleep=e.allowSleep,n.sleepSpeedLimit=e.sleepSpeedLimit,n.sleepTimeLimit=e.sleepTimeLimit,n.mass!==e.mass&&(n.mass=e.mass,n.updateMassProperties()),n},t.exports.deserializeBody=function(t){for(var e,n=new i.Body({mass:t.mass,position:u(t.position),quaternion:p(t.quaternion),velocity:u(t.velocity),angularVelocity:u(t.angularVelocity),linearDamping:t.linearDamping,angularDamping:t.angularDamping,fixedRotation:t.fixedRotation,allowSleep:t.allowSleep,sleepSpeedLimit:t.sleepSpeedLimit,sleepTimeLimit:t.sleepTimeLimit}),o=0;e=t.shapes[o];o++)n.addShape(c(e),u(t.shapeOffsets[o]),p(t.shapeOrientations[o]));return n[r]=t.id,n},t.exports.serializeShape=a,t.exports.deserializeShape=c,t.exports.serializeConstraint=function(t){var e={id:t[r],type:t.type,maxForce:t.maxForce,bodyA:t.bodyA[r],bodyB:t.bodyB[r]};switch(t.type){case"LockConstraint":break;case"DistanceConstraint":e.distance=t.distance;break;case"HingeConstraint":case"ConeTwistConstraint":e.axisA=l(t.axisA),e.axisB=l(t.axisB),e.pivotA=l(t.pivotA),e.pivotB=l(t.pivotB);break;case"PointToPointConstraint":e.pivotA=l(t.pivotA),e.pivotB=l(t.pivotB);break;default:throw new Error("Unexpected constraint type: "+t.type+'. You may need to manually set `constraint.type = "FooConstraint";`.')}return e},t.exports.deserializeConstraint=function(t,e){var n,o=i[t.type],s=e[t.bodyA],a=e[t.bodyB];switch(t.type){case"LockConstraint":n=new i.LockConstraint(s,a,t);break;case"DistanceConstraint":n=new i.DistanceConstraint(s,a,t.distance,t.maxForce);break;case"HingeConstraint":case"ConeTwistConstraint":n=new o(s,a,{pivotA:u(t.pivotA),pivotB:u(t.pivotB),axisA:u(t.axisA),axisB:u(t.axisB),maxForce:t.maxForce});break;case"PointToPointConstraint":n=new i.PointToPointConstraint(s,u(t.pivotA),a,u(t.pivotB),t.maxForce);break;default:throw new Error("Unexpected constraint type: "+t.type)}return n[r]=t.id,n},t.exports.serializeContact=function(t){return{bi:t.bi[r],bj:t.bj[r],ni:l(t.ni),ri:l(t.ri),rj:l(t.rj)}},t.exports.deserializeContact=function(t,e){return{bi:e[t.bi],bj:e[t.bj],ni:u(t.ni),ri:u(t.ri),rj:u(t.rj)}},t.exports.serializeVec3=l,t.exports.deserializeVec3=u,t.exports.serializeQuaternion=h,t.exports.deserializeQuaternion=p},TCln:function(t,e,n){t.exports=s;var i=n("Z6Vu"),o=n("JcM6"),r=(n("kk46"),n("XrCg"));function s(t,e,n,s){var a=s,c=[],l=[],u=[],h=[],p=[],d=Math.cos,f=Math.sin;c.push(new o(e*d(0),e*f(0),.5*-n)),h.push(0),c.push(new o(t*d(0),t*f(0),.5*n)),p.push(1);for(var v=0;v<a;v++){var y=2*Math.PI/a*(v+1),m=2*Math.PI/a*(v+.5);v<a-1?(c.push(new o(e*d(y),e*f(y),.5*-n)),h.push(2*v+2),c.push(new o(t*d(y),t*f(y),.5*n)),p.push(2*v+3),u.push([2*v+2,2*v+3,2*v+1,2*v])):u.push([0,1,2*v+1,2*v]),(a%2===1||v<a/2)&&l.push(new o(d(m),f(m),0))}u.push(p),l.push(new o(0,0,1));var g=[];for(v=0;v<h.length;v++)g.push(h[h.length-v-1]);u.push(g),this.type=i.types.CONVEXPOLYHEDRON,r.call(this,c,u,l)}s.prototype=new r},"TUg/":function(t,e){function n(){this.equations=[]}t.exports=n,n.prototype.solve=function(t,e){return 0},n.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},n.prototype.removeEquation=function(t){var e=this.equations,n=e.indexOf(t);-1!==n&&e.splice(n,1)},n.prototype.removeAllEquations=function(){this.equations.length=0}},UZPb:function(t,e,n){var i=n("tQLc"),o=n("7MSw"),r=n("vGJX"),s=n("JcM6"),a=n("JrsB");function c(t){if(this.wheelBodies=[],this.coordinateSystem="undefined"===typeof t.coordinateSystem?new s(1,2,3):t.coordinateSystem.clone(),this.chassisBody=t.chassisBody,!this.chassisBody){var e=new r(new s(5,2,.5));this.chassisBody=new i(1,e)}this.constraints=[],this.wheelAxes=[],this.wheelForces=[]}t.exports=c,c.prototype.addWheel=function(t){t=t||{};var e=t.body;e||(e=new i(1,new o(1.2))),this.wheelBodies.push(e),this.wheelForces.push(0);new s;var n="undefined"!==typeof t.position?t.position.clone():new s,r=new s;this.chassisBody.pointToWorldFrame(n,r),e.position.set(r.x,r.y,r.z);var c="undefined"!==typeof t.axis?t.axis.clone():new s(0,1,0);this.wheelAxes.push(c);var l=new a(this.chassisBody,e,{pivotA:n,axisA:c,pivotB:s.ZERO,axisB:c,collideConnected:!1});return this.constraints.push(l),this.wheelBodies.length-1},c.prototype.setSteeringValue=function(t,e){var n=this.wheelAxes[e],i=Math.cos(t),o=Math.sin(t),r=n.x,s=n.y;this.constraints[e].axisA.set(i*r-o*s,o*r+i*s,0)},c.prototype.setMotorSpeed=function(t,e){var n=this.constraints[e];n.enableMotor(),n.motorTargetVelocity=t},c.prototype.disableMotor=function(t){var e=this.constraints[t];e.disableMotor()};var l=new s;c.prototype.setWheelForce=function(t,e){this.wheelForces[e]=t},c.prototype.applyWheelForce=function(t,e){var n=this.wheelAxes[e],i=this.wheelBodies[e],o=i.torque;n.scale(t,l),i.vectorToWorldFrame(l,l),o.vadd(l,o)},c.prototype.addToWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),i=0;i<n.length;i++)t.addBody(n[i]);for(i=0;i<e.length;i++)t.addConstraint(e[i]);t.addEventListener("preStep",this._update.bind(this))},c.prototype._update=function(){for(var t=this.wheelForces,e=0;e<t.length;e++)this.applyWheelForce(t[e],e)},c.prototype.removeFromWorld=function(t){for(var e=this.constraints,n=this.wheelBodies.concat([this.chassisBody]),i=0;i<n.length;i++)t.remove(n[i]);for(i=0;i<e.length;i++)t.removeConstraint(e[i])};var u=new s;c.prototype.getWheelSpeed=function(t){var e=this.wheelAxes[t],n=this.wheelBodies[t],i=n.angularVelocity;return this.chassisBody.vectorToWorldFrame(e,u),i.dot(u)}},UaqU:function(t,e,n){const i=n("1W5T"),o=n("QySN");class r{static init(t){for(let e=0;e<t.length;e++){const n=t[e];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}}static cleanUp(t){for(let e=0;e<t.length;e++){const n=t[e];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}}static heap(){return new i(function(t){return t.f})}static search(t,e,n){this.init(t);const i=this.heap();i.push(e);while(i.size()>0){const e=i.pop();if(e===n){let t=e;const n=[];while(t.parent)n.push(t),t=t.parent;return this.cleanUp(n),n.reverse()}e.closed=!0;const o=this.neighbours(t,e);for(let t=0,r=o.length;t<r;t++){const r=o[t];if(r.closed)continue;const s=e.g+r.cost,a=r.visited;if(!a||s<r.g){if(r.visited=!0,r.parent=e,!r.centroid||!n.centroid)throw new Error("Unexpected state");r.h=r.h||this.heuristic(r.centroid,n.centroid),r.g=s,r.f=r.g+r.h,a?i.rescoreElement(r):i.push(r)}}}return[]}static heuristic(t,e){return o.distanceToSquared(t,e)}static neighbours(t,e){const n=[];for(let i=0;i<e.neighbours.length;i++)n.push(t[e.neighbours[i]]);return n}}t.exports=r},VPcm:function(t,e,n){t.exports=r;n("JcM6"),n("kk46");var i=n("TUg/"),o=n("tQLc");function r(t){i.call(this),this.iterations=10,this.tolerance=1e-7,this.subsolver=t,this.nodes=[],this.nodePool=[];while(this.nodePool.length<128)this.nodePool.push(this.createNode())}r.prototype=new i;var s=[],a=[],c={bodies:[]},l=o.STATIC;function u(t){for(var e=t.length,n=0;n!==e;n++){var i=t[n];if(!i.visited&&!(i.body.type&l))return i}return!1}var h=[];function p(t,e,n,i){h.push(t),t.visited=!0,e(t,n,i);while(h.length){var o,r=h.pop();while(o=u(r.children))o.visited=!0,e(o,n,i),h.push(o)}}function d(t,e,n){e.push(t.body);for(var i=t.eqs.length,o=0;o!==i;o++){var r=t.eqs[o];-1===n.indexOf(r)&&n.push(r)}}function f(t,e){return e.id-t.id}r.prototype.createNode=function(){return{body:null,children:[],eqs:[],visited:!1}},r.prototype.solve=function(t,e){var n=s,i=this.nodePool,o=e.bodies,r=this.equations,l=r.length,h=o.length,v=this.subsolver;while(i.length<h)i.push(this.createNode());n.length=h;for(var y=0;y<h;y++)n[y]=i[y];for(y=0;y!==h;y++){var m=n[y];m.body=o[y],m.children.length=0,m.eqs.length=0,m.visited=!1}for(var g=0;g!==l;g++){var w=r[g],b=(y=o.indexOf(w.bi),o.indexOf(w.bj)),x=n[y],E=n[b];x.children.push(E),x.eqs.push(w),E.children.push(x),E.eqs.push(w)}var A,C=0,T=a;v.tolerance=this.tolerance,v.iterations=this.iterations;var S=c;while(A=u(n)){T.length=0,S.bodies.length=0,p(A,d,S.bodies,T);var _=T.length;T=T.sort(f);for(y=0;y!==_;y++)v.addEquation(T[y]);v.solve(t,S);v.removeAllEquations(),C++}return C}},VRzm:function(t,e,n){"use strict";var i,o,r,s,a=n("LQAc"),c=n("dyZX"),l=n("m0Pp"),u=n("I8a+"),h=n("XKFU"),p=n("0/R4"),d=n("2OiF"),f=n("9gX7"),v=n("SlkY"),y=n("69bn"),m=n("GZEu").set,g=n("gHnn")(),w=n("pbhE"),b=n("nICZ"),x=n("ol8x"),E=n("vKrd"),A="Promise",C=c.TypeError,T=c.process,S=T&&T.versions,_=S&&S.v8||"",M=c[A],R="process"==u(T),k=function(){},B=o=w.f,O=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n("K0xU")("species")]=function(t){t(k,k)};return(R||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==_.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},z=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){var i=t._v,o=1==t._s,r=0,s=function(e){var n,r,s,a=o?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(o||(2==t._h&&N(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===e.promise?l(C("Promise-chain cycle")):(r=I(n))?r.call(n,c,l):c(n)):l(i)}catch(t){u&&!s&&u.exit(),l(t)}};while(n.length>r)s(n[r++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(c,function(){var e,n,i,o=t._v,r=P(t);if(r&&(e=b(function(){R?T.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=R||P(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){m.call(c,function(){var e;R?T.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),z(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw C("Promise can't be resolved itself");(e=I(t))?g(function(){var i={_w:n,_d:!1};try{e.call(t,l(F,i,1),l(D,i,1))}catch(t){D.call(i,t)}}):(n._v=t,n._s=1,z(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};O||(M=function(t){f(this,M,A,"_h"),d(t),i.call(this);try{t(l(F,this,1),l(D,this,1))}catch(t){D.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("3Lyj")(M.prototype,{then:function(t,e){var n=B(y(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=R?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&z(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=l(F,t,1),this.reject=l(D,t,1)},w.f=B=function(t){return t===M||t===s?new r(t):o(t)}),h(h.G+h.W+h.F*!O,{Promise:M}),n("fyDq")(M,A),n("elZq")(A),s=n("g3g5")[A],h(h.S+h.F*!O,A,{reject:function(t){var e=B(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(a||!O),A,{resolve:function(t){return E(a&&this===s?M:this,t)}}),h(h.S+h.F*!(O&&n("XMVh")(function(t){M.all(t)["catch"](k)})),A,{all:function(t){var e=this,n=B(e),i=n.resolve,o=n.reject,r=b(function(){var n=[],r=0,s=1;v(t,!1,function(t){var a=r++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||i(n))},o)}),--s||i(n)});return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=B(e),i=n.reject,o=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},VTer:function(t,e,n){var i=n("g3g5"),o=n("dyZX"),r="__core-js_shared__",s=o[r]||(o[r]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("LQAc")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},W9gP:function(t,e){function n(t){return t?Array.isArray(t)?t:t.materials?t.materials:[t]:[]}function i(t,e,i,o){t&&(e=e||[],t.traverse(t=>{if(!t.isMesh)return;const r=n(t.material);r.forEach(t=>{(!t||"envMap"in t)&&(e.length&&-1===e.indexOf(t.name)||(t.envMap=i,t.reflectivity=o,t.needsUpdate=!0))})}))}t.exports=AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},format:{default:"RGBFormat",oneOf:["RGBFormat","RGBAFormat"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const t=this.data;this.texture=(new THREE.CubeTextureLoader).load([t.path+"posx."+t.extension,t.path+"negx."+t.extension,t.path+"posy."+t.extension,t.path+"negy."+t.extension,t.path+"posz."+t.extension,t.path+"negz."+t.extension]),this.texture.format=THREE[t.format],this.object3dsetHandler=(()=>{const t=this.el.getObject3D("mesh"),e=this.data;i(t,e.materials,this.texture,e.reflectivity)}),this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(t){const e=this.data,n=this.el.getObject3D("mesh");let o=[],r=[];if(e.materials.length&&(t.materials?(o=e.materials.filter(e=>!t.materials.includes(e)),r=t.materials.filter(t=>!e.materials.includes(t))):o=e.materials),o.length&&i(n,o,this.texture,e.reflectivity),r.length&&i(n,r,null,1),t.materials&&e.reflectivity!==t.reflectivity){const o=e.materials.filter(e=>t.materials.includes(e));o.length&&i(n,o,this.texture,e.reflectivity)}this.data.enableBackground&&!t.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&t.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const t=this.el.getObject3D("mesh"),e=this.data;i(t,e.materials,null,1),e.enableBackground&&this.setBackground(null)},setBackground:function(t){this.el.sceneEl.object3D.background=t}})},WcrK:function(t,e,n){var i=n("R+EB"),o=n("05W6"),r=Math.PI/2,s={BOX:"Box",CYLINDER:"Cylinder",SPHERE:"Sphere",HULL:"ConvexPolyhedron",MESH:"Trimesh"},a=function(t,e){var n;if(e=e||{},e.type===s.BOX)return l(t);if(e.type===s.CYLINDER)return p(t,e);if(e.type===s.SPHERE)return v(t,e);if(e.type===s.HULL)return u(t);if(e.type===s.MESH)return n=m(t),n?y(n):null;if(e.type)throw new Error('[CANNON.mesh2shape] Invalid type "%s".',e.type);if(n=m(t),!n)return null;var i=n.metadata?n.metadata.type:n.type;switch(i){case"BoxGeometry":case"BoxBufferGeometry":return c(n);case"CylinderGeometry":case"CylinderBufferGeometry":return h(n);case"PlaneGeometry":case"PlaneBufferGeometry":return d(n);case"SphereGeometry":case"SphereBufferGeometry":return f(n);case"TubeGeometry":case"Geometry":case"BufferGeometry":return l(t);default:return console.warn('Unrecognized geometry: "%s". Using bounding box as shape.',n.type),c(n)}};function c(t){var e=g(t);if(!e.length)return null;t.computeBoundingBox();var n=t.boundingBox;return new i.Box(new i.Vec3((n.max.x-n.min.x)/2,(n.max.y-n.min.y)/2,(n.max.z-n.min.z)/2))}function l(t){var e,n,o=new THREE.Box3,r=t.clone();return r.quaternion.set(0,0,0,1),r.updateMatrixWorld(),o.setFromObject(r),isFinite(o.min.lengthSq())?(e=new i.Box(new i.Vec3((o.max.x-o.min.x)/2,(o.max.y-o.min.y)/2,(o.max.z-o.min.z)/2)),n=o.translate(r.position.negate()).getCenter(new THREE.Vector3),n.lengthSq()&&(e.offset=n),e):null}function u(t){var e,n,r,s,a=1e-4,c=m(t);if(!c||!c.vertices.length)return null;for(e=0;e<c.vertices.length;e++)c.vertices[e].x+=(Math.random()-.5)*a,c.vertices[e].y+=(Math.random()-.5)*a,c.vertices[e].z+=(Math.random()-.5)*a;for(s=o(c),n=new Array(s.vertices.length),e=0;e<s.vertices.length;e++)n[e]=new i.Vec3(s.vertices[e].x,s.vertices[e].y,s.vertices[e].z);for(r=new Array(s.faces.length),e=0;e<s.faces.length;e++)r[e]=[s.faces[e].a,s.faces[e].b,s.faces[e].c];return new i.ConvexPolyhedron(n,r)}function h(t){var e,n=t.metadata?t.metadata.parameters:t.parameters;return e=new i.Cylinder(n.radiusTop,n.radiusBottom,n.height,n.radialSegments),e._type=i.Shape.types.CYLINDER,e.radiusTop=n.radiusTop,e.radiusBottom=n.radiusBottom,e.height=n.height,e.numSegments=n.radialSegments,e.orientation=new i.Quaternion,e.orientation.setFromEuler(THREE.Math.degToRad(90),0,0,"XYZ").normalize(),e}function p(t,e){var n,o,s,a=new THREE.Box3,c=["x","y","z"],l=e.cylinderAxis||"y",u=c.splice(c.indexOf(l),1)&&c;return a.setFromObject(t),isFinite(a.min.lengthSq())?(o=a.max[l]-a.min[l],s=.5*Math.max(a.max[u[0]]-a.min[u[0]],a.max[u[1]]-a.min[u[1]]),n=new i.Cylinder(s,s,o,12),n._type=i.Shape.types.CYLINDER,n.radiusTop=s,n.radiusBottom=s,n.height=o,n.numSegments=12,n.orientation=new i.Quaternion,n.orientation.setFromEuler("y"===l?r:0,"z"===l?r:0,0,"XYZ").normalize(),n):null}function d(t){t.computeBoundingBox();var e=t.boundingBox;return new i.Box(new i.Vec3((e.max.x-e.min.x)/2||.1,(e.max.y-e.min.y)/2||.1,(e.max.z-e.min.z)/2||.1))}function f(t){var e=t.metadata?t.metadata.parameters:t.parameters;return new i.Sphere(e.radius)}function v(t,e){if(e.sphereRadius)return new i.Sphere(e.sphereRadius);var n=m(t);return n?(n.computeBoundingSphere(),new i.Sphere(n.boundingSphere.radius)):null}function y(t){var e,n=g(t);return n.length?(e=Object.keys(n).map(Number),new i.Trimesh(n,e)):null}function m(t){var e,n,i=w(t),o=new THREE.Geometry,r=new THREE.Geometry;if(0===i.length)return null;if(1===i.length){var s=new THREE.Vector3,a=new THREE.Quaternion,c=new THREE.Vector3;return i[0].geometry.isBufferGeometry?i[0].geometry.attributes.position&&i[0].geometry.attributes.position.itemSize>2&&o.fromBufferGeometry(i[0].geometry):o=i[0].geometry.clone(),o.metadata=i[0].geometry.metadata,i[0].updateMatrixWorld(),i[0].matrixWorld.decompose(s,a,c),o.scale(c.x,c.y,c.z)}while(n=i.pop())if(n.updateMatrixWorld(),n.geometry.isBufferGeometry){if(n.geometry.attributes.position&&n.geometry.attributes.position.itemSize>2){var l=new THREE.Geometry;l.fromBufferGeometry(n.geometry),r.merge(l,n.matrixWorld),l.dispose()}}else r.merge(n.geometry,n.matrixWorld);return e=new THREE.Matrix4,e.scale(t.scale),r.applyMatrix(e),r}function g(t){return t.attributes||(t=(new THREE.BufferGeometry).fromGeometry(t)),(t.attributes.position||{}).array||[]}function w(t){var e=[];return t.traverse(function(t){"Mesh"===t.type&&e.push(t)}),e}a.Type=s,t.exports=i.mesh2shape=a},Wd2o:function(t,e,n){t.exports=r;var i=n("IABr"),o=n("JcM6");n("FKcu");function r(t,e,n){n="undefined"!==typeof n?n:1e6,i.call(this,t,e,0,n),this.restitution=0,this.ri=new o,this.rj=new o,this.ni=new o}r.prototype=new i,r.prototype.constructor=r;var s=new o,a=new o,c=new o;r.prototype.computeB=function(t){var e=this.a,n=this.b,i=this.bi,o=this.bj,r=this.ri,l=this.rj,u=s,h=a,p=i.velocity,d=i.angularVelocity,f=(i.force,i.torque,o.velocity),v=o.angularVelocity,y=(o.force,o.torque,c),m=this.jacobianElementA,g=this.jacobianElementB,w=this.ni;r.cross(w,u),l.cross(w,h),w.negate(m.spatial),u.negate(m.rotational),g.spatial.copy(w),g.rotational.copy(h),y.copy(o.position),y.vadd(l,y),y.vsub(i.position,y),y.vsub(r,y);var b=w.dot(y),x=this.restitution+1,E=x*f.dot(w)-x*p.dot(w)+v.dot(h)-d.dot(u),A=this.computeGiMf(),C=-b*e-E*n-t*A;return C};var l=new o,u=new o,h=new o,p=new o,d=new o;r.prototype.getImpactVelocityAlongNormal=function(){var t=l,e=u,n=h,i=p,o=d;return this.bi.position.vadd(this.ri,n),this.bj.position.vadd(this.rj,i),this.bi.getVelocityAtWorldPoint(n,t),this.bj.getVelocityAtWorldPoint(i,e),t.vsub(e,o),this.ni.dot(o)}},X0qH:function(t,e,n){var i=n("R+EB"),o=n("0TMJ");function r(){this.world=null,this.materials={},this.contactMaterial=null}r.prototype=new o,r.prototype.constructor=r,t.exports=r,r.prototype.init=function(t){var e=new i.World;e.quatNormalizeSkip=t.quatNormalizeSkip,e.quatNormalizeFast=t.quatNormalizeFast,e.solver.iterations=t.solverIterations,e.gravity.set(0,t.gravity,0),e.broadphase=new i.NaiveBroadphase,this.world=e},r.prototype.step=function(t){this.world.step(t)},r.prototype.destroy=function(){delete this.world,delete this.contactMaterial,this.materials={}},r.prototype.addBody=function(t){this.world.addBody(t)},r.prototype.removeBody=function(t){this.world.removeBody(t)},r.prototype.applyBodyMethod=function(t,e,n){t["__"+e].apply(t,n)},r.prototype.updateBodyProperties=function(){},r.prototype.getMaterial=function(t){return this.materials[t]},r.prototype.addMaterial=function(t){this.materials[t.name]=new i.Material(t),this.materials[t.name].name=t.name},r.prototype.addContactMaterial=function(t,e,n){var o=this.materials[t],r=this.materials[e];this.contactMaterial=new i.ContactMaterial(o,r,n),this.world.addContactMaterial(this.contactMaterial)},r.prototype.addConstraint=function(t){this.world.addConstraint(t)},r.prototype.removeConstraint=function(t){this.world.removeConstraint(t)},r.prototype.getContacts=function(){return this.world.contacts}},XKFU:function(t,e,n){var i=n("dyZX"),o=n("g3g5"),r=n("Mukb"),s=n("KroJ"),a=n("m0Pp"),c="prototype",l=function(t,e,n){var u,h,p,d,f=t&l.F,v=t&l.G,y=t&l.S,m=t&l.P,g=t&l.B,w=v?i:y?i[e]||(i[e]={}):(i[e]||{})[c],b=v?o:o[e]||(o[e]={}),x=b[c]||(b[c]={});for(u in v&&(n=e),n)h=!f&&w&&void 0!==w[u],p=(h?w:n)[u],d=g&&h?a(p,i):m&&"function"==typeof p?a(Function.call,p):p,w&&s(w,u,p,t&l.U),b[u]!=p&&r(b,u,d),m&&x[u]!=p&&(x[u]=p)};i.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},XMVh:function(t,e,n){var i=n("K0xU")("iterator"),o=!1;try{var r=[7][i]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],s=r[i]();s.next=function(){return{done:n=!0}},r[i]=function(){return s},t(r)}catch(t){}return n}},XdV9:function(t,e,n){t.exports=d;var i=n("qa/2"),o=n("tQLc"),r=n("Z6Vu"),s=n("APQl"),a=n("JcM6"),c=n("bc7U"),l=(n("XrCg"),n("kk46")),u=(n("TUg/"),n("5KPk")),h=n("Wd2o"),p=n("7wMV");function d(t){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new u,this.world=t,this.currentContactMaterial=null,this.enableFrictionReduction=!1}d.prototype.createContactEquation=function(t,e,n,i,o,r){var s;this.contactPointPool.length?(s=this.contactPointPool.pop(),s.bi=t,s.bj=e):s=new h(t,e),s.enabled=t.collisionResponse&&e.collisionResponse&&n.collisionResponse&&i.collisionResponse;var a=this.currentContactMaterial;s.restitution=a.restitution,s.setSpookParams(a.contactEquationStiffness,a.contactEquationRelaxation,this.world.dt);var c=n.material||t.material,l=i.material||e.material;return c&&l&&c.restitution>=0&&l.restitution>=0&&(s.restitution=c.restitution*l.restitution),s.si=o||n,s.sj=r||i,s},d.prototype.createFrictionEquationsFromContact=function(t,e){var n=t.bi,i=t.bj,o=t.si,r=t.sj,s=this.world,a=this.currentContactMaterial,c=a.friction,l=o.material||n.material,u=r.material||i.material;if(l&&u&&l.friction>=0&&u.friction>=0&&(c=l.friction*u.friction),c>0){var h=c*s.gravity.length(),d=n.invMass+i.invMass;d>0&&(d=1/d);var f=this.frictionEquationPool,v=f.length?f.pop():new p(n,i,h*d),y=f.length?f.pop():new p(n,i,h*d);return v.bi=y.bi=n,v.bj=y.bj=i,v.minForce=y.minForce=-h*d,v.maxForce=y.maxForce=h*d,v.ri.copy(t.ri),v.rj.copy(t.rj),y.ri.copy(t.ri),y.rj.copy(t.rj),t.ni.tangents(v.t,y.t),v.setSpookParams(a.frictionEquationStiffness,a.frictionEquationRelaxation,s.dt),y.setSpookParams(a.frictionEquationStiffness,a.frictionEquationRelaxation,s.dt),v.enabled=y.enabled=t.enabled,e.push(v,y),!0}return!1};var f=new a,v=new a,y=new a;d.prototype.createFrictionFromAverage=function(t){var e=this.result[this.result.length-1];if(this.createFrictionEquationsFromContact(e,this.frictionResult)&&1!==t){var n=this.frictionResult[this.frictionResult.length-2],i=this.frictionResult[this.frictionResult.length-1];f.setZero(),v.setZero(),y.setZero();for(var o=e.bi,r=(e.bj,0);r!==t;r++)e=this.result[this.result.length-1-r],e.bodyA!==o?(f.vadd(e.ni,f),v.vadd(e.ri,v),y.vadd(e.rj,y)):(f.vsub(e.ni,f),v.vadd(e.rj,v),y.vadd(e.ri,y));var s=1/t;v.scale(s,n.ri),y.scale(s,n.rj),i.ri.copy(n.ri),i.rj.copy(n.rj),f.normalize(),f.tangents(n.t,i.t)}};var m=new a,g=new a,w=new l,b=new l;d.prototype.getContacts=function(t,e,n,i,r,s,a){this.contactPointPool=r,this.frictionEquationPool=a,this.result=i,this.frictionResult=s;for(var c=w,l=b,u=m,h=g,p=0,d=t.length;p!==d;p++){var f=t[p],v=e[p],y=null;f.material&&v.material&&(y=n.getContactMaterial(f.material,v.material)||null);for(var x=f.type&o.KINEMATIC&&v.type&o.STATIC||f.type&o.STATIC&&v.type&o.KINEMATIC||f.type&o.KINEMATIC&&v.type&o.KINEMATIC,E=0;E<f.shapes.length;E++){f.quaternion.mult(f.shapeOrientations[E],c),f.quaternion.vmult(f.shapeOffsets[E],u),u.vadd(f.position,u);for(var A=f.shapes[E],C=0;C<v.shapes.length;C++){v.quaternion.mult(v.shapeOrientations[C],l),v.quaternion.vmult(v.shapeOffsets[C],h),h.vadd(v.position,h);var T=v.shapes[C];if(!(u.distanceTo(h)>A.boundingSphereRadius+T.boundingSphereRadius)){var S=null;A.material&&T.material&&(S=n.getContactMaterial(A.material,T.material)||null),this.currentContactMaterial=S||y||n.defaultContactMaterial;var _=this[A.type|T.type];if(_){var M=!1;M=A.type<T.type?_.call(this,A,T,u,h,c,l,f,v,A,T,x):_.call(this,T,A,h,u,l,c,v,f,A,T,x),M&&x&&(n.shapeOverlapKeeper.set(A.id,T.id),n.bodyOverlapKeeper.set(f.id,v.id))}}}}}};d.prototype[r.types.BOX|r.types.BOX]=d.prototype.boxBox=function(t,e,n,i,o,r,s,a,c,l,u){return t.convexPolyhedronRepresentation.material=t.material,e.convexPolyhedronRepresentation.material=e.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e.convexPolyhedronRepresentation,n,i,o,r,s,a,t,e,u)},d.prototype[r.types.BOX|r.types.CONVEXPOLYHEDRON]=d.prototype.boxConvex=function(t,e,n,i,o,r,s,a,c,l,u){return t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexConvex(t.convexPolyhedronRepresentation,e,n,i,o,r,s,a,t,e,u)},d.prototype[r.types.BOX|r.types.PARTICLE]=d.prototype.boxParticle=function(t,e,n,i,o,r,s,a,c,l,u){return t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexParticle(t.convexPolyhedronRepresentation,e,n,i,o,r,s,a,t,e,u)},d.prototype[r.types.SPHERE]=d.prototype.sphereSphere=function(t,e,n,i,o,r,s,a,c,l,u){if(u)return n.distanceSquared(i)<Math.pow(t.radius+e.radius,2);var h=this.createContactEquation(s,a,t,e,c,l);i.vsub(n,h.ni),h.ni.normalize(),h.ri.copy(h.ni),h.rj.copy(h.ni),h.ri.mult(t.radius,h.ri),h.rj.mult(-e.radius,h.rj),h.ri.vadd(n,h.ri),h.ri.vsub(s.position,h.ri),h.rj.vadd(i,h.rj),h.rj.vsub(a.position,h.rj),this.result.push(h),this.createFrictionEquationsFromContact(h,this.frictionResult)};var x=new a,E=new a,A=new a;d.prototype[r.types.PLANE|r.types.TRIMESH]=d.prototype.planeTrimesh=function(t,e,n,i,o,r,s,l,u,h,p){var d=new a,f=x;f.set(0,0,1),o.vmult(f,f);for(var v=0;v<e.vertices.length/3;v++){e.getVertex(v,d);var y=new a;y.copy(d),c.pointToWorldFrame(i,r,y,d);var m=E;d.vsub(n,m);var g=f.dot(m);if(g<=0){if(p)return!0;var w=this.createContactEquation(s,l,t,e,u,h);w.ni.copy(f);var b=A;f.scale(m.dot(f),b),d.vsub(b,b),w.ri.copy(b),w.ri.vsub(s.position,w.ri),w.rj.copy(d),w.rj.vsub(l.position,w.rj),this.result.push(w),this.createFrictionEquationsFromContact(w,this.frictionResult)}}};var C=new a,T=new a,S=(new a,new a),_=new a,M=new a,R=new a,k=new a,B=new a,O=new a,I=new a,z=new a,L=new a,P=new a,N=new i,D=[];d.prototype[r.types.SPHERE|r.types.TRIMESH]=d.prototype.sphereTrimesh=function(t,e,n,i,o,r,a,l,u,h,p){var d=M,f=R,v=k,y=B,m=O,g=I,w=N,b=_,x=T,E=D;c.pointToLocalFrame(i,r,n,m);var A=t.radius;w.lowerBound.set(m.x-A,m.y-A,m.z-A),w.upperBound.set(m.x+A,m.y+A,m.z+A),e.getTrianglesInAABB(w,E);for(var F=S,j=t.radius*t.radius,H=0;H<E.length;H++)for(var V=0;V<3;V++)if(e.getVertex(e.indices[3*E[H]+V],F),F.vsub(m,x),x.norm2()<=j){if(b.copy(F),c.pointToWorldFrame(i,r,b,F),F.vsub(n,x),p)return!0;var q=this.createContactEquation(a,l,t,e,u,h);q.ni.copy(x),q.ni.normalize(),q.ri.copy(q.ni),q.ri.scale(t.radius,q.ri),q.ri.vadd(n,q.ri),q.ri.vsub(a.position,q.ri),q.rj.copy(F),q.rj.vsub(l.position,q.rj),this.result.push(q),this.createFrictionEquationsFromContact(q,this.frictionResult)}for(H=0;H<E.length;H++)for(V=0;V<3;V++){e.getVertex(e.indices[3*E[H]+V],d),e.getVertex(e.indices[3*E[H]+(V+1)%3],f),f.vsub(d,v),m.vsub(f,g);var U=g.dot(v);m.vsub(d,g);var W=g.dot(v);if(W>0&&U<0){m.vsub(d,g),y.copy(v),y.normalize(),W=g.dot(y),y.scale(W,g),g.vadd(d,g);var G=g.distanceTo(m);if(G<t.radius){if(p)return!0;q=this.createContactEquation(a,l,t,e,u,h);g.vsub(m,q.ni),q.ni.normalize(),q.ni.scale(t.radius,q.ri),c.pointToWorldFrame(i,r,g,g),g.vsub(l.position,q.rj),c.vectorToWorldFrame(r,q.ni,q.ni),c.vectorToWorldFrame(r,q.ri,q.ri),this.result.push(q),this.createFrictionEquationsFromContact(q,this.frictionResult)}}}for(var K=z,$=L,X=P,Z=C,Y=(H=0,E.length);H!==Y;H++){e.getTriangleVertices(E[H],K,$,X),e.getNormal(E[H],Z),m.vsub(K,g);G=g.dot(Z);if(Z.scale(G,g),m.vsub(g,g),G=g.distanceTo(m),s.pointInTriangle(g,K,$,X)&&G<t.radius){if(p)return!0;q=this.createContactEquation(a,l,t,e,u,h);g.vsub(m,q.ni),q.ni.normalize(),q.ni.scale(t.radius,q.ri),c.pointToWorldFrame(i,r,g,g),g.vsub(l.position,q.rj),c.vectorToWorldFrame(r,q.ni,q.ni),c.vectorToWorldFrame(r,q.ri,q.ri),this.result.push(q),this.createFrictionEquationsFromContact(q,this.frictionResult)}}E.length=0};var F=new a,j=new a;d.prototype[r.types.SPHERE|r.types.PLANE]=d.prototype.spherePlane=function(t,e,n,i,o,r,s,a,c,l,u){var h=this.createContactEquation(s,a,t,e,c,l);if(h.ni.set(0,0,1),r.vmult(h.ni,h.ni),h.ni.negate(h.ni),h.ni.normalize(),h.ni.mult(t.radius,h.ri),n.vsub(i,F),h.ni.mult(h.ni.dot(F),j),F.vsub(j,h.rj),-F.dot(h.ni)<=t.radius){if(u)return!0;var p=h.ri,d=h.rj;p.vadd(n,p),p.vsub(s.position,p),d.vadd(i,d),d.vsub(a.position,d),this.result.push(h),this.createFrictionEquationsFromContact(h,this.frictionResult)}};var H=new a,V=new a,q=new a;function U(t,e,n){for(var i=null,o=t.length,r=0;r!==o;r++){var s=t[r],a=H;t[(r+1)%o].vsub(s,a);var c=V;a.cross(e,c);var l=q;n.vsub(s,l);var u=c.dot(l);if(!(null===i||u>0&&!0===i||u<=0&&!1===i))return!1;null===i&&(i=u>0)}return!0}var W=new a,G=new a,K=new a,$=new a,X=[new a,new a,new a,new a,new a,new a],Z=new a,Y=new a,J=new a,Q=new a;d.prototype[r.types.SPHERE|r.types.BOX]=d.prototype.sphereBox=function(t,e,n,i,o,r,s,a,c,l,u){var h=this.v3pool,p=X;n.vsub(i,W),e.getSideNormals(p,r);for(var d=t.radius,f=!1,v=Y,y=J,m=Q,g=null,w=0,b=0,x=0,E=null,A=0,C=p.length;A!==C&&!1===f;A++){var T=G;T.copy(p[A]);var S=T.norm();T.normalize();var _=W.dot(T);if(_<S+d&&_>0){var M=K,R=$;M.copy(p[(A+1)%3]),R.copy(p[(A+2)%3]);var k=M.norm(),B=R.norm();M.normalize(),R.normalize();var O=W.dot(M),I=W.dot(R);if(O<k&&O>-k&&I<B&&I>-B){var z=Math.abs(_-S-d);if((null===E||z<E)&&(E=z,b=O,x=I,g=S,v.copy(T),y.copy(M),m.copy(R),w++,u))return!0}}}if(w){f=!0;var L=this.createContactEquation(s,a,t,e,c,l);v.mult(-d,L.ri),L.ni.copy(v),L.ni.negate(L.ni),v.mult(g,v),y.mult(b,y),v.vadd(y,v),m.mult(x,m),v.vadd(m,L.rj),L.ri.vadd(n,L.ri),L.ri.vsub(s.position,L.ri),L.rj.vadd(i,L.rj),L.rj.vsub(a.position,L.rj),this.result.push(L),this.createFrictionEquationsFromContact(L,this.frictionResult)}for(var P=h.get(),N=Z,D=0;2!==D&&!f;D++)for(var F=0;2!==F&&!f;F++)for(var j=0;2!==j&&!f;j++)if(P.set(0,0,0),D?P.vadd(p[0],P):P.vsub(p[0],P),F?P.vadd(p[1],P):P.vsub(p[1],P),j?P.vadd(p[2],P):P.vsub(p[2],P),i.vadd(P,N),N.vsub(n,N),N.norm2()<d*d){if(u)return!0;f=!0;L=this.createContactEquation(s,a,t,e,c,l);L.ri.copy(N),L.ri.normalize(),L.ni.copy(L.ri),L.ri.mult(d,L.ri),L.rj.copy(P),L.ri.vadd(n,L.ri),L.ri.vsub(s.position,L.ri),L.rj.vadd(i,L.rj),L.rj.vsub(a.position,L.rj),this.result.push(L),this.createFrictionEquationsFromContact(L,this.frictionResult)}h.release(P),P=null;var H=h.get(),V=h.get(),q=(L=h.get(),h.get()),U=(z=h.get(),p.length);for(D=0;D!==U&&!f;D++)for(F=0;F!==U&&!f;F++)if(D%3!==F%3){p[F].cross(p[D],H),H.normalize(),p[D].vadd(p[F],V),L.copy(n),L.vsub(V,L),L.vsub(i,L);var tt=L.dot(H);H.mult(tt,q);j=0;while(j===D%3||j===F%3)j++;z.copy(n),z.vsub(q,z),z.vsub(V,z),z.vsub(i,z);var et=Math.abs(tt),nt=z.norm();if(et<p[j].norm()&&nt<d){if(u)return!0;f=!0;var it=this.createContactEquation(s,a,t,e,c,l);V.vadd(q,it.rj),it.rj.copy(it.rj),z.negate(it.ni),it.ni.normalize(),it.ri.copy(it.rj),it.ri.vadd(i,it.ri),it.ri.vsub(n,it.ri),it.ri.normalize(),it.ri.mult(d,it.ri),it.ri.vadd(n,it.ri),it.ri.vsub(s.position,it.ri),it.rj.vadd(i,it.rj),it.rj.vsub(a.position,it.rj),this.result.push(it),this.createFrictionEquationsFromContact(it,this.frictionResult)}}h.release(H,V,L,q,z)};var tt=new a,et=new a,nt=new a,it=new a,ot=new a,rt=new a,st=new a,at=new a,ct=new a,lt=new a;d.prototype[r.types.SPHERE|r.types.CONVEXPOLYHEDRON]=d.prototype.sphereConvex=function(t,e,n,i,o,r,s,a,c,l,u){var h=this.v3pool;n.vsub(i,tt);for(var p=e.faceNormals,d=e.faces,f=e.vertices,v=t.radius,y=0;y!==f.length;y++){var m=f[y],g=ot;r.vmult(m,g),i.vadd(g,g);var w=it;if(g.vsub(n,w),w.norm2()<v*v){if(u)return!0;x=!0;var b=this.createContactEquation(s,a,t,e,c,l);return b.ri.copy(w),b.ri.normalize(),b.ni.copy(b.ri),b.ri.mult(v,b.ri),g.vsub(i,b.rj),b.ri.vadd(n,b.ri),b.ri.vsub(s.position,b.ri),b.rj.vadd(i,b.rj),b.rj.vsub(a.position,b.rj),this.result.push(b),void this.createFrictionEquationsFromContact(b,this.frictionResult)}}for(var x=!1,E=(y=0,d.length);y!==E&&!1===x;y++){var A=p[y],C=d[y],T=rt;r.vmult(A,T);var S=st;r.vmult(f[C[0]],S),S.vadd(i,S);var _=at;T.mult(-v,_),n.vadd(_,_);var M=ct;_.vsub(S,M);var R=M.dot(T),k=lt;if(n.vsub(S,k),R<0&&k.dot(T)>0){for(var B=[],O=0,I=C.length;O!==I;O++){var z=h.get();r.vmult(f[C[O]],z),i.vadd(z,z),B.push(z)}if(U(B,T,n)){if(u)return!0;x=!0;b=this.createContactEquation(s,a,t,e,c,l);T.mult(-v,b.ri),T.negate(b.ni);var L=h.get();T.mult(-R,L);var P=h.get();T.mult(-v,P),n.vsub(i,b.rj),b.rj.vadd(P,b.rj),b.rj.vadd(L,b.rj),b.rj.vadd(i,b.rj),b.rj.vsub(a.position,b.rj),b.ri.vadd(n,b.ri),b.ri.vsub(s.position,b.ri),h.release(L),h.release(P),this.result.push(b),this.createFrictionEquationsFromContact(b,this.frictionResult);O=0;for(var N=B.length;O!==N;O++)h.release(B[O]);return}for(O=0;O!==C.length;O++){var D=h.get(),F=h.get();r.vmult(f[C[(O+1)%C.length]],D),r.vmult(f[C[(O+2)%C.length]],F),i.vadd(D,D),i.vadd(F,F);var j=et;F.vsub(D,j);var H=nt;j.unit(H);var V=h.get(),q=h.get();n.vsub(D,q);var W=q.dot(H);H.mult(W,V),V.vadd(D,V);var G=h.get();if(V.vsub(n,G),W>0&&W*W<j.norm2()&&G.norm2()<v*v){if(u)return!0;b=this.createContactEquation(s,a,t,e,c,l);V.vsub(i,b.rj),V.vsub(n,b.ni),b.ni.normalize(),b.ni.mult(v,b.ri),b.rj.vadd(i,b.rj),b.rj.vsub(a.position,b.rj),b.ri.vadd(n,b.ri),b.ri.vsub(s.position,b.ri),this.result.push(b),this.createFrictionEquationsFromContact(b,this.frictionResult);for(O=0,N=B.length;O!==N;O++)h.release(B[O]);return h.release(D),h.release(F),h.release(V),h.release(G),void h.release(q)}h.release(D),h.release(F),h.release(V),h.release(G),h.release(q)}for(O=0,N=B.length;O!==N;O++)h.release(B[O])}}};new a,new a;d.prototype[r.types.PLANE|r.types.BOX]=d.prototype.planeBox=function(t,e,n,i,o,r,s,a,c,l,u){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,e.convexPolyhedronRepresentation.id=e.id,this.planeConvex(t,e.convexPolyhedronRepresentation,n,i,o,r,s,a,t,e,u)};var ut=new a,ht=new a,pt=new a,dt=new a;d.prototype[r.types.PLANE|r.types.CONVEXPOLYHEDRON]=d.prototype.planeConvex=function(t,e,n,i,o,r,s,a,c,l,u){var h=ut,p=ht;p.set(0,0,1),o.vmult(p,p);for(var d=0,f=pt,v=0;v!==e.vertices.length;v++){h.copy(e.vertices[v]),r.vmult(h,h),i.vadd(h,h),h.vsub(n,f);var y=p.dot(f);if(y<=0){if(u)return!0;var m=this.createContactEquation(s,a,t,e,c,l),g=dt;p.mult(p.dot(f),g),h.vsub(g,g),g.vsub(n,m.ri),m.ni.copy(p),h.vsub(i,m.rj),m.ri.vadd(n,m.ri),m.ri.vsub(s.position,m.ri),m.rj.vadd(i,m.rj),m.rj.vsub(a.position,m.rj),this.result.push(m),d++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(m,this.frictionResult)}}this.enableFrictionReduction&&d&&this.createFrictionFromAverage(d)};var ft=new a,vt=new a;d.prototype[r.types.CONVEXPOLYHEDRON]=d.prototype.convexConvex=function(t,e,n,i,o,r,s,a,c,l,u,h,p){var d=ft;if(!(n.distanceTo(i)>t.boundingSphereRadius+e.boundingSphereRadius)&&t.findSeparatingAxis(e,n,o,i,r,d,h,p)){var f=[],v=vt;t.clipAgainstHull(n,o,e,i,r,d,-100,100,f);for(var y=0,m=0;m!==f.length;m++){if(u)return!0;var g=this.createContactEquation(s,a,t,e,c,l),w=g.ri,b=g.rj;d.negate(g.ni),f[m].normal.negate(v),v.mult(f[m].depth,v),f[m].point.vadd(v,w),b.copy(f[m].point),w.vsub(n,w),b.vsub(i,b),w.vadd(n,w),w.vsub(s.position,w),b.vadd(i,b),b.vsub(a.position,b),this.result.push(g),y++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(g,this.frictionResult)}this.enableFrictionReduction&&y&&this.createFrictionFromAverage(y)}};var yt=new a,mt=new a,gt=new a;d.prototype[r.types.PLANE|r.types.PARTICLE]=d.prototype.planeParticle=function(t,e,n,i,o,r,s,a,c,l,u){var h=yt;h.set(0,0,1),s.quaternion.vmult(h,h);var p=mt;i.vsub(s.position,p);var d=h.dot(p);if(d<=0){if(u)return!0;var f=this.createContactEquation(a,s,e,t,c,l);f.ni.copy(h),f.ni.negate(f.ni),f.ri.set(0,0,0);var v=gt;h.mult(h.dot(i),v),i.vsub(v,v),f.rj.copy(v),this.result.push(f),this.createFrictionEquationsFromContact(f,this.frictionResult)}};var wt=new a;d.prototype[r.types.PARTICLE|r.types.SPHERE]=d.prototype.sphereParticle=function(t,e,n,i,o,r,s,a,c,l,u){var h=wt;h.set(0,0,1),i.vsub(n,h);var p=h.norm2();if(p<=t.radius*t.radius){if(u)return!0;var d=this.createContactEquation(a,s,e,t,c,l);h.normalize(),d.rj.copy(h),d.rj.mult(t.radius,d.rj),d.ni.copy(h),d.ni.negate(d.ni),d.ri.set(0,0,0),this.result.push(d),this.createFrictionEquationsFromContact(d,this.frictionResult)}};var bt=new l,xt=new a,Et=(new a,new a),At=new a,Ct=new a;d.prototype[r.types.PARTICLE|r.types.CONVEXPOLYHEDRON]=d.prototype.convexParticle=function(t,e,n,i,o,r,s,a,c,l,u){var h=-1,p=Et,d=Ct,f=null,v=xt;if(v.copy(i),v.vsub(n,v),o.conjugate(bt),bt.vmult(v,v),t.pointIsInside(v)){t.worldVerticesNeedsUpdate&&t.computeWorldVertices(n,o),t.worldFaceNormalsNeedsUpdate&&t.computeWorldFaceNormals(o);for(var y=0,m=t.faces.length;y!==m;y++){var g=[t.worldVertices[t.faces[y][0]]],w=t.worldFaceNormals[y];i.vsub(g[0],At);var b=-w.dot(At);if(null===f||Math.abs(b)<Math.abs(f)){if(u)return!0;f=b,h=y,p.copy(w),0}}if(-1!==h){var x=this.createContactEquation(a,s,e,t,c,l);p.mult(f,d),d.vadd(i,d),d.vsub(n,d),x.rj.copy(d),p.negate(x.ni),x.ri.set(0,0,0);var E=x.ri,A=x.rj;E.vadd(i,E),E.vsub(a.position,E),A.vadd(n,A),A.vsub(s.position,A),this.result.push(x),this.createFrictionEquationsFromContact(x,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}},d.prototype[r.types.BOX|r.types.HEIGHTFIELD]=d.prototype.boxHeightfield=function(t,e,n,i,o,r,s,a,c,l,u){return t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexHeightfield(t.convexPolyhedronRepresentation,e,n,i,o,r,s,a,t,e,u)};var Tt=new a,St=new a,_t=[0];d.prototype[r.types.CONVEXPOLYHEDRON|r.types.HEIGHTFIELD]=d.prototype.convexHeightfield=function(t,e,n,i,o,r,s,a,l,u,h){var p=e.data,d=e.elementSize,f=t.boundingSphereRadius,v=St,y=_t,m=Tt;c.pointToLocalFrame(i,r,n,m);var g=Math.floor((m.x-f)/d)-1,w=Math.ceil((m.x+f)/d)+1,b=Math.floor((m.y-f)/d)-1,x=Math.ceil((m.y+f)/d)+1;if(!(w<0||x<0||g>p.length||b>p[0].length)){g<0&&(g=0),w<0&&(w=0),b<0&&(b=0),x<0&&(x=0),g>=p.length&&(g=p.length-1),w>=p.length&&(w=p.length-1),x>=p[0].length&&(x=p[0].length-1),b>=p[0].length&&(b=p[0].length-1);var E=[];e.getRectMinMax(g,b,w,x,E);var A=E[0],C=E[1];if(!(m.z-f>C||m.z+f<A))for(var T=g;T<w;T++)for(var S=b;S<x;S++){var _=!1;if(e.getConvexTrianglePillar(T,S,!1),c.pointToWorldFrame(i,r,e.pillarOffset,v),n.distanceTo(v)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&(_=this.convexConvex(t,e.pillarConvex,n,v,o,r,s,a,null,null,h,y,null)),h&&_)return!0;if(e.getConvexTrianglePillar(T,S,!0),c.pointToWorldFrame(i,r,e.pillarOffset,v),n.distanceTo(v)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&(_=this.convexConvex(t,e.pillarConvex,n,v,o,r,s,a,null,null,h,y,null)),h&&_)return!0}}};var Mt=new a,Rt=new a;d.prototype[r.types.SPHERE|r.types.HEIGHTFIELD]=d.prototype.sphereHeightfield=function(t,e,n,i,o,r,s,a,l,u,h){var p=e.data,d=t.radius,f=e.elementSize,v=Rt,y=Mt;c.pointToLocalFrame(i,r,n,y);var m=Math.floor((y.x-d)/f)-1,g=Math.ceil((y.x+d)/f)+1,w=Math.floor((y.y-d)/f)-1,b=Math.ceil((y.y+d)/f)+1;if(!(g<0||b<0||m>p.length||b>p[0].length)){m<0&&(m=0),g<0&&(g=0),w<0&&(w=0),b<0&&(b=0),m>=p.length&&(m=p.length-1),g>=p.length&&(g=p.length-1),b>=p[0].length&&(b=p[0].length-1),w>=p[0].length&&(w=p[0].length-1);var x=[];e.getRectMinMax(m,w,g,b,x);var E=x[0],A=x[1];if(!(y.z-d>A||y.z+d<E))for(var C=this.result,T=m;T<g;T++)for(var S=w;S<b;S++){var _=C.length,M=!1;if(e.getConvexTrianglePillar(T,S,!1),c.pointToWorldFrame(i,r,e.pillarOffset,v),n.distanceTo(v)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&(M=this.sphereConvex(t,e.pillarConvex,n,v,o,r,s,a,t,e,h)),h&&M)return!0;if(e.getConvexTrianglePillar(T,S,!0),c.pointToWorldFrame(i,r,e.pillarOffset,v),n.distanceTo(v)<e.pillarConvex.boundingSphereRadius+t.boundingSphereRadius&&(M=this.sphereConvex(t,e.pillarConvex,n,v,o,r,s,a,t,e,h)),h&&M)return!0;var R=C.length-_;if(R>2)return}}}},XrCg:function(t,e,n){t.exports=s;var i=n("Z6Vu"),o=n("JcM6"),r=(n("kk46"),n("bc7U"));function s(t,e,n){i.call(this),this.type=i.types.CONVEXPOLYHEDRON,this.vertices=t||[],this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.faces=e||[],this.faceNormals=[],this.computeNormals(),this.worldFaceNormalsNeedsUpdate=!0,this.worldFaceNormals=[],this.uniqueEdges=[],this.uniqueAxes=n?n.slice():null,this.computeEdges(),this.updateBoundingSphereRadius()}s.prototype=new i,s.prototype.constructor=s;var a=new o;s.prototype.computeEdges=function(){var t=this.faces,e=this.vertices,n=(e.length,this.uniqueEdges);n.length=0;for(var i=a,o=0;o!==t.length;o++)for(var r=t[o],s=r.length,c=0;c!==s;c++){var l=(c+1)%s;e[r[c]].vsub(e[r[l]],i),i.normalize();for(var u=!1,h=0;h!==n.length;h++)if(n[h].almostEquals(i)||n[h].almostEquals(i)){u=!0;break}u||n.push(i.clone())}},s.prototype.computeNormals=function(){this.faceNormals.length=this.faces.length;for(var t=0;t<this.faces.length;t++){for(var e=0;e<this.faces[t].length;e++)if(!this.vertices[this.faces[t][e]])throw new Error("Vertex "+this.faces[t][e]+" not found!");var n=this.faceNormals[t]||new o;this.getFaceNormal(t,n),n.negate(n),this.faceNormals[t]=n;var i=this.vertices[this.faces[t][0]];if(n.dot(i)<0){console.error(".faceNormals["+t+"] = Vec3("+n.toString()+") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.");for(e=0;e<this.faces[t].length;e++)console.warn(".vertices["+this.faces[t][e]+"] = Vec3("+this.vertices[this.faces[t][e]].toString()+")")}}};var c=new o,l=new o;s.computeNormal=function(t,e,n,i){e.vsub(t,l),n.vsub(e,c),c.cross(l,i),i.isZero()||i.normalize()},s.prototype.getFaceNormal=function(t,e){var n=this.faces[t],i=this.vertices[n[0]],o=this.vertices[n[1]],r=this.vertices[n[2]];return s.computeNormal(i,o,r,e)};var u=new o;s.prototype.clipAgainstHull=function(t,e,n,i,r,s,a,c,l){for(var h=u,p=-1,d=-Number.MAX_VALUE,f=0;f<n.faces.length;f++){h.copy(n.faceNormals[f]),r.vmult(h,h);var v=h.dot(s);v>d&&(d=v,p=f)}for(var y=[],m=n.faces[p],g=m.length,w=0;w<g;w++){var b=n.vertices[m[w]],x=new o;x.copy(b),r.vmult(x,x),i.vadd(x,x),y.push(x)}p>=0&&this.clipFaceAgainstHull(s,t,e,y,a,c,l)};var h=new o,p=new o,d=new o,f=new o,v=new o,y=new o;s.prototype.findSeparatingAxis=function(t,e,n,i,o,r,s,a){var c=h,l=p,u=d,m=f,g=v,w=y,b=Number.MAX_VALUE,x=this;if(x.uniqueAxes)for(A=0;A!==x.uniqueAxes.length;A++){n.vmult(x.uniqueAxes[A],c);T=x.testSepAxis(c,t,e,n,i,o);if(!1===T)return!1;T<b&&(b=T,r.copy(c))}else for(var E=s?s.length:x.faces.length,A=0;A<E;A++){var C=s?s[A]:A;c.copy(x.faceNormals[C]),n.vmult(c,c);var T=x.testSepAxis(c,t,e,n,i,o);if(!1===T)return!1;T<b&&(b=T,r.copy(c))}if(t.uniqueAxes)for(A=0;A!==t.uniqueAxes.length;A++){o.vmult(t.uniqueAxes[A],l),0;T=x.testSepAxis(l,t,e,n,i,o);if(!1===T)return!1;T<b&&(b=T,r.copy(l))}else for(var S=a?a.length:t.faces.length,A=0;A<S;A++){C=a?a[A]:A;l.copy(t.faceNormals[C]),o.vmult(l,l),0;var T=x.testSepAxis(l,t,e,n,i,o);if(!1===T)return!1;T<b&&(b=T,r.copy(l))}for(var _=0;_!==x.uniqueEdges.length;_++){n.vmult(x.uniqueEdges[_],m);for(var M=0;M!==t.uniqueEdges.length;M++)if(o.vmult(t.uniqueEdges[M],g),m.cross(g,w),!w.almostZero()){w.normalize();var R=x.testSepAxis(w,t,e,n,i,o);if(!1===R)return!1;R<b&&(b=R,r.copy(w))}}return i.vsub(e,u),u.dot(r)>0&&r.negate(r),!0};var m=[],g=[];s.prototype.testSepAxis=function(t,e,n,i,o,r){var a=this;s.project(a,t,n,i,m),s.project(e,t,o,r,g);var c=m[0],l=m[1],u=g[0],h=g[1];if(c<h||u<l)return!1;var p=c-h,d=u-l,f=p<d?p:d;return f};var w=new o,b=new o;s.prototype.calculateLocalInertia=function(t,e){this.computeLocalAABB(w,b);var n=b.x-w.x,i=b.y-w.y,o=b.z-w.z;e.x=1/12*t*(2*i*2*i+2*o*2*o),e.y=1/12*t*(2*n*2*n+2*o*2*o),e.z=1/12*t*(2*i*2*i+2*n*2*n)},s.prototype.getPlaneConstantOfFace=function(t){var e=this.faces[t],n=this.faceNormals[t],i=this.vertices[e[0]],o=-n.dot(i);return o};var x=new o,E=new o,A=new o,C=new o,T=new o,S=new o,_=new o,M=new o;s.prototype.clipFaceAgainstHull=function(t,e,n,i,o,r,s){for(var a=x,c=E,l=A,u=C,h=T,p=S,d=_,f=M,v=this,y=[],m=i,g=y,w=-1,b=Number.MAX_VALUE,R=0;R<v.faces.length;R++){a.copy(v.faceNormals[R]),n.vmult(a,a);var k=a.dot(t);k<b&&(b=k,w=R)}if(!(w<0)){var B=v.faces[w];B.connectedFaces=[];for(var O=0;O<v.faces.length;O++)for(var I=0;I<v.faces[O].length;I++)-1!==B.indexOf(v.faces[O][I])&&O!==w&&-1===B.connectedFaces.indexOf(O)&&B.connectedFaces.push(O);m.length;for(var z=B.length,L=0;L<z;L++){var P=v.vertices[B[L]],N=v.vertices[B[(L+1)%z]];P.vsub(N,c),l.copy(c),n.vmult(l,l),e.vadd(l,l),u.copy(this.faceNormals[w]),n.vmult(u,u),e.vadd(u,u),l.cross(u,h),h.negate(h),p.copy(P),n.vmult(p,p),e.vadd(p,p);p.dot(h);var D=B.connectedFaces[L];d.copy(this.faceNormals[D]);var F=this.getPlaneConstantOfFace(D);f.copy(d),n.vmult(f,f);var j=F-f.dot(e);this.clipFaceAgainstPlane(m,g,f,j);while(m.length)m.shift();while(g.length)m.push(g.shift())}d.copy(this.faceNormals[w]);F=this.getPlaneConstantOfFace(w);f.copy(d),n.vmult(f,f);for(j=F-f.dot(e),O=0;O<m.length;O++){var H=f.dot(m[O])+j;if(H<=o&&(console.log("clamped: depth="+H+" to minDist="+o),H=o),H<=r){var V=m[O];if(H<=0){var q={point:V,normal:f,depth:H};s.push(q)}}}}},s.prototype.clipFaceAgainstPlane=function(t,e,n,i){var r,s,a=t.length;if(a<2)return e;var c=t[t.length-1],l=t[0];r=n.dot(c)+i;for(var u=0;u<a;u++){if(l=t[u],s=n.dot(l)+i,r<0)if(s<0){var h=new o;h.copy(l),e.push(h)}else{h=new o;c.lerp(l,r/(r-s),h),e.push(h)}else if(s<0){h=new o;c.lerp(l,r/(r-s),h),e.push(h),e.push(l)}c=l,r=s}return e},s.prototype.computeWorldVertices=function(t,e){var n=this.vertices.length;while(this.worldVertices.length<n)this.worldVertices.push(new o);for(var i=this.vertices,r=this.worldVertices,s=0;s!==n;s++)e.vmult(i[s],r[s]),t.vadd(r[s],r[s]);this.worldVerticesNeedsUpdate=!1};new o;s.prototype.computeLocalAABB=function(t,e){var n=this.vertices.length,i=this.vertices;t.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),e.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(var o=0;o<n;o++){var r=i[o];r.x<t.x?t.x=r.x:r.x>e.x&&(e.x=r.x),r.y<t.y?t.y=r.y:r.y>e.y&&(e.y=r.y),r.z<t.z?t.z=r.z:r.z>e.z&&(e.z=r.z)}},s.prototype.computeWorldFaceNormals=function(t){var e=this.faceNormals.length;while(this.worldFaceNormals.length<e)this.worldFaceNormals.push(new o);for(var n=this.faceNormals,i=this.worldFaceNormals,r=0;r!==e;r++)t.vmult(n[r],i[r]);this.worldFaceNormalsNeedsUpdate=!1},s.prototype.updateBoundingSphereRadius=function(){for(var t=0,e=this.vertices,n=0,i=e.length;n!==i;n++){var o=e[n].norm2();o>t&&(t=o)}this.boundingSphereRadius=Math.sqrt(t)};var R=new o;s.prototype.calculateWorldAABB=function(t,e,n,i){for(var o,r,s,a,c,l,u=this.vertices.length,h=this.vertices,p=0;p<u;p++){R.copy(h[p]),e.vmult(R,R),t.vadd(R,R);var d=R;d.x<o||void 0===o?o=d.x:(d.x>a||void 0===a)&&(a=d.x),d.y<r||void 0===r?r=d.y:(d.y>c||void 0===c)&&(c=d.y),d.z<s||void 0===s?s=d.z:(d.z>l||void 0===l)&&(l=d.z)}n.set(o,r,s),i.set(a,c,l)},s.prototype.volume=function(){return 4*Math.PI*this.boundingSphereRadius/3},s.prototype.getAveragePointLocal=function(t){t=t||new o;for(var e=this.vertices.length,n=this.vertices,i=0;i<e;i++)t.vadd(n[i],t);return t.mult(1/e,t),t},s.prototype.transformAllPoints=function(t,e){var n=this.vertices.length,i=this.vertices;if(e){for(var o=0;o<n;o++){var r=i[o];e.vmult(r,r)}for(o=0;o<this.faceNormals.length;o++){r=this.faceNormals[o];e.vmult(r,r)}}if(t)for(o=0;o<n;o++){r=i[o];r.vadd(t,r)}};var k=new o,B=new o,O=new o;s.prototype.pointIsInside=function(t){var e=this.vertices.length,n=this.vertices,i=this.faces,o=this.faceNormals,r=null,s=this.faces.length,a=k;this.getAveragePointLocal(a);for(var c=0;c<s;c++){this.faces[c].length,e=o[c];var l=n[i[c][0]],u=B;t.vsub(l,u);var h=e.dot(u),p=O;a.vsub(l,p);var d=e.dot(p);if(h<0&&d>0||h>0&&d<0)return!1}return r?1:-1};new o;var I=new o,z=new o;s.project=function(t,e,n,i,o){var s=t.vertices.length,a=I,c=0,l=0,u=z,h=t.vertices;u.setZero(),r.vectorToLocalFrame(n,i,e,a),r.pointToLocalFrame(n,i,u,u);var p=u.dot(a);l=c=h[0].dot(a);for(var d=1;d<s;d++){var f=h[d].dot(a);f>c&&(c=f),f<l&&(l=f)}if(l-=p,c-=p,l>c){var v=l;l=c,c=v}o[0]=c,o[1]=l}},Y4ID:function(t,e){function n(){this.current=[],this.previous=[]}function i(t,e){t.push((4294901760&e)>>16,65535&e)}t.exports=n,n.prototype.getKey=function(t,e){if(e<t){var n=e;e=t,t=n}return t<<16|e},n.prototype.set=function(t,e){var n=this.getKey(t,e),i=this.current,o=0;while(n>i[o])o++;if(n!==i[o]){for(e=i.length-1;e>=o;e--)i[e+1]=i[e];i[o]=n}},n.prototype.tick=function(){var t=this.current;this.current=this.previous,this.previous=t,this.current.length=0},n.prototype.getDiff=function(t,e){for(var n=this.current,o=this.previous,r=n.length,s=o.length,a=0,c=0;c<r;c++){var l=!1,u=n[c];while(u>o[a])a++;l=u===o[a],l||i(t,u)}a=0;for(c=0;c<s;c++){l=!1;var h=o[c];while(h>n[a])a++;l=n[a]===h,l||i(e,h)}}},Z6Vu:function(t,e,n){t.exports=i;var i=n("Z6Vu");n("JcM6"),n("kk46"),n("Ot0k");function i(){this.id=i.idCounter++,this.type=0,this.boundingSphereRadius=0,this.collisionResponse=!0,this.material=null,this.body=null}i.prototype.constructor=i,i.prototype.updateBoundingSphereRadius=function(){throw"computeBoundingSphereRadius() not implemented for shape type "+this.type},i.prototype.volume=function(){throw"volume() not implemented for shape type "+this.type},i.prototype.calculateLocalInertia=function(t,e){throw"calculateLocalInertia() not implemented for shape type "+this.type},i.idCounter=0,i.types={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256}},Zgaw:function(t,e,n){n("cM1j"),n("W9gP"),n("gt/C"),n("9ifI"),n("Gd68"),n("DQrI"),n("5paa"),n("HcvI")},ZqPA:function(t,e,n){t.exports=a;n("exwj");var i=n("BpkJ"),o=n("jeSy"),r=n("7VWh"),s=(n("Wd2o"),n("JcM6"));function a(t,e,n){n=n||{};var a="undefined"!==typeof n.maxForce?n.maxForce:1e6,c=n.pivotA?n.pivotA.clone():new s,l=n.pivotB?n.pivotB.clone():new s;this.axisA=n.axisA?n.axisA.clone():new s,this.axisB=n.axisB?n.axisB.clone():new s,i.call(this,t,c,e,l,a),this.collideConnected=!!n.collideConnected,this.angle="undefined"!==typeof n.angle?n.angle:0;var u=this.coneEquation=new o(t,e,n),h=this.twistEquation=new r(t,e,n);this.twistAngle="undefined"!==typeof n.twistAngle?n.twistAngle:0,u.maxForce=0,u.minForce=-a,h.maxForce=0,h.minForce=-a,this.equations.push(u,h)}a.prototype=new i,a.constructor=a;new s,new s;a.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.coneEquation,o=this.twistEquation;i.prototype.update.call(this),t.vectorToWorldFrame(this.axisA,n.axisA),e.vectorToWorldFrame(this.axisB,n.axisB),this.axisA.tangents(o.axisA,o.axisA),t.vectorToWorldFrame(o.axisA,o.axisA),this.axisB.tangents(o.axisB,o.axisB),e.vectorToWorldFrame(o.axisB,o.axisB),n.angle=this.angle,o.maxAngle=this.twistAngle}},aagx:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},apmT:function(t,e,n){var i=n("0/R4");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},ayFu:function(t,e,n){var i=n("R+EB"),o=n("WcrK");n("Hl6p");var r={dependencies:["velocity"],schema:{mass:{default:5,if:{type:"dynamic"}},linearDamping:{default:.01,if:{type:"dynamic"}},angularDamping:{default:.01,if:{type:"dynamic"}},shape:{default:"auto",oneOf:["auto","box","cylinder","sphere","hull","mesh","none"]},cylinderAxis:{default:"y",oneOf:["x","y","z"]},sphereRadius:{default:NaN},type:{default:"dynamic",oneOf:["static","dynamic"]}},init:function(){this.system=this.el.sceneEl.systems.physics,this.el.sceneEl.hasLoaded?this.initBody():this.el.sceneEl.addEventListener("loaded",this.initBody.bind(this))},initBody:function(){var t=this.el,e=this.data,n=this.el.object3D,r=n.position,s=n.quaternion;if(this.body=new i.Body({mass:"static"===e.type?0:e.mass||0,material:this.system.getMaterial("defaultMaterial"),position:new i.Vec3(r.x,r.y,r.z),quaternion:new i.Quaternion(s.x,s.y,s.z,s.w),linearDamping:e.linearDamping,angularDamping:e.angularDamping,type:"dynamic"===e.type?i.Body.DYNAMIC:i.Body.STATIC}),this.el.object3D.updateMatrixWorld(!0),"none"!==e.shape){var a="auto"===e.shape?void 0:AFRAME.utils.extend({},this.data,{type:o.Type[e.shape.toUpperCase()]}),c=o(this.el.object3D,a);if(!c)return void t.addEventListener("object3dset",this.initBody.bind(this));this.body.addShape(c,c.offset,c.orientation),this.system.debug&&(this.shouldUpdateWireframe=!0),this.isLoaded=!0}this.el.body=this.body,this.body.el=t,this.isPlaying&&this._play(),this.isLoaded&&this.el.emit("body-loaded",{body:this.el.body})},addShape:function(t,e,n){"none"===this.data.shape?t?(this.body.addShape(t,e,n),this.system.debug&&(this.shouldUpdateWireframe=!0),this.shouldUpdateBody=!0):console.warn("shape cannot be null"):console.warn("shape can only be added if shape property is none")},tick:function(){this.shouldUpdateBody&&(this.isLoaded=!0,this._play(),this.el.emit("body-loaded",{body:this.el.body}),this.shouldUpdateBody=!1),this.shouldUpdateWireframe&&(this.createWireframe(this.body),this.shouldUpdateWireframe=!1)},play:function(){this.isLoaded&&this._play()},_play:function(){this.syncToPhysics(),this.system.addComponent(this),this.system.addBody(this.body),this.wireframe&&this.el.sceneEl.object3D.add(this.wireframe)},pause:function(){this.isLoaded&&this._pause()},_pause:function(){this.system.removeComponent(this),this.body&&this.system.removeBody(this.body),this.wireframe&&this.el.sceneEl.object3D.remove(this.wireframe)},update:function(t){if(this.body){var e=this.data;void 0!=t.type&&e.type!==t.type&&console.warn("CANNON.Body type cannot be changed after instantiation"),this.body.mass=e.mass||0,"dynamic"===e.type&&(this.body.linearDamping=e.linearDamping,this.body.angularDamping=e.angularDamping),e.mass!==t.mass&&this.body.updateMassProperties(),this.body.updateProperties&&this.body.updateProperties()}},remove:function(){delete this.body.el,delete this.body,delete this.el.body,delete this.wireframe},beforeStep:function(){0===this.body.mass&&this.syncToPhysics()},step:function(){0!==this.body.mass&&this.syncFromPhysics()},createWireframe:function(t){var e,n;this.wireframe&&(this.el.sceneEl.object3D.remove(this.wireframe),delete this.wireframe),this.wireframe=new THREE.Object3D,this.el.sceneEl.object3D.add(this.wireframe);for(var o=new THREE.Quaternion,r=0;r<this.body.shapes.length;r++){e=this.body.shapeOffsets[r],o.copy(this.body.shapeOrientations[r]),n=i.shape2mesh(this.body).children[r];var s=new THREE.LineSegments(new THREE.EdgesGeometry(n.geometry),new THREE.LineBasicMaterial({color:16711680}));e&&s.position.copy(e),o&&(o.inverse(o),s.quaternion.copy(o)),this.wireframe.add(s)}this.syncWireframe()},syncWireframe:function(){var t,e=this.wireframe;this.wireframe&&(e.quaternion.copy(this.body.quaternion),e.orientation&&e.quaternion.multiply(e.orientation),e.position.copy(this.body.position),e.offset&&(t=e.offset.clone().applyQuaternion(e.quaternion),e.position.add(t)),e.updateMatrix())},syncToPhysics:function(){var t=new THREE.Quaternion,e=new THREE.Vector3;return function(){var n=this.el,i=n.parentEl,o=this.body;o&&(n.components.velocity&&o.velocity.copy(n.getAttribute("velocity")),i.isScene?(o.quaternion.copy(n.object3D.quaternion),o.position.copy(n.object3D.position)):(n.object3D.getWorldQuaternion(t),o.quaternion.copy(t),n.object3D.getWorldPosition(e),o.position.copy(e)),this.body.updateProperties&&this.body.updateProperties(),this.wireframe&&this.syncWireframe())}}(),syncFromPhysics:function(){var t=new THREE.Vector3,e=new THREE.Quaternion,n=new THREE.Quaternion;return function(){var i=this.el,o=i.parentEl,r=this.body;r&&(o.isScene?(i.object3D.quaternion.copy(r.quaternion),i.object3D.position.copy(r.position)):(e.copy(r.quaternion),o.object3D.getWorldQuaternion(n),e.multiply(n.inverse()),i.object3D.quaternion.copy(e),t.copy(r.position),o.object3D.worldToLocal(t),i.object3D.position.copy(t)),this.wireframe&&this.syncWireframe())}}()};t.exports.definition=r,t.exports.Component=AFRAME.registerComponent("body",r)},bBed:function(t,e,n){var i=n("JcM6");function o(t,e,n){n=n||{},this.restLength="number"===typeof n.restLength?n.restLength:1,this.stiffness=n.stiffness||100,this.damping=n.damping||1,this.bodyA=t,this.bodyB=e,this.localAnchorA=new i,this.localAnchorB=new i,n.localAnchorA&&this.localAnchorA.copy(n.localAnchorA),n.localAnchorB&&this.localAnchorB.copy(n.localAnchorB),n.worldAnchorA&&this.setWorldAnchorA(n.worldAnchorA),n.worldAnchorB&&this.setWorldAnchorB(n.worldAnchorB)}t.exports=o,o.prototype.setWorldAnchorA=function(t){this.bodyA.pointToLocalFrame(t,this.localAnchorA)},o.prototype.setWorldAnchorB=function(t){this.bodyB.pointToLocalFrame(t,this.localAnchorB)},o.prototype.getWorldAnchorA=function(t){this.bodyA.pointToWorldFrame(this.localAnchorA,t)},o.prototype.getWorldAnchorB=function(t){this.bodyB.pointToWorldFrame(this.localAnchorB,t)};var r=new i,s=new i,a=new i,c=new i,l=new i,u=new i,h=new i,p=new i,d=new i,f=new i,v=new i;o.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,n=this.restLength,i=this.bodyA,o=this.bodyB,y=r,m=s,g=a,w=c,b=v,x=l,E=u,A=h,C=p,T=d,S=f;this.getWorldAnchorA(x),this.getWorldAnchorB(E),x.vsub(i.position,A),E.vsub(o.position,C),E.vsub(x,y);var _=y.norm();m.copy(y),m.normalize(),o.velocity.vsub(i.velocity,g),o.angularVelocity.cross(C,b),g.vadd(b,g),i.angularVelocity.cross(A,b),g.vsub(b,g),m.mult(-t*(_-n)-e*g.dot(m),w),i.force.vsub(w,i.force),o.force.vadd(w,o.force),A.cross(w,T),C.cross(w,S),i.torque.vsub(T,i.torque),o.torque.vadd(S,o.torque)}},bQoG:function(t,e,n){n("5DQk"),n("6401"),n("kyDf"),n("Dp/p")},bc7U:function(t,e,n){var i=n("JcM6"),o=n("kk46");function r(t){t=t||{},this.position=new i,t.position&&this.position.copy(t.position),this.quaternion=new o,t.quaternion&&this.quaternion.copy(t.quaternion)}t.exports=r;var s=new o;r.pointToLocalFrame=function(t,e,n,o){o=o||new i;return n.vsub(t,o),e.conjugate(s),s.vmult(o,o),o},r.prototype.pointToLocal=function(t,e){return r.pointToLocalFrame(this.position,this.quaternion,t,e)},r.pointToWorldFrame=function(t,e,n,o){o=o||new i;return e.vmult(n,o),o.vadd(t,o),o},r.prototype.pointToWorld=function(t,e){return r.pointToWorldFrame(this.position,this.quaternion,t,e)},r.prototype.vectorToWorldFrame=function(t,e){e=e||new i;return this.quaternion.vmult(t,e),e},r.vectorToWorldFrame=function(t,e,n){return t.vmult(e,n),n},r.vectorToLocalFrame=function(t,e,n,o){o=o||new i;return e.w*=-1,e.vmult(n,o),e.w*=-1,o}},cM1j:function(t,e){t.exports=AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const t=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!t)throw new Error("No `checkpoint-controls` component found.");t.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},dyZX:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},eVAH:function(t,e,n){t.exports=r;var i=n("exwj"),o=n("Wd2o");function r(t,e,n,r){i.call(this,t,e),"undefined"===typeof n&&(n=t.position.distanceTo(e.position)),"undefined"===typeof r&&(r=1e6),this.distance=n;var s=this.distanceEquation=new o(t,e);this.equations.push(s),s.minForce=-r,s.maxForce=r}r.prototype=new i,r.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.distanceEquation,i=.5*this.distance,o=n.ni;e.position.vsub(t.position,o),o.normalize(),o.mult(i,n.ri),o.mult(-i,n.rj)}},eeVq:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},elZq:function(t,e,n){"use strict";var i=n("dyZX"),o=n("hswa"),r=n("nh4g"),s=n("K0xU")("species");t.exports=function(t){var e=i[t];r&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},exwj:function(t,e,n){t.exports=o;var i=n("x3f3");function o(t,e,n){n=i.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.id=o.idCounter++,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}o.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},o.prototype.enable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!0},o.prototype.disable=function(){for(var t=this.equations,e=0;e<t.length;e++)t[e].enabled=!1},o.idCounter=0},f9Zq:function(t,e,n){var i=n("R+EB"),o={schema:{shape:{default:"box",oneOf:["box","sphere","cylinder"]},offset:{type:"vec3",default:{x:0,y:0,z:0}},orientation:{type:"vec4",default:{x:0,y:0,z:0,w:1}},radius:{type:"number",default:1,if:{shape:["sphere"]}},halfExtents:{type:"vec3",default:{x:1,y:1,z:1},if:{shape:["box"]}},radiusTop:{type:"number",default:1,if:{shape:["cylinder"]}},radiusBottom:{type:"number",default:1,if:{shape:["cylinder"]}},height:{type:"number",default:1,if:{shape:["cylinder"]}},numSegments:{type:"int",default:8,if:{shape:["cylinder"]}}},multiple:!0,init:function(){this.el.sceneEl.hasLoaded?this.initShape():this.el.sceneEl.addEventListener("loaded",this.initShape.bind(this))},initShape:function(){this.bodyEl=this.el;var t=this._findType(this.bodyEl),e=this.data;while(!t&&this.bodyEl.parentNode)this.bodyEl=this.bodyEl.parentNode,t=this._findType(this.bodyEl);var n,o,r,s=new THREE.Vector3;switch(this.bodyEl.object3D.getWorldScale(s),e.hasOwnProperty("offset")&&(o=new i.Vec3(e.offset.x*s.x,e.offset.y*s.y,e.offset.z*s.z)),e.hasOwnProperty("orientation")&&(r=new i.Quaternion,r.copy(e.orientation)),e.shape){case"sphere":n=new i.Sphere(e.radius*s.x);break;case"box":var a=new i.Vec3(e.halfExtents.x*s.x,e.halfExtents.y*s.y,e.halfExtents.z*s.z);n=new i.Box(a);break;case"cylinder":n=new i.Cylinder(e.radiusTop*s.x,e.radiusBottom*s.x,e.height*s.y,e.numSegments);var c=new i.Quaternion;c.setFromEuler(90*THREE.Math.DEG2RAD,0,0,"XYZ").normalize(),r.mult(c,r);break;default:return void console.warn(e.shape+" shape not supported")}this.bodyEl.components[t].addShape(n,o,r)},_findType:function(t){return t.hasAttribute("body")?"body":t.hasAttribute("dynamic-body")?"dynamic-body":t.hasAttribute("static-body")?"static-body":null},remove:function(){this.bodyEl.parentNode&&console.warn("removing shape component not currently supported")}};t.exports.definition=o,t.exports.Component=AFRAME.registerComponent("shape",o)},fXWP:function(t,e,n){var i=n("x3f3");function o(t,e,n){n=i.defaults(n,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=o.idCounter++,this.materials=[t,e],this.friction=n.friction,this.restitution=n.restitution,this.contactEquationStiffness=n.contactEquationStiffness,this.contactEquationRelaxation=n.contactEquationRelaxation,this.frictionEquationStiffness=n.frictionEquationStiffness,this.frictionEquationRelaxation=n.frictionEquationRelaxation}t.exports=o,o.idCounter=0},fyDq:function(t,e,n){var i=n("hswa").f,o=n("aagx"),r=n("K0xU")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},g3g5:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},gFEl:function(t,e,n){n("tQLc");var i=n("JcM6"),o=n("kk46"),r=(n("zy4p"),n("APQl")),s=n("STiA");function a(t){this.chassisBody=t.chassisBody,this.wheelInfos=[],this.sliding=!1,this.world=null,this.indexRightAxis="undefined"!==typeof t.indexRightAxis?t.indexRightAxis:1,this.indexForwardAxis="undefined"!==typeof t.indexForwardAxis?t.indexForwardAxis:0,this.indexUpAxis="undefined"!==typeof t.indexUpAxis?t.indexUpAxis:2}t.exports=a;new i,new i,new i;var c=new i,l=new i,u=new i;new r;a.prototype.addWheel=function(t){t=t||{};var e=new s(t),n=this.wheelInfos.length;return this.wheelInfos.push(e),n},a.prototype.setSteeringValue=function(t,e){var n=this.wheelInfos[e];n.steering=t};new i;a.prototype.applyEngineForce=function(t,e){this.wheelInfos[e].engineForce=t},a.prototype.setBrake=function(t,e){this.wheelInfos[e].brake=t},a.prototype.addToWorld=function(t){this.constraints;t.addBody(this.chassisBody);var e=this;this.preStepCallback=function(){e.updateVehicle(t.dt)},t.addEventListener("preStep",this.preStepCallback),this.world=t},a.prototype.getVehicleAxisWorld=function(t,e){e.set(0===t?1:0,1===t?1:0,2===t?1:0),this.chassisBody.vectorToWorldFrame(e,e)},a.prototype.updateVehicle=function(t){for(var e=this.wheelInfos,n=e.length,o=this.chassisBody,r=0;r<n;r++)this.updateWheelTransform(r);this.currentVehicleSpeedKmHour=3.6*o.velocity.norm();var s=new i;this.getVehicleAxisWorld(this.indexForwardAxis,s),s.dot(o.velocity)<0&&(this.currentVehicleSpeedKmHour*=-1);for(r=0;r<n;r++)this.castRay(e[r]);this.updateSuspension(t);var a=new i,c=new i;for(r=0;r<n;r++){var l=e[r],u=l.suspensionForce;u>l.maxSuspensionForce&&(u=l.maxSuspensionForce),l.raycastResult.hitNormalWorld.scale(u*t,a),l.raycastResult.hitPointWorld.vsub(o.position,c),o.applyImpulse(a,c)}this.updateFriction(t);var h=new i,p=new i,d=new i;for(r=0;r<n;r++){l=e[r];o.getVelocityAtWorldPoint(l.chassisConnectionPointWorld,d);var f=1;switch(this.indexUpAxis){case 1:f=-1;break}if(l.isInContact){this.getVehicleAxisWorld(this.indexForwardAxis,p);var v=p.dot(l.raycastResult.hitNormalWorld);l.raycastResult.hitNormalWorld.scale(v,h),p.vsub(h,p);var y=p.dot(d);l.deltaRotation=f*y*t/l.radius}!l.sliding&&l.isInContact||0===l.engineForce||!l.useCustomSlidingRotationalSpeed||(l.deltaRotation=(l.engineForce>0?1:-1)*l.customSlidingRotationalSpeed*t),Math.abs(l.brake)>Math.abs(l.engineForce)&&(l.deltaRotation=0),l.rotation+=l.deltaRotation,l.deltaRotation*=.99}},a.prototype.updateSuspension=function(t){for(var e=this.chassisBody,n=e.mass,i=this.wheelInfos,o=i.length,r=0;r<o;r++){var s=i[r];if(s.isInContact){var a,c=s.suspensionRestLength,l=s.suspensionLength,u=c-l;a=s.suspensionStiffness*u*s.clippedInvContactDotSuspension;var h,p=s.suspensionRelativeVelocity;h=p<0?s.dampingCompression:s.dampingRelaxation,a-=h*p,s.suspensionForce=a*n,s.suspensionForce<0&&(s.suspensionForce=0)}else s.suspensionForce=0}},a.prototype.removeFromWorld=function(t){this.constraints;t.remove(this.chassisBody),t.removeEventListener("preStep",this.preStepCallback),this.world=null};var h=new i,p=new i;a.prototype.castRay=function(t){var e=h,n=p;this.updateWheelTransformWorld(t);var o=this.chassisBody,r=-1,s=t.suspensionRestLength+t.radius;t.directionWorld.scale(s,e);var a=t.chassisConnectionPointWorld;a.vadd(e,n);var c=t.raycastResult;c.reset();var l=o.collisionResponse;o.collisionResponse=!1,this.world.rayTest(a,n,c),o.collisionResponse=l;var u=c.body;if(t.raycastResult.groundObject=0,u){r=c.distance,t.raycastResult.hitNormalWorld=c.hitNormalWorld,t.isInContact=!0;var d=c.distance;t.suspensionLength=d-t.radius;var f=t.suspensionRestLength-t.maxSuspensionTravel,v=t.suspensionRestLength+t.maxSuspensionTravel;t.suspensionLength<f&&(t.suspensionLength=f),t.suspensionLength>v&&(t.suspensionLength=v,t.raycastResult.reset());var y=t.raycastResult.hitNormalWorld.dot(t.directionWorld),m=new i;o.getVelocityAtWorldPoint(t.raycastResult.hitPointWorld,m);var g=t.raycastResult.hitNormalWorld.dot(m);if(y>=-.1)t.suspensionRelativeVelocity=0,t.clippedInvContactDotSuspension=10;else{var w=-1/y;t.suspensionRelativeVelocity=g*w,t.clippedInvContactDotSuspension=w}}else t.suspensionLength=t.suspensionRestLength+0*t.maxSuspensionTravel,t.suspensionRelativeVelocity=0,t.directionWorld.scale(-1,t.raycastResult.hitNormalWorld),t.clippedInvContactDotSuspension=1;return r},a.prototype.updateWheelTransformWorld=function(t){t.isInContact=!1;var e=this.chassisBody;e.pointToWorldFrame(t.chassisConnectionPointLocal,t.chassisConnectionPointWorld),e.vectorToWorldFrame(t.directionLocal,t.directionWorld),e.vectorToWorldFrame(t.axleLocal,t.axleWorld)},a.prototype.updateWheelTransform=function(t){var e=c,n=l,i=u,r=this.wheelInfos[t];this.updateWheelTransformWorld(r),r.directionLocal.scale(-1,e),n.copy(r.axleLocal),e.cross(n,i),i.normalize(),n.normalize();var s=r.steering,a=new o;a.setFromAxisAngle(e,s);var h=new o;h.setFromAxisAngle(n,r.rotation);var p=r.worldTransform.quaternion;this.chassisBody.quaternion.mult(a,p),p.mult(h,p),p.normalize();var d=r.worldTransform.position;d.copy(r.directionWorld),d.scale(r.suspensionLength,d),d.vadd(r.chassisConnectionPointWorld,d)};var d=[new i(1,0,0),new i(0,1,0),new i(0,0,1)];a.prototype.getWheelTransformWorld=function(t){return this.wheelInfos[t].worldTransform};var f=new i,v=[],y=[],m=1;a.prototype.updateFriction=function(t){for(var e=f,n=this.wheelInfos,o=n.length,r=this.chassisBody,s=y,a=v,c=0;c<o;c++){var l=n[c],u=l.raycastResult.body;u&&0,l.sideImpulse=0,l.forwardImpulse=0,s[c]||(s[c]=new i),a[c]||(a[c]=new i)}for(c=0;c<o;c++){l=n[c],u=l.raycastResult.body;if(u){var h=a[c],p=this.getWheelTransformWorld(c);p.vectorToWorldFrame(d[this.indexRightAxis],h);var g=l.raycastResult.hitNormalWorld,w=h.dot(g);g.scale(w,e),h.vsub(e,h),h.normalize(),g.cross(h,s[c]),s[c].normalize(),l.sideImpulse=k(r,l.raycastResult.hitPointWorld,u,l.raycastResult.hitPointWorld,h),l.sideImpulse*=m}}var b=1,E=.5;this.sliding=!1;for(c=0;c<o;c++){l=n[c],u=l.raycastResult.body;var A=0;if(l.slipInfo=1,u){var C=0,T=l.brake?l.brake:C;A=x(r,u,l.raycastResult.hitPointWorld,s[c],T),A+=l.engineForce*t;var S=T/A;l.slipInfo*=S}if(l.forwardImpulse=0,l.skidInfo=1,u){l.skidInfo=1;var _=l.suspensionForce*t*l.frictionSlip,M=_,R=_*M;l.forwardImpulse=A;var B=l.forwardImpulse*E,O=l.sideImpulse*b,I=B*B+O*O;if(l.sliding=!1,I>R){this.sliding=!0,l.sliding=!0;S=_/Math.sqrt(I);l.skidInfo*=S}}}if(this.sliding)for(c=0;c<o;c++){l=n[c];0!==l.sideImpulse&&l.skidInfo<1&&(l.forwardImpulse*=l.skidInfo,l.sideImpulse*=l.skidInfo)}for(c=0;c<o;c++){l=n[c];var z=new i;if(l.raycastResult.hitPointWorld.vsub(r.position,z),0!==l.forwardImpulse){var L=new i;s[c].scale(l.forwardImpulse,L),r.applyImpulse(L,z)}if(0!==l.sideImpulse){u=l.raycastResult.body;var P=new i;l.raycastResult.hitPointWorld.vsub(u.position,P);var N=new i;a[c].scale(l.sideImpulse,N),r.vectorToLocalFrame(z,z),z["xyz"[this.indexUpAxis]]*=l.rollInfluence,r.vectorToWorldFrame(z,z),r.applyImpulse(N,z),N.scale(-1,N),u.applyImpulse(N,P)}}};var g=new i,w=new i,b=new i;function x(t,e,n,i,o){var r=0,s=n,a=g,c=w,l=b;t.getVelocityAtWorldPoint(s,a),e.getVelocityAtWorldPoint(s,c),a.vsub(c,l);var u=i.dot(l),h=S(t,n,i),p=S(e,n,i),d=1,f=d/(h+p);return r=-u*f,o<r&&(r=o),r<-o&&(r=-o),r}var E=new i,A=new i,C=new i,T=new i;function S(t,e,n){var i=E,o=A,r=C,s=T;return e.vsub(t.position,i),i.cross(n,o),t.invInertiaWorld.vmult(o,s),s.cross(i,r),t.invMass+n.dot(r)}var _=new i,M=new i,R=new i;function k(t,e,n,i,o,r){var s=o.norm2();if(s>1.1)return 0;var a=_,c=M,l=R;t.getVelocityAtWorldPoint(e,a),n.getVelocityAtWorldPoint(i,c),a.vsub(c,l);var u=o.dot(l),h=.2,p=1/(t.invMass+n.invMass);r=-h*u*p;return r}},gHnn:function(t,e,n){var i=n("dyZX"),o=n("GZEu").set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n("LZWt")(s);t.exports=function(){var t,e,n,l=function(){var i,o;c&&(i=s.domain)&&i.exit();while(t){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(l)};else if(!r||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(i,l)};else{var h=!0,p=document.createTextNode("");new r(l).observe(p,{characterData:!0}),n=function(){p.data=h=!h}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},gaw2:function(t,e){function n(){this.objects=[],this.type=Object}t.exports=n,n.prototype.release=function(){for(var t=arguments.length,e=0;e!==t;e++)this.objects.push(arguments[e]);return this},n.prototype.get=function(){return 0===this.objects.length?this.constructObject():this.objects.pop()},n.prototype.constructObject=function(){throw new Error("constructObject() not implemented in this Pool subclass yet!")},n.prototype.resize=function(t){var e=this.objects;while(e.length>t)e.pop();while(e.length<t)e.push(this.constructObject());return this}},gem7:function(t,e,n){t.exports=s;n("exwj");var i=n("BpkJ"),o=n("7VWh"),r=(n("MIOf"),n("Wd2o"),n("JcM6"));function s(t,e,n){n=n||{};var s="undefined"!==typeof n.maxForce?n.maxForce:1e6,a=new r,c=new r,l=new r;t.position.vadd(e.position,l),l.scale(.5,l),e.pointToLocalFrame(l,c),t.pointToLocalFrame(l,a),i.call(this,t,a,e,c,s),this.xA=t.vectorToLocalFrame(r.UNIT_X),this.xB=e.vectorToLocalFrame(r.UNIT_X),this.yA=t.vectorToLocalFrame(r.UNIT_Y),this.yB=e.vectorToLocalFrame(r.UNIT_Y),this.zA=t.vectorToLocalFrame(r.UNIT_Z),this.zB=e.vectorToLocalFrame(r.UNIT_Z);var u=this.rotationalEquation1=new o(t,e,n),h=this.rotationalEquation2=new o(t,e,n),p=this.rotationalEquation3=new o(t,e,n);this.equations.push(u,h,p)}s.prototype=new i,s.constructor=s;new r,new r;s.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=(this.motorEquation,this.rotationalEquation1),o=this.rotationalEquation2,r=this.rotationalEquation3;i.prototype.update.call(this),t.vectorToWorldFrame(this.xA,n.axisA),e.vectorToWorldFrame(this.yB,n.axisB),t.vectorToWorldFrame(this.yA,o.axisA),e.vectorToWorldFrame(this.zB,o.axisB),t.vectorToWorldFrame(this.zA,r.axisA),e.vectorToWorldFrame(this.xB,r.axisB)}},"gt/C":function(t,e){t.exports=AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const t=this.el;t.addEventListener("hit",this.onHit),t.addEventListener("gripdown",this.onGripClose),t.addEventListener("gripup",this.onGripOpen),t.addEventListener("trackpaddown",this.onGripClose),t.addEventListener("trackpadup",this.onGripOpen),t.addEventListener("triggerdown",this.onGripClose),t.addEventListener("triggerup",this.onGripOpen)},pause:function(){const t=this.el;t.removeEventListener("hit",this.onHit),t.removeEventListener("gripdown",this.onGripClose),t.removeEventListener("gripup",this.onGripOpen),t.removeEventListener("trackpaddown",this.onGripClose),t.removeEventListener("trackpadup",this.onGripOpen),t.removeEventListener("triggerdown",this.onGripClose),t.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const t=this.hitEl;this.grabbing=!1,t&&(t.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(t){const e=t.detail.el;e&&!e.is(this.GRABBED_STATE)&&this.grabbing&&!this.hitEl&&(e.addState(this.GRABBED_STATE),this.hitEl=e,this.constraint=new CANNON.LockConstraint(this.el.body,e.body),this.system.addConstraint(this.constraint))}})},h2JL:function(t,e){const n="-controls",i=.2,o=1e-5;t.exports=AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[camera]",type:"selector"}},init:function(){const t=this.el;this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.navGroup=null,this.navNode=null,t.sceneEl.hasLoaded?this.injectControls():t.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(t){const e=this.el,n=this.data;if(e.sceneEl.hasLoaded&&this.injectControls(),n.constrainToNavMesh!==t.constrainToNavMesh){const t=e.sceneEl.systems.nav;n.constrainToNavMesh?t.addAgent(this):t.removeAgent(this)}},injectControls:function(){const t=this.data;var e;for(let i=0;i<t.controls.length;i++)e=t.controls[i]+n,this.el.components[e]||this.el.setAttribute(e,"")},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;return function(r,s){if(!s)return;const a=this.el,c=this.data;if(!c.enabled)return;this.updateVelocityCtrl();const l=this.velocityCtrl,u=this.velocity;if(l)if(s/1e3>i?u.set(0,0,0):this.updateVelocity(s),c.constrainToNavMesh&&!1!==l.isNavMeshConstrained){if(u.lengthSq()<o)return;t.copy(a.object3D.position),e.copy(u).multiplyScalar(s/1e3).add(t);const i=a.sceneEl.systems.nav;this.navGroup=null===this.navGroup?i.getGroup(t):this.navGroup,this.navNode=this.navNode||i.getNode(t,this.navGroup),this.navNode=i.clampStep(t,e,this.navGroup,this.navNode,n),a.object3D.position.copy(n)}else a.hasAttribute("velocity")?a.setAttribute("velocity",u):(a.object3D.position.x+=u.x*s/1e3,a.object3D.position.y+=u.y*s/1e3,a.object3D.position.z+=u.z*s/1e3)}}(),updateVelocityCtrl:function(){const t=this.data;if(t.enabled){for(let e=0,i=t.controls.length;e<i;e++){const i=this.el.components[t.controls[e]+n];if(i&&i.isVelocityActive())return void(this.velocityCtrl=i)}this.velocityCtrl=null}},updateVelocity:function(){const t=new THREE.Vector2;return function(e){let n;const i=this.el,o=this.velocityCtrl,r=this.velocity,s=this.data;if(o){if(!o.getVelocityDelta){if(o.getVelocity)return void r.copy(o.getVelocity());if(o.getPositionDelta)return void r.copy(o.getPositionDelta(e).multiplyScalar(1e3/e));throw new Error("Incompatible movement controls: ",o)}n=o.getVelocityDelta(e)}if(i.hasAttribute("velocity")&&!s.constrainToNavMesh&&r.copy(this.el.getAttribute("velocity")),n&&s.enabled){const i=s.camera;n.applyQuaternion(i.object3D.quaternion);const o=n.length();s.fly?(r.copy(n),r.multiplyScalar(this.data.speed*e)):(t.set(n.x,n.z),t.setLength(o*this.data.speed*e),r.x=t.x,r.z=t.y)}}}()})},hPIQ:function(t,e){t.exports={}},hWGv:function(t,e,n){n("JUsp");const i="__keyboard-controls-proxy",o=window.KeyboardEvent;t.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)},this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const t=this.data,e=this.getKeys();return this.dVelocity.set(0,0,0),t.enabled&&((e.KeyW||e.ArrowUp)&&(this.dVelocity.z-=1),(e.KeyA||e.ArrowLeft)&&(this.dVelocity.x-=1),(e.KeyS||e.ArrowDown)&&(this.dVelocity.z+=1),(e.KeyD||e.ArrowRight)&&(this.dVelocity.x+=1)),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(t){AFRAME.utils.shouldCaptureKeyEvent(t)&&(this.localKeys[t.code]=!0,this.emit(t))},onKeyUp:function(t){AFRAME.utils.shouldCaptureKeyEvent(t)&&(delete this.localKeys[t.code],this.emit(t))},onBlur:function(){for(let t in this.localKeys)this.localKeys.hasOwnProperty(t)&&delete this.localKeys[t]},emit:function(t){i in t&&this.el.emit(t.type,t),this.el.emit(t.type+":"+t.code,new o(t.type,t)),this.data.debug&&console.log(t.type+":"+t.code)},isPressed:function(t){return t in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const t=this.el.sceneEl.components["proxy-controls"];return t&&t.isConnected()}})},hswa:function(t,e,n){var i=n("y3w9"),o=n("xpql"),r=n("apmT"),s=Object.defineProperty;e.f=n("nh4g")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},ht9l:function(t,e,n){t.exports=r;var i=n("mjed"),o=n("qa/2");function r(){i.apply(this)}r.prototype=new i,r.prototype.constructor=r,r.prototype.collisionPairs=function(t,e,n){var i,o,r,s,a=t.bodies,c=a.length;for(i=0;i!==c;i++)for(o=0;o!==i;o++)r=a[i],s=a[o],this.needBroadphaseCollision(r,s)&&this.intersectionTest(r,s,e,n)};new o;r.prototype.aabbQuery=function(t,e,n){n=n||[];for(var i=0;i<t.bodies.length;i++){var o=t.bodies[i];o.aabbNeedsUpdate&&o.computeAABB(),o.aabb.overlaps(e)&&n.push(o)}return n}},iCBk:function(t,e){t.exports=AFRAME.registerComponent("velocity",{schema:{type:"vec3"},init:function(){this.system=this.el.sceneEl.systems.physics,this.system&&this.system.addComponent(this)},remove:function(){this.system&&this.system.removeComponent(this)},tick:function(t,e){e&&(this.system||this.afterStep(t,e))},afterStep:function(t,e){if(e){var n=this.el.sceneEl.systems.physics||{data:{maxInterval:1/60}},i=this.el.getAttribute("velocity")||{x:0,y:0,z:0},o=this.el.getAttribute("position")||{x:0,y:0,z:0};e=Math.min(e,1e3*n.data.maxInterval),this.el.setAttribute("position",{x:o.x+i.x*e/1e3,y:o.y+i.y*e/1e3,z:o.z+i.z*e/1e3})}}})},jE9Z:function(t,e,n){"use strict";
/**
  * vue-router v3.0.1
  * (c) 2017 Evan You
  * @license MIT
  */function i(t,e){0}function o(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var r={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,r=e.data;r.routerView=!0;var c=o.$createElement,l=n.name,u=o.$route,h=o._routerViewCache||(o._routerViewCache={}),p=0,d=!1;while(o&&o._routerRoot!==o)o.$vnode&&o.$vnode.data.routerView&&p++,o._inactive&&(d=!0),o=o.$parent;if(r.routerViewDepth=p,d)return c(h[l],r,i);var f=u.matched[p];if(!f)return h[l]=null,c();var v=h[l]=f.components[l];r.registerRouteInstance=function(t,e){var n=f.instances[l];(e&&n!==t||!e&&n===t)&&(f.instances[l]=e)},(r.hook||(r.hook={})).prepatch=function(t,e){f.instances[l]=e.componentInstance};var y=r.props=s(u,f.props&&f.props[l]);if(y){y=r.props=a({},y);var m=r.attrs=r.attrs||{};for(var g in y)v.props&&g in v.props||(m[g]=y[g],delete y[g])}return c(v,r,i)}};function s(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function a(t,e){for(var n in e)t[n]=e[n];return t}var c=/[!'()*]/g,l=function(t){return"%"+t.charCodeAt(0).toString(16)},u=/%2C/g,h=function(t){return encodeURIComponent(t).replace(c,l).replace(u,",")},p=decodeURIComponent;function d(t,e,n){void 0===e&&(e={});var i,o=n||f;try{i=o(t||"")}catch(t){i={}}for(var r in e)i[r]=e[r];return i}function f(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),i=p(n.shift()),o=n.length>0?p(n.join("=")):null;void 0===e[i]?e[i]=o:Array.isArray(e[i])?e[i].push(o):e[i]=[e[i],o]}),e):e}function v(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return h(e);if(Array.isArray(n)){var i=[];return n.forEach(function(t){void 0!==t&&(null===t?i.push(h(e)):i.push(h(e)+"="+h(t)))}),i.join("&")}return h(e)+"="+h(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var y=/\/?$/;function m(t,e,n,i){var o=i&&i.options.stringifyQuery,r=e.query||{};try{r=g(r)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:r,params:e.params||{},fullPath:x(e,o),matched:t?b(t):[]};return n&&(s.redirectedFrom=x(n,o)),Object.freeze(s)}function g(t){if(Array.isArray(t))return t.map(g);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=g(t[n]);return e}return t}var w=m(null,{path:"/"});function b(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function x(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var o=t.hash;void 0===o&&(o="");var r=e||v;return(n||"/")+r(i)+o}function E(t,e){return e===w?t===e:!!e&&(t.path&&e.path?t.path.replace(y,"")===e.path.replace(y,"")&&t.hash===e.hash&&A(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&A(t.query,e.query)&&A(t.params,e.params)))}function A(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every(function(n){var i=t[n],o=e[n];return"object"===typeof i&&"object"===typeof o?A(i,o):String(i)===String(o)})}function C(t,e){return 0===t.path.replace(y,"/").indexOf(e.path.replace(y,"/"))&&(!e.hash||t.hash===e.hash)&&T(t.query,e.query)}function T(t,e){for(var n in e)if(!(n in t))return!1;return!0}var S,_=[String,Object],M=[String,Array],R={name:"router-link",props:{to:{type:_,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:M,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),r=o.location,s=o.route,a=o.href,c={},l=n.options.linkActiveClass,u=n.options.linkExactActiveClass,h=null==l?"router-link-active":l,p=null==u?"router-link-exact-active":u,d=null==this.activeClass?h:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,v=r.path?m(null,r,null,n):s;c[f]=E(i,v),c[d]=this.exact?c[f]:C(i,v);var y=function(t){k(t)&&(e.replace?n.replace(r):n.push(r))},g={click:k};Array.isArray(this.event)?this.event.forEach(function(t){g[t]=y}):g[this.event]=y;var w={class:c};if("a"===this.tag)w.on=g,w.attrs={href:a};else{var b=B(this.$slots.default);if(b){b.isStatic=!1;var x=S.util.extend,A=b.data=x({},b.data);A.on=g;var T=b.data.attrs=x({},b.data.attrs);T.href=a}else w.on=g}return t(this.tag,w,this.$slots.default)}};function k(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function B(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=B(e.children)))return e}}function O(t){if(!O.installed||S!==t){O.installed=!0,S=t;var e=function(t){return void 0!==t},n=function(t,n){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",r),t.component("router-link",R);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var I="undefined"!==typeof window;function z(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var o=e.split("/");n&&o[o.length-1]||o.pop();for(var r=t.replace(/^\//,"").split("/"),s=0;s<r.length;s++){var a=r[s];".."===a?o.pop():"."!==a&&o.push(a)}return""!==o[0]&&o.unshift(""),o.join("/")}function L(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var o=t.indexOf("?");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{path:t,query:n,hash:e}}function P(t){return t.replace(/\/\//g,"/")}var N=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},D=it,F=U,j=W,H=$,V=nt,q=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(t,e){var n,i=[],o=0,r=0,s="",a=e&&e.delimiter||"/";while(null!=(n=q.exec(t))){var c=n[0],l=n[1],u=n.index;if(s+=t.slice(r,u),r=u+c.length,l)s+=l[1];else{var h=t[r],p=n[2],d=n[3],f=n[4],v=n[5],y=n[6],m=n[7];s&&(i.push(s),s="");var g=null!=p&&null!=h&&h!==p,w="+"===y||"*"===y,b="?"===y||"*"===y,x=n[2]||a,E=f||v;i.push({name:d||o++,prefix:p||"",delimiter:x,optional:b,repeat:w,partial:g,asterisk:!!m,pattern:E?Z(E):m?".*":"[^"+X(x)+"]+?"})}}return r<t.length&&(s+=t.substr(r)),s&&i.push(s),i}function W(t,e){return $(U(t,e))}function G(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function K(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function $(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",r=n||{},s=i||{},a=s.pretty?G:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var u,h=r[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(N(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(u=a(h[p]),!e[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===p?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?K(h):a(h),!e[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');o+=l.prefix+u}}else o+=l}return o}}function X(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Z(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Y(t,e){return t.keys=e,t}function J(t){return t.sensitive?"":"i"}function Q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Y(t,e)}function tt(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(it(t[o],e,n).source);var r=new RegExp("(?:"+i.join("|")+")",J(n));return Y(r,e)}function et(t,e,n){return nt(U(t,n),e,n)}function nt(t,e,n){N(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,o=!1!==n.end,r="",s=0;s<t.length;s++){var a=t[s];if("string"===typeof a)r+=X(a);else{var c=X(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",r+=l}}var u=X(n.delimiter||"/"),h=r.slice(-u.length)===u;return i||(r=(h?r.slice(0,-u.length):r)+"(?:"+u+"(?=$))?"),r+=o?"$":i&&h?"":"(?="+u+"|$)",Y(new RegExp("^"+r,J(n)),e)}function it(t,e,n){return N(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Q(t,e):N(t)?tt(t,e,n):et(t,e,n)}D.parse=F,D.compile=j,D.tokensToFunction=H,D.tokensToRegExp=V;var ot=Object.create(null);function rt(t,e,n){try{var i=ot[t]||(ot[t]=D.compile(t));return i(e||{},{pretty:!0})}catch(t){return""}}function st(t,e,n,i){var o=e||[],r=n||Object.create(null),s=i||Object.create(null);t.forEach(function(t){at(o,r,s,t)});for(var a=0,c=o.length;a<c;a++)"*"===o[a]&&(o.push(o.splice(a,1)[0]),c--,a--);return{pathList:o,pathMap:r,nameMap:s}}function at(t,e,n,i,o,r){var s=i.path,a=i.name;var c=i.pathToRegexpOptions||{},l=lt(s,o,c.strict);"boolean"===typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var u={path:l,regex:ct(l,c),components:i.components||{default:i.component},instances:{},name:a,parent:o,matchAs:r,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};if(i.children&&i.children.forEach(function(i){var o=r?P(r+"/"+i.path):void 0;at(t,e,n,i,u,o)}),void 0!==i.alias){var h=Array.isArray(i.alias)?i.alias:[i.alias];h.forEach(function(r){var s={path:r,children:i.children};at(t,e,n,s,o,u.path||"/")})}e[u.path]||(t.push(u.path),e[u.path]=u),a&&(n[a]||(n[a]=u))}function ct(t,e){var n=D(t,[],e);return n}function lt(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:P(e.path+"/"+t)}function ut(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o.name||o._normalized)return o;if(!o.path&&o.params&&e){o=ht({},o),o._normalized=!0;var r=ht(ht({},e.params),o.params);if(e.name)o.name=e.name,o.params=r;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;o.path=rt(s,r,"path "+e.path)}else 0;return o}var a=L(o.path||""),c=e&&e.path||"/",l=a.path?z(a.path,c,n||o.append):c,u=d(a.query,o.query,i&&i.options.parseQuery),h=o.hash||a.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:l,query:u,hash:h}}function ht(t,e){for(var n in e)t[n]=e[n];return t}function pt(t,e){var n=st(t),i=n.pathList,o=n.pathMap,r=n.nameMap;function s(t){st(t,i,o,r)}function a(t,n,s){var a=ut(t,n,!1,e),c=a.name;if(c){var l=r[c];if(!l)return u(null,a);var h=l.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var p in n.params)!(p in a.params)&&h.indexOf(p)>-1&&(a.params[p]=n.params[p]);if(l)return a.path=rt(l.path,a.params,'named route "'+c+'"'),u(l,a,s)}else if(a.path){a.params={};for(var d=0;d<i.length;d++){var f=i[d],v=o[f];if(dt(v.regex,a.path,a.params))return u(v,a,s)}}return u(null,a)}function c(t,n){var i=t.redirect,o="function"===typeof i?i(m(t,n,null,e)):i;if("string"===typeof o&&(o={path:o}),!o||"object"!==typeof o)return u(null,n);var s=o,c=s.name,l=s.path,h=n.query,p=n.hash,d=n.params;if(h=s.hasOwnProperty("query")?s.query:h,p=s.hasOwnProperty("hash")?s.hash:p,d=s.hasOwnProperty("params")?s.params:d,c){r[c];return a({_normalized:!0,name:c,query:h,hash:p,params:d},void 0,n)}if(l){var f=ft(l,t),v=rt(f,d,'redirect route with path "'+f+'"');return a({_normalized:!0,path:v,query:h,hash:p},void 0,n)}return u(null,n)}function l(t,e,n){var i=rt(n,e.params,'aliased route with path "'+n+'"'),o=a({_normalized:!0,path:i});if(o){var r=o.matched,s=r[r.length-1];return e.params=o.params,u(s,e)}return u(null,e)}function u(t,n,i){return t&&t.redirect?c(t,i||n):t&&t.matchAs?l(t,n,t.matchAs):m(t,n,i,e)}return{match:a,addRoutes:s}}function dt(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var o=1,r=i.length;o<r;++o){var s=t.keys[o-1],a="string"===typeof i[o]?decodeURIComponent(i[o]):i[o];s&&(n[s.name]=a)}return!0}function ft(t,e){return z(t,e.parent?e.parent.path:"/",!0)}var vt=Object.create(null);function yt(){window.history.replaceState({key:kt()},""),window.addEventListener("popstate",function(t){gt(),t.state&&t.state.key&&Bt(t.state.key)})}function mt(t,e,n,i){if(t.app){var o=t.options.scrollBehavior;o&&t.app.$nextTick(function(){var t=wt(),r=o(e,n,i?t:null);r&&("function"===typeof r.then?r.then(function(e){Tt(e,t)}).catch(function(t){0}):Tt(r,t))})}}function gt(){var t=kt();t&&(vt[t]={x:window.pageXOffset,y:window.pageYOffset})}function wt(){var t=kt();if(t)return vt[t]}function bt(t,e){var n=document.documentElement,i=n.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:o.left-i.left-e.x,y:o.top-i.top-e.y}}function xt(t){return Ct(t.x)||Ct(t.y)}function Et(t){return{x:Ct(t.x)?t.x:window.pageXOffset,y:Ct(t.y)?t.y:window.pageYOffset}}function At(t){return{x:Ct(t.x)?t.x:0,y:Ct(t.y)?t.y:0}}function Ct(t){return"number"===typeof t}function Tt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var i=document.querySelector(t.selector);if(i){var o=t.offset&&"object"===typeof t.offset?t.offset:{};o=At(o),e=bt(i,o)}else xt(t)&&(e=Et(t))}else n&&xt(t)&&(e=Et(t));e&&window.scrollTo(e.x,e.y)}var St=I&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),_t=I&&window.performance&&window.performance.now?window.performance:Date,Mt=Rt();function Rt(){return _t.now().toFixed(3)}function kt(){return Mt}function Bt(t){Mt=t}function Ot(t,e){gt();var n=window.history;try{e?n.replaceState({key:Mt},"",t):(Mt=Rt(),n.pushState({key:Mt},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function It(t){Ot(t,!0)}function zt(t,e,n){var i=function(o){o>=t.length?n():t[o]?e(t[o],function(){i(o+1)}):i(o+1)};i(0)}function Lt(t){return function(e,n,i){var r=!1,s=0,a=null;Pt(t,function(t,e,n,c){if("function"===typeof t&&void 0===t.cid){r=!0,s++;var l,u=jt(function(e){Ft(e)&&(e=e.default),t.resolved="function"===typeof e?e:S.extend(e),n.components[c]=e,s--,s<=0&&i()}),h=jt(function(t){var e="Failed to resolve async component "+c+": "+t;a||(a=o(t)?t:new Error(e),i(a))});try{l=t(u,h)}catch(t){h(t)}if(l)if("function"===typeof l.then)l.then(u,h);else{var p=l.component;p&&"function"===typeof p.then&&p.then(u,h)}}}),r||i()}}function Pt(t,e){return Nt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Nt(t){return Array.prototype.concat.apply([],t)}var Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ft(t){return t.__esModule||Dt&&"Module"===t[Symbol.toStringTag]}function jt(t){var e=!1;return function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var Ht=function(t,e){this.router=t,this.base=Vt(e),this.current=w,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Vt(t){if(!t)if(I){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function qt(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function Ut(t,e,n,i){var o=Pt(t,function(t,i,o,r){var s=Wt(t,e);if(s)return Array.isArray(s)?s.map(function(t){return n(t,i,o,r)}):n(s,i,o,r)});return Nt(i?o.reverse():o)}function Wt(t,e){return"function"!==typeof t&&(t=S.extend(t)),t.options[e]}function Gt(t){return Ut(t,"beforeRouteLeave",$t,!0)}function Kt(t){return Ut(t,"beforeRouteUpdate",$t)}function $t(t,e){if(e)return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Ut(t,"beforeRouteEnter",function(t,i,o,r){return Zt(t,o,r,e,n)})}function Zt(t,e,n,i,o){return function(r,s,a){return t(r,s,function(t){a(t),"function"===typeof t&&i.push(function(){Yt(t,e.instances,n,o)})})}}function Yt(t,e,n,i){e[n]?t(e[n]):i()&&setTimeout(function(){Yt(t,e,n,i)},16)}Ht.prototype.listen=function(t){this.cb=t},Ht.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Ht.prototype.onError=function(t){this.errorCbs.push(t)},Ht.prototype.transitionTo=function(t,e,n){var i=this,o=this.router.match(t,this.current);this.confirmTransition(o,function(){i.updateRoute(o),e&&e(o),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(o)}))},function(t){n&&n(t),t&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)}))})},Ht.prototype.confirmTransition=function(t,e,n){var r=this,s=this.current,a=function(t){o(t)&&(r.errorCbs.length?r.errorCbs.forEach(function(e){e(t)}):(i(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(E(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),a();var c=qt(this.current.matched,t.matched),l=c.updated,u=c.deactivated,h=c.activated,p=[].concat(Gt(u),this.router.beforeHooks,Kt(l),h.map(function(t){return t.beforeEnter}),Lt(h));this.pending=t;var d=function(e,n){if(r.pending!==t)return a();try{e(t,s,function(t){!1===t||o(t)?(r.ensureURL(!0),a(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(a(),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):n(t)})}catch(t){a(t)}};zt(p,d,function(){var n=[],i=function(){return r.current===t},o=Xt(h,n,i),s=o.concat(r.router.resolveHooks);zt(s,d,function(){if(r.pending!==t)return a();r.pending=null,e(t),r.router.app&&r.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},Ht.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var Jt=function(t){function e(e,n){var i=this;t.call(this,e,n);var o=e.options.scrollBehavior;o&&yt();var r=Qt(this.base);window.addEventListener("popstate",function(t){var n=i.current,s=Qt(i.base);i.current===w&&s===r||i.transitionTo(s,function(t){o&&mt(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,o=this,r=o.current;this.transitionTo(t,function(t){Ot(P(i.base+t.fullPath)),mt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,o=this,r=o.current;this.transitionTo(t,function(t){It(P(i.base+t.fullPath)),mt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Qt(this.base)!==this.current.fullPath){var e=P(this.base+this.current.fullPath);t?Ot(e):It(e)}},e.prototype.getCurrentLocation=function(){return Qt(this.base)},e}(Ht);function Qt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var te=function(t){function e(e,n,i){t.call(this,e,n),i&&ee(this.base)||ne()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,i=St&&n;i&&yt(),window.addEventListener(St?"popstate":"hashchange",function(){var e=t.current;ne()&&t.transitionTo(ie(),function(n){i&&mt(t.router,n,e,!0),St||se(n.fullPath)})})},e.prototype.push=function(t,e,n){var i=this,o=this,r=o.current;this.transitionTo(t,function(t){re(t.fullPath),mt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this,o=this,r=o.current;this.transitionTo(t,function(t){se(t.fullPath),mt(i.router,t,r,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ie()!==e&&(t?re(e):se(e))},e.prototype.getCurrentLocation=function(){return ie()},e}(Ht);function ee(t){var e=Qt(t);if(!/^\/#/.test(e))return window.location.replace(P(t+"/#"+e)),!0}function ne(){var t=ie();return"/"===t.charAt(0)||(se("/"+t),!1)}function ie(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function oe(t){var e=window.location.href,n=e.indexOf("#"),i=n>=0?e.slice(0,n):e;return i+"#"+t}function re(t){St?Ot(oe(t)):window.location.hash=t}function se(t){St?It(oe(t)):window.location.replace(oe(t))}var ae=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){e.index=n,e.updateRoute(i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ht),ce=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!St&&!1!==t.fallback,this.fallback&&(e="hash"),I||(e="abstract"),this.mode=e,e){case"history":this.history=new Jt(this,t.base);break;case"hash":this.history=new te(this,t.base,this.fallback);break;case"abstract":this.history=new ae(this,t.base);break;default:0}},le={currentRoute:{configurable:!0}};function ue(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function he(t,e,n){var i="hash"===n?"#"+e:e;return t?P(t+"/"+i):i}ce.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},le.currentRoute.get=function(){return this.history&&this.history.current},ce.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var n=this.history;if(n instanceof Jt)n.transitionTo(n.getCurrentLocation());else if(n instanceof te){var i=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},ce.prototype.beforeEach=function(t){return ue(this.beforeHooks,t)},ce.prototype.beforeResolve=function(t){return ue(this.resolveHooks,t)},ce.prototype.afterEach=function(t){return ue(this.afterHooks,t)},ce.prototype.onReady=function(t,e){this.history.onReady(t,e)},ce.prototype.onError=function(t){this.history.onError(t)},ce.prototype.push=function(t,e,n){this.history.push(t,e,n)},ce.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},ce.prototype.go=function(t){this.history.go(t)},ce.prototype.back=function(){this.go(-1)},ce.prototype.forward=function(){this.go(1)},ce.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},ce.prototype.resolve=function(t,e,n){var i=ut(t,e||this.history.current,n,this),o=this.match(i,e),r=o.redirectedFrom||o.fullPath,s=this.history.base,a=he(s,r,this.mode);return{location:i,route:o,href:a,normalizedTo:i,resolved:o}},ce.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==w&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ce.prototype,le),ce.install=O,ce.version="3.0.1",I&&window.Vue&&window.Vue.use(ce),e["a"]=ce},jZVH:function(t,e,n){var i=n("o/IA"),o=n("X0qH"),r=n("r2AA"),s=n("T8A4"),a=s.ID;t.exports=function(t){var e,n=null,c={},l={};function u(){n.step(e);var o={};Object.keys(c).forEach(function(t){o[t]=s.serializeBody(c[t])}),t.postMessage({type:i.STEP,bodies:o,contacts:n.getContacts().map(s.serializeContact)})}t.addEventListener("message",function(t){var h=t.data;switch(h.type){case i.INIT:n="cannon"===h.engine?new o:new r,n.init(h.worldConfig),e=1/h.fps,setInterval(u,1e3/h.fps);break;case i.ADD_BODY:var p=s.deserializeBody(h.body);p.material=n.getMaterial("defaultMaterial"),c[p[a]]=p,n.addBody(p);break;case i.REMOVE_BODY:n.removeBody(c[h.bodyID]),delete c[h.bodyID];break;case i.APPLY_BODY_METHOD:c[h.bodyID][h.methodName](s.deserializeVec3(h.args[0]),s.deserializeVec3(h.args[1]));break;case i.UPDATE_BODY_PROPERTIES:s.deserializeBodyUpdate(h.body,c[h.body.id]);break;case i.ADD_MATERIAL:n.addMaterial(h.materialConfig);break;case i.ADD_CONTACT_MATERIAL:n.addContactMaterial(h.materialName1,h.materialName2,h.contactMaterialConfig);break;case i.ADD_CONSTRAINT:var d=s.deserializeConstraint(h.constraint,c);l[d[a]]=d,n.addConstraint(d);break;case i.REMOVE_CONSTRAINT:n.removeConstraint(l[h.constraintID]),delete l[h.constraintID];break;default:throw new Error("[Worker] Unexpected event type: %s",h.type)}})}},jeSy:function(t,e,n){t.exports=r;var i=n("JcM6"),o=(n("FKcu"),n("IABr"));function r(t,e,n){n=n||{};var r="undefined"!==typeof n.maxForce?n.maxForce:1e6;o.call(this,t,e,-r,r),this.axisA=n.axisA?n.axisA.clone():new i(1,0,0),this.axisB=n.axisB?n.axisB.clone():new i(0,1,0),this.angle="undefined"!==typeof n.angle?n.angle:0}r.prototype=new o,r.prototype.constructor=r;var s=new i,a=new i;r.prototype.computeB=function(t){var e=this.a,n=this.b,i=this.axisA,o=this.axisB,r=s,c=a,l=this.jacobianElementA,u=this.jacobianElementB;i.cross(o,r),o.cross(i,c),l.rotational.copy(c),u.rotational.copy(r);var h=Math.cos(this.angle)-i.dot(o),p=this.computeGW(),d=this.computeGiMf(),f=-h*e-p*n-t*d;return f}},"kA2+":function(t,e){t.exports.slerp=function(t,e,n){if(n<=0)return t;if(n>=1)return e;var i=t[0],o=t[1],r=t[2],s=t[3],a=s*e[3]+i*e[0]+o*e[1]+r*e[2];if(!(a<0))return e;if(t=t.slice(),t[3]=-e[3],t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],a=-a,a>=1)return t[3]=s,t[0]=i,t[1]=o,t[2]=r,this;var c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return t[3]=.5*(s+t[3]),t[0]=.5*(i+t[0]),t[1]=.5*(o+t[1]),t[2]=.5*(r+t[2]),this;var l=Math.atan2(c,a),u=Math.sin((1-n)*l)/c,h=Math.sin(n*l)/c;return t[3]=s*u+t[3]*h,t[0]=i*u+t[0]*h,t[1]=o*u+t[1]*h,t[2]=r*u+t[2]*h,t}},kDUh:function(t,e,n){n("Z6Vu");var i=n("mjed");function o(t){i.apply(this),this.axisList=[],this.world=null,this.axisIndex=0;var e=this.axisList;this._addBodyHandler=function(t){e.push(t.body)},this._removeBodyHandler=function(t){var n=e.indexOf(t.body);-1!==n&&e.splice(n,1)},t&&this.setWorld(t)}t.exports=o,o.prototype=new i,o.prototype.setWorld=function(t){this.axisList.length=0;for(var e=0;e<t.bodies.length;e++)this.axisList.push(t.bodies[e]);t.removeEventListener("addBody",this._addBodyHandler),t.removeEventListener("removeBody",this._removeBodyHandler),t.addEventListener("addBody",this._addBodyHandler),t.addEventListener("removeBody",this._removeBodyHandler),this.world=t,this.dirty=!0},o.insertionSortX=function(t){for(var e=1,n=t.length;e<n;e++){for(var i=t[e],o=e-1;o>=0;o--){if(t[o].aabb.lowerBound.x<=i.aabb.lowerBound.x)break;t[o+1]=t[o]}t[o+1]=i}return t},o.insertionSortY=function(t){for(var e=1,n=t.length;e<n;e++){for(var i=t[e],o=e-1;o>=0;o--){if(t[o].aabb.lowerBound.y<=i.aabb.lowerBound.y)break;t[o+1]=t[o]}t[o+1]=i}return t},o.insertionSortZ=function(t){for(var e=1,n=t.length;e<n;e++){for(var i=t[e],o=e-1;o>=0;o--){if(t[o].aabb.lowerBound.z<=i.aabb.lowerBound.z)break;t[o+1]=t[o]}t[o+1]=i}return t},o.prototype.collisionPairs=function(t,e,n){var i,r,s=this.axisList,a=s.length,c=this.axisIndex;for(this.dirty&&(this.sortList(),this.dirty=!1),i=0;i!==a;i++){var l=s[i];for(r=i+1;r<a;r++){var u=s[r];if(this.needBroadphaseCollision(l,u)){if(!o.checkBounds(l,u,c))break;this.intersectionTest(l,u,e,n)}}}},o.prototype.sortList=function(){for(var t=this.axisList,e=this.axisIndex,n=t.length,i=0;i!==n;i++){var r=t[i];r.aabbNeedsUpdate&&r.computeAABB()}0===e?o.insertionSortX(t):1===e?o.insertionSortY(t):2===e&&o.insertionSortZ(t)},o.checkBounds=function(t,e,n){var i,o;0===n?(i=t.position.x,o=e.position.x):1===n?(i=t.position.y,o=e.position.y):2===n&&(i=t.position.z,o=e.position.z);var r=t.boundingRadius,s=e.boundingRadius,a=i+r,c=o-s;return c<a},o.prototype.autoDetectAxis=function(){for(var t=0,e=0,n=0,i=0,o=0,r=0,s=this.axisList,a=s.length,c=1/a,l=0;l!==a;l++){var u=s[l],h=u.position.x;t+=h,e+=h*h;var p=u.position.y;n+=p,i+=p*p;var d=u.position.z;o+=d,r+=d*d}var f=e-t*t*c,v=i-n*n*c,y=r-o*o*c;this.axisIndex=f>v?f>y?0:2:v>y?1:2},o.prototype.aabbQuery=function(t,e,n){n=n||[],this.dirty&&(this.sortList(),this.dirty=!1);var i=this.axisIndex,o="x";1===i&&(o="y"),2===i&&(o="z");for(var r=this.axisList,s=(e.lowerBound[o],e.upperBound[o],0);s<r.length;s++){var a=r[s];a.aabbNeedsUpdate&&a.computeAABB(),a.aabb.overlaps(e)&&n.push(a)}return n}},kk46:function(t,e,n){t.exports=o;var i=n("JcM6");function o(t,e,n,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0,this.w=void 0!==i?i:1}o.prototype.set=function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},o.prototype.toString=function(){return this.x+","+this.y+","+this.z+","+this.w},o.prototype.toArray=function(){return[this.x,this.y,this.z,this.w]},o.prototype.setFromAxisAngle=function(t,e){var n=Math.sin(.5*e);return this.x=t.x*n,this.y=t.y*n,this.z=t.z*n,this.w=Math.cos(.5*e),this},o.prototype.toAxisAngle=function(t){t=t||new i,this.normalize();var e=2*Math.acos(this.w),n=Math.sqrt(1-this.w*this.w);return n<.001?(t.x=this.x,t.y=this.y,t.z=this.z):(t.x=this.x/n,t.y=this.y/n,t.z=this.z/n),[t,e]};var r=new i,s=new i;o.prototype.setFromVectors=function(t,e){if(t.isAntiparallelTo(e)){var n=r,i=s;t.tangents(n,i),this.setFromAxisAngle(n,Math.PI)}else{var o=t.cross(e);this.x=o.x,this.y=o.y,this.z=o.z,this.w=Math.sqrt(Math.pow(t.norm(),2)*Math.pow(e.norm(),2))+t.dot(e),this.normalize()}return this};new i,new i,new i;o.prototype.mult=function(t,e){e=e||new o;var n=this.x,i=this.y,r=this.z,s=this.w,a=t.x,c=t.y,l=t.z,u=t.w;return e.x=n*u+s*a+i*l-r*c,e.y=i*u+s*c+r*a-n*l,e.z=r*u+s*l+n*c-i*a,e.w=s*u-n*a-i*c-r*l,e},o.prototype.inverse=function(t){var e=this.x,n=this.y,i=this.z,r=this.w;t=t||new o,this.conjugate(t);var s=1/(e*e+n*n+i*i+r*r);return t.x*=s,t.y*=s,t.z*=s,t.w*=s,t},o.prototype.conjugate=function(t){return t=t||new o,t.x=-this.x,t.y=-this.y,t.z=-this.z,t.w=this.w,t},o.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(t=1/t,this.x*=t,this.y*=t,this.z*=t,this.w*=t),this},o.prototype.normalizeFast=function(){var t=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===t?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=t,this.y*=t,this.z*=t,this.w*=t),this},o.prototype.vmult=function(t,e){e=e||new i;var n=t.x,o=t.y,r=t.z,s=this.x,a=this.y,c=this.z,l=this.w,u=l*n+a*r-c*o,h=l*o+c*n-s*r,p=l*r+s*o-a*n,d=-s*n-a*o-c*r;return e.x=u*l+d*-s+h*-c-p*-a,e.y=h*l+d*-a+p*-s-u*-c,e.z=p*l+d*-c+u*-a-h*-s,e},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},o.prototype.toEuler=function(t,e){var n,i,o;e=e||"YZX";var r=this.x,s=this.y,a=this.z,c=this.w;switch(e){case"YZX":var l=r*s+a*c;if(l>.499&&(n=2*Math.atan2(r,c),i=Math.PI/2,o=0),l<-.499&&(n=-2*Math.atan2(r,c),i=-Math.PI/2,o=0),isNaN(n)){var u=r*r,h=s*s,p=a*a;n=Math.atan2(2*s*c-2*r*a,1-2*h-2*p),i=Math.asin(2*l),o=Math.atan2(2*r*c-2*s*a,1-2*u-2*p)}break;default:throw new Error("Euler order "+e+" not supported yet.")}t.y=n,t.z=i,t.x=o},o.prototype.setFromEuler=function(t,e,n,i){i=i||"XYZ";var o=Math.cos(t/2),r=Math.cos(e/2),s=Math.cos(n/2),a=Math.sin(t/2),c=Math.sin(e/2),l=Math.sin(n/2);return"XYZ"===i?(this.x=a*r*s+o*c*l,this.y=o*c*s-a*r*l,this.z=o*r*l+a*c*s,this.w=o*r*s-a*c*l):"YXZ"===i?(this.x=a*r*s+o*c*l,this.y=o*c*s-a*r*l,this.z=o*r*l-a*c*s,this.w=o*r*s+a*c*l):"ZXY"===i?(this.x=a*r*s-o*c*l,this.y=o*c*s+a*r*l,this.z=o*r*l+a*c*s,this.w=o*r*s-a*c*l):"ZYX"===i?(this.x=a*r*s-o*c*l,this.y=o*c*s+a*r*l,this.z=o*r*l-a*c*s,this.w=o*r*s+a*c*l):"YZX"===i?(this.x=a*r*s+o*c*l,this.y=o*c*s+a*r*l,this.z=o*r*l-a*c*s,this.w=o*r*s-a*c*l):"XZY"===i&&(this.x=a*r*s-o*c*l,this.y=o*c*s-a*r*l,this.z=o*r*l+a*c*s,this.w=o*r*s+a*c*l),this},o.prototype.clone=function(){return new o(this.x,this.y,this.z,this.w)},o.prototype.slerp=function(t,e,n){n=n||new o;var i,r,s,a,c,l=this.x,u=this.y,h=this.z,p=this.w,d=t.x,f=t.y,v=t.z,y=t.w;return r=l*d+u*f+h*v+p*y,r<0&&(r=-r,d=-d,f=-f,v=-v,y=-y),1-r>1e-6?(i=Math.acos(r),s=Math.sin(i),a=Math.sin((1-e)*i)/s,c=Math.sin(e*i)/s):(a=1-e,c=e),n.x=a*l+c*d,n.y=a*u+c*f,n.z=a*h+c*v,n.w=a*p+c*y,n},o.prototype.integrate=function(t,e,n,i){i=i||new o;var r=t.x*n.x,s=t.y*n.y,a=t.z*n.z,c=this.x,l=this.y,u=this.z,h=this.w,p=.5*e;return i.x+=p*(r*h+s*u-a*l),i.y+=p*(s*h+a*c-r*u),i.z+=p*(a*h+r*l-s*c),i.w+=p*(-r*c-s*l-a*u),i}},kyDf:function(t,e){t.exports.Primitive=AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}}),t.exports.Component=AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const t=this.el,e=this.data;let n=t.components.material;const i=new THREE.PlaneGeometry(e.width,e.depth,e.density,e.density);i.mergeVertices(),this.waves=[];for(let o,r=0,s=i.vertices.length;r<s;r++)o=i.vertices[r],this.waves.push({z:o.z,ang:Math.random()*Math.PI*2,amp:e.amplitude+Math.random()*e.amplitudeVariance,speed:(e.speed+Math.random()*e.speedVariance)/1e3});n||(n={},n.material=new THREE.MeshPhongMaterial({color:e.color,transparent:e.opacity<1,opacity:e.opacity,shading:THREE.FlatShading})),this.mesh=new THREE.Mesh(i,n.material),t.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(t,e){if(!e)return;const n=this.mesh.geometry.vertices;for(let i,o,r=0;i=n[r];r++)o=this.waves[r],i.z=o.z+Math.sin(o.ang)*o.amp,o.ang+=o.speed*e;this.mesh.geometry.verticesNeedUpdate=!0}})},lSwU:function(t,e,n){var i=n("ayFu"),o=AFRAME.utils.extend({},i.definition);o.schema=AFRAME.utils.extend({},i.definition.schema,{type:{default:"static",oneOf:["static","dynamic"]},mass:{default:0}}),t.exports=AFRAME.registerComponent("static-body",o)},m0Pp:function(t,e,n){var i=n("2OiF");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},mRFy:function(t,e,n){n("QHZA"),n("3q1R"),n("skem"),n("zjFM"),n("4/OP"),n("sIIe")},mjed:function(t,e,n){var i=n("tQLc"),o=n("JcM6"),r=n("kk46");n("Z6Vu"),n("rrJ0");function s(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}t.exports=s,s.prototype.collisionPairs=function(t,e,n){throw new Error("collisionPairs not implemented for this BroadPhase class!")},s.prototype.needBroadphaseCollision=function(t,e){return 0!==(t.collisionFilterGroup&e.collisionFilterMask)&&0!==(e.collisionFilterGroup&t.collisionFilterMask)&&(0===(t.type&i.STATIC)&&t.sleepState!==i.SLEEPING||0===(e.type&i.STATIC)&&e.sleepState!==i.SLEEPING)},s.prototype.intersectionTest=function(t,e,n,i){this.useBoundingBoxes?this.doBoundingBoxBroadphase(t,e,n,i):this.doBoundingSphereBroadphase(t,e,n,i)};var a=new o;new o,new r,new o;s.prototype.doBoundingSphereBroadphase=function(t,e,n,i){var o=a;e.position.vsub(t.position,o);var r=Math.pow(t.boundingRadius+e.boundingRadius,2),s=o.norm2();s<r&&(n.push(t),i.push(e))},s.prototype.doBoundingBoxBroadphase=function(t,e,n,i){t.aabbNeedsUpdate&&t.computeAABB(),e.aabbNeedsUpdate&&e.computeAABB(),t.aabb.overlaps(e.aabb)&&(n.push(t),i.push(e))};var c={keys:[]},l=[],u=[];s.prototype.makePairsUnique=function(t,e){for(var n=c,i=l,o=u,r=t.length,s=0;s!==r;s++)i[s]=t[s],o[s]=e[s];t.length=0,e.length=0;for(s=0;s!==r;s++){var a=i[s].id,h=o[s].id,p=a<h?a+","+h:h+","+a;n[p]=s,n.keys.push(p)}for(s=0;s!==n.keys.length;s++){p=n.keys.pop();var d=n[p];t.push(i[d]),e.push(o[d]),delete n[p]}},s.prototype.setWorld=function(t){};var h=new o;s.boundingSphereCheck=function(t,e){var n=h;return t.position.vsub(e.position,n),Math.pow(t.shape.boundingSphereRadius+e.shape.boundingSphereRadius,2)>n.norm2()},s.prototype.aabbQuery=function(t,e,n){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}},mvZv:function(t,e,n){n("EIId"),n("FN59"),n("EyK7")},nICZ:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},ne8i:function(t,e,n){var i=n("RYi7"),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},nh4g:function(t,e,n){t.exports=!n("eeVq")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"o/IA":function(t,e){t.exports={INIT:"init",STEP:"step",ADD_BODY:"add-body",REMOVE_BODY:"remove-body",APPLY_BODY_METHOD:"apply-body-method",UPDATE_BODY_PROPERTIES:"update-body-properties",ADD_MATERIAL:"add-material",ADD_CONTACT_MATERIAL:"add-contact-material",ADD_CONSTRAINT:"add-constraint",REMOVE_CONSTRAINT:"remove-constraint"}},oSbB:function(t,e){function n(t,e,n){this.type=t,this.index=e,this.pressed=n.pressed,this.value=n.value}t.exports=n},ol8x:function(t,e,n){var i=n("dyZX"),o=i.navigator;t.exports=o&&o.userAgent||""},opYQ:function(t,e,n){var i=n("R+EB"),o=n("EVbP"),r=o.GRAVITY,s=o.CONTACT_MATERIAL,a=n("X0qH"),c=n("CY9K"),l=n("+5/M");n("r2AA");t.exports=AFRAME.registerSystem("physics",{schema:{driver:{default:"local",oneOf:["local","worker","network","ammo"]},networkUrl:{default:"",if:{driver:"network"}},workerFps:{default:60,if:{driver:"worker"}},workerInterpolate:{default:!0,if:{driver:"worker"}},workerInterpBufferSize:{default:2,if:{driver:"worker"}},workerEngine:{default:"cannon",if:{driver:"worker"},oneOf:["cannon"]},workerDebug:{default:!1,if:{driver:"worker"}},gravity:{default:r},iterations:{default:o.ITERATIONS},friction:{default:s.friction},restitution:{default:s.restitution},contactEquationStiffness:{default:s.contactEquationStiffness},contactEquationRelaxation:{default:s.contactEquationRelaxation},frictionEquationStiffness:{default:s.frictionEquationStiffness},frictionEquationRegularization:{default:s.frictionEquationRegularization},maxInterval:{default:4/60},debug:{default:!1}},init:function(){var t=this.data;switch(this.debug=t.debug,this.callbacks={beforeStep:[],step:[],afterStep:[]},this.listeners={},this.driver=null,t.driver){case"local":this.driver=new a;break;case"network":this.driver=new l(t.networkUrl);break;case"worker":this.driver=new c({fps:t.workerFps,engine:t.workerEngine,interpolate:t.workerInterpolate,interpolationBufferSize:t.workerInterpBufferSize,debug:t.workerDebug});break;default:throw new Error('[physics] Driver not recognized: "%s".',t.driver)}this.driver.init({quatNormalizeSkip:0,quatNormalizeFast:!1,solverIterations:t.iterations,gravity:t.gravity}),this.driver.addMaterial({name:"defaultMaterial"}),this.driver.addMaterial({name:"staticMaterial"}),this.driver.addContactMaterial("defaultMaterial","defaultMaterial",{friction:t.friction,restitution:t.restitution,contactEquationStiffness:t.contactEquationStiffness,contactEquationRelaxation:t.contactEquationRelaxation,frictionEquationStiffness:t.frictionEquationStiffness,frictionEquationRegularization:t.frictionEquationRegularization}),this.driver.addContactMaterial("staticMaterial","defaultMaterial",{friction:1,restitution:0,contactEquationStiffness:t.contactEquationStiffness,contactEquationRelaxation:t.contactEquationRelaxation,frictionEquationStiffness:t.frictionEquationStiffness,frictionEquationRegularization:t.frictionEquationRegularization})},tick:function(t,e){if(e){var n,i=this.callbacks;for(n=0;n<this.callbacks.beforeStep.length;n++)this.callbacks.beforeStep[n].beforeStep(t,e);for(this.driver.step(Math.min(e/1e3,this.data.maxInterval)),n=0;n<i.step.length;n++)i.step[n].step(t,e);for(n=0;n<i.afterStep.length;n++)i.afterStep[n].afterStep(t,e)}},addBody:function(t){var e=this.driver;t.__applyImpulse=t.applyImpulse,t.applyImpulse=function(){e.applyBodyMethod(t,"applyImpulse",arguments)},t.__applyForce=t.applyForce,t.applyForce=function(){e.applyBodyMethod(t,"applyForce",arguments)},t.updateProperties=function(){e.updateBodyProperties(t)},this.listeners[t.id]=function(e){t.el.emit("collide",e)},t.addEventListener("collide",this.listeners[t.id]),this.driver.addBody(t)},removeBody:function(t){this.driver.removeBody(t),t.removeEventListener("collide",this.listeners[t.id]),delete this.listeners[t.id],t.applyImpulse=t.__applyImpulse,delete t.__applyImpulse,t.applyForce=t.__applyForce,delete t.__applyForce,delete t.updateProperties},addConstraint:function(t){t.type||(t instanceof i.LockConstraint?t.type="LockConstraint":t instanceof i.DistanceConstraint?t.type="DistanceConstraint":t instanceof i.HingeConstraint?t.type="HingeConstraint":t instanceof i.ConeTwistConstraint?t.type="ConeTwistConstraint":t instanceof i.PointToPointConstraint&&(t.type="PointToPointConstraint")),this.driver.addConstraint(t)},removeConstraint:function(t){this.driver.removeConstraint(t)},addComponent:function(t){var e=this.callbacks;t.beforeStep&&e.beforeStep.push(t),t.step&&e.step.push(t),t.afterStep&&e.afterStep.push(t)},removeComponent:function(t){var e=this.callbacks;t.beforeStep&&e.beforeStep.splice(e.beforeStep.indexOf(t),1),t.step&&e.step.splice(e.step.indexOf(t),1),t.afterStep&&e.afterStep.splice(e.afterStep.indexOf(t),1)},getContacts:function(){return this.driver.getContacts()},getMaterial:function(t){return this.driver.getMaterial(t)}})},pbhE:function(t,e,n){"use strict";var i=n("2OiF");function o(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},"qa/2":function(t,e,n){var i=n("JcM6");n("x3f3");function o(t){t=t||{},this.lowerBound=new i,t.lowerBound&&this.lowerBound.copy(t.lowerBound),this.upperBound=new i,t.upperBound&&this.upperBound.copy(t.upperBound)}t.exports=o;var r=new i;o.prototype.setFromPoints=function(t,e,n,i){var o=this.lowerBound,s=this.upperBound,a=n;o.copy(t[0]),a&&a.vmult(o,o),s.copy(o);for(var c=1;c<t.length;c++){var l=t[c];a&&(a.vmult(l,r),l=r),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return e&&(e.vadd(o,o),e.vadd(s,s)),i&&(o.x-=i,o.y-=i,o.z-=i,s.x+=i,s.y+=i,s.z+=i),this},o.prototype.copy=function(t){return this.lowerBound.copy(t.lowerBound),this.upperBound.copy(t.upperBound),this},o.prototype.clone=function(){return(new o).copy(this)},o.prototype.extend=function(t){this.lowerBound.x=Math.min(this.lowerBound.x,t.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,t.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,t.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,t.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,t.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,t.upperBound.z)},o.prototype.overlaps=function(t){var e=this.lowerBound,n=this.upperBound,i=t.lowerBound,o=t.upperBound,r=i.x<=n.x&&n.x<=o.x||e.x<=o.x&&o.x<=n.x,s=i.y<=n.y&&n.y<=o.y||e.y<=o.y&&o.y<=n.y,a=i.z<=n.z&&n.z<=o.z||e.z<=o.z&&o.z<=n.z;return r&&s&&a},o.prototype.volume=function(){var t=this.lowerBound,e=this.upperBound;return(e.x-t.x)*(e.y-t.y)*(e.z-t.z)},o.prototype.contains=function(t){var e=this.lowerBound,n=this.upperBound,i=t.lowerBound,o=t.upperBound;return e.x<=i.x&&n.x>=o.x&&e.y<=i.y&&n.y>=o.y&&e.z<=i.z&&n.z>=o.z},o.prototype.getCorners=function(t,e,n,i,o,r,s,a){var c=this.lowerBound,l=this.upperBound;t.copy(c),e.set(l.x,c.y,c.z),n.set(l.x,l.y,c.z),i.set(c.x,l.y,l.z),o.set(l.x,c.y,c.z),r.set(c.x,l.y,c.z),s.set(c.x,c.y,l.z),a.copy(l)};var s=[new i,new i,new i,new i,new i,new i,new i,new i];o.prototype.toLocalFrame=function(t,e){var n=s,i=n[0],o=n[1],r=n[2],a=n[3],c=n[4],l=n[5],u=n[6],h=n[7];this.getCorners(i,o,r,a,c,l,u,h);for(var p=0;8!==p;p++){var d=n[p];t.pointToLocal(d,d)}return e.setFromPoints(n)},o.prototype.toWorldFrame=function(t,e){var n=s,i=n[0],o=n[1],r=n[2],a=n[3],c=n[4],l=n[5],u=n[6],h=n[7];this.getCorners(i,o,r,a,c,l,u,h);for(var p=0;8!==p;p++){var d=n[p];t.pointToWorld(d,d)}return e.setFromPoints(n)},o.prototype.overlapsRay=function(t){var e=1/t._direction.x,n=1/t._direction.y,i=1/t._direction.z,o=(this.lowerBound.x-t.from.x)*e,r=(this.upperBound.x-t.from.x)*e,s=(this.lowerBound.y-t.from.y)*n,a=(this.upperBound.y-t.from.y)*n,c=(this.lowerBound.z-t.from.z)*i,l=(this.upperBound.z-t.from.z)*i,u=Math.max(Math.max(Math.min(o,r),Math.min(s,a)),Math.min(c,l)),h=Math.min(Math.min(Math.max(o,r),Math.max(s,a)),Math.max(c,l));return!(h<0)&&!(u>h)}},qstC:function(t,e){t.exports=THREE.PLYLoader=function(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager,this.propertyNameMapping={}},THREE.PLYLoader.prototype={constructor:THREE.PLYLoader,load:function(t,e,n,i){var o=this,r=new THREE.XHRLoader(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){e(o.parse(t))},n,i)},setPropertyNameMapping:function(t){this.propertyNameMapping=t},bin2str:function(t){for(var e=new Uint8Array(t),n="",i=0;i<t.byteLength;i++)n+=String.fromCharCode(e[i]);return n},isASCII:function(t){var e=this.parseHeader(this.bin2str(t));return"ascii"===e.format},parse:function(t){return t instanceof ArrayBuffer?this.isASCII(t)?this.parseASCII(this.bin2str(t)):this.parseBinary(t):this.parseASCII(t)},parseHeader:function(t){var e=/ply([\s\S]*)end_header\s/,n="",i=0,o=e.exec(t);null!==o&&(n=o[1],i=o[0].length);var r,s,a={comments:[],elements:[],headerLength:i},c=n.split("\n"),l=void 0;function u(t,e){var n={type:t[0]};return"list"===n.type?(n.name=t[3],n.countType=t[1],n.itemType=t[2]):n.name=t[1],n.name in e&&(n.name=e[n.name]),n}for(var h=0;h<c.length;h++){var p=c[h];if(p=p.trim(),""!==p)switch(s=p.split(/\s+/),r=s.shift(),p=s.join(" "),r){case"format":a.format=s[0],a.version=s[1];break;case"comment":a.comments.push(p);break;case"element":void 0!==l&&a.elements.push(l),l=Object(),l.name=s[0],l.count=parseInt(s[1]),l.properties=[];break;case"property":l.properties.push(u(s,this.propertyNameMapping));break;default:console.log("unhandled",r,s)}}return void 0!==l&&a.elements.push(l),a},parseASCIINumber:function(t,e){switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(t);case"float":case"double":case"float32":case"float64":return parseFloat(t)}},parseASCIIElement:function(t,e){for(var n=e.split(/\s+/),i=Object(),o=0;o<t.length;o++)if("list"===t[o].type){for(var r=[],s=this.parseASCIINumber(n.shift(),t[o].countType),a=0;a<s;a++)r.push(this.parseASCIINumber(n.shift(),t[o].itemType));i[t[o].name]=r}else i[t[o].name]=this.parseASCIINumber(n.shift(),t[o].type);return i},parseASCII:function(t){var e,n=new THREE.Geometry,i=this.parseHeader(t),o=/end_header\s([\s\S]*)$/,r="";null!==(e=o.exec(t))&&(r=e[1]);var s=r.split("\n"),a=0,c=0;n.useColor=!1;for(var l=0;l<s.length;l++){var u=s[l];if(u=u.trim(),""!==u){c>=i.elements[a].count&&(a++,c=0);var h=this.parseASCIIElement(i.elements[a].properties,u);this.handleElement(n,i.elements[a].name,h),c++}}return this.postProcess(n)},postProcess:function(t){if(t.useColor){for(var e=0;e<t.faces.length;e++)t.faces[e].vertexColors=[t.colors[t.faces[e].a],t.colors[t.faces[e].b],t.colors[t.faces[e].c]];t.elementsNeedUpdate=!0}return t.computeBoundingSphere(),t},handleElement:function(t,e,n){if("vertex"===e){if(t.vertices.push(new THREE.Vector3(n.x,n.y,n.z)),"red"in n&&"green"in n&&"blue"in n){t.useColor=!0;var i=new THREE.Color;i.setRGB(n.red/255,n.green/255,n.blue/255),t.colors.push(i)}}else if("face"===e){var o=n.vertex_indices||n.vertex_index;3===o.length?t.faces.push(new THREE.Face3(o[0],o[1],o[2])):4===o.length&&t.faces.push(new THREE.Face3(o[0],o[1],o[3]),new THREE.Face3(o[1],o[2],o[3]))}},binaryRead:function(t,e,n,i){switch(n){case"int8":case"char":return[t.getInt8(e),1];case"uint8":case"uchar":return[t.getUint8(e),1];case"int16":case"short":return[t.getInt16(e,i),2];case"uint16":case"ushort":return[t.getUint16(e,i),2];case"int32":case"int":return[t.getInt32(e,i),4];case"uint32":case"uint":return[t.getUint32(e,i),4];case"float32":case"float":return[t.getFloat32(e,i),4];case"float64":case"double":return[t.getFloat64(e,i),8]}},binaryReadElement:function(t,e,n,i){for(var o,r=Object(),s=0,a=0;a<n.length;a++)if("list"===n[a].type){var c=[];o=this.binaryRead(t,e+s,n[a].countType,i);var l=o[0];s+=o[1];for(var u=0;u<l;u++)o=this.binaryRead(t,e+s,n[a].itemType,i),c.push(o[0]),s+=o[1];r[n[a].name]=c}else o=this.binaryRead(t,e+s,n[a].type,i),r[n[a].name]=o[0],s+=o[1];return[r,s]},parseBinary:function(t){for(var e,n=new THREE.Geometry,i=this.parseHeader(this.bin2str(t)),o="binary_little_endian"===i.format,r=new DataView(t,i.headerLength),s=0,a=0;a<i.elements.length;a++)for(var c=0;c<i.elements[a].count;c++){e=this.binaryReadElement(r,s,i.elements[a].properties,o),s+=e[1];var l=e[0];this.handleElement(n,i.elements[a].name,l)}return this.postProcess(n)}}},r2AA:function(t,e,n){var i=n("0TMJ");function o(){throw new Error("[AmmoDriver] Driver not implemented.")}o.prototype=new i,o.prototype.constructor=o,t.exports=o},rUNA:function(t,e,n){var i=n("R+EB");t.exports=AFRAME.registerComponent("constraint",{multiple:!0,schema:{type:{default:"lock",oneOf:["coneTwist","distance","hinge","lock","pointToPoint"]},target:{type:"selector"},maxForce:{default:1e6,min:0},collideConnected:{default:!0},wakeUpBodies:{default:!0},distance:{default:0,min:0},pivot:{type:"vec3"},targetPivot:{type:"vec3"},axis:{type:"vec3",default:{x:0,y:0,z:1}},targetAxis:{type:"vec3",default:{x:0,y:0,z:1}}},init:function(){this.system=this.el.sceneEl.systems.physics,this.constraint=null},remove:function(){this.constraint&&(this.system.removeConstraint(this.constraint),this.constraint=null)},update:function(){var t=this.el,e=this.data;this.remove(),t.body&&e.target.body?(this.constraint=this.createConstraint(),this.system.addConstraint(this.constraint)):(t.body?e.target:t).addEventListener("body-loaded",this.update.bind(this,{}))},createConstraint:function(){var t,e=this.data,n=new i.Vec3(e.pivot.x,e.pivot.y,e.pivot.z),o=new i.Vec3(e.targetPivot.x,e.targetPivot.y,e.targetPivot.z),r=new i.Vec3(e.axis.x,e.axis.y,e.axis.z),s=new i.Vec3(e.targetAxis.x,e.targetAxis.y,e.targetAxis.z);switch(e.type){case"lock":t=new i.LockConstraint(this.el.body,e.target.body,{maxForce:e.maxForce}),t.type="LockConstraint";break;case"distance":t=new i.DistanceConstraint(this.el.body,e.target.body,e.distance,e.maxForce),t.type="DistanceConstraint";break;case"hinge":t=new i.HingeConstraint(this.el.body,e.target.body,{pivotA:n,pivotB:o,axisA:r,axisB:s,maxForce:e.maxForce}),t.type="HingeConstraint";break;case"coneTwist":t=new i.ConeTwistConstraint(this.el.body,e.target.body,{pivotA:n,pivotB:o,axisA:r,axisB:s,maxForce:e.maxForce}),t.type="ConeTwistConstraint";break;case"pointToPoint":t=new i.PointToPointConstraint(this.el.body,n,e.target.body,o,e.maxForce),t.type="PointToPointConstraint";break;default:throw new Error("[constraint] Unexpected type: "+e.type)}return t.collideConnected=e.collideConnected,t}})},rrJ0:function(t,e,n){t.exports=r;var i=n("Z6Vu"),o=n("JcM6");function r(){i.call(this),this.type=i.types.PLANE,this.worldNormal=new o,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}r.prototype=new i,r.prototype.constructor=r,r.prototype.computeWorldNormal=function(t){var e=this.worldNormal;e.set(0,0,1),t.vmult(e,e),this.worldNormalNeedsUpdate=!1},r.prototype.calculateLocalInertia=function(t,e){return e=e||new o,e},r.prototype.volume=function(){return Number.MAX_VALUE};var s=new o;r.prototype.calculateWorldAABB=function(t,e,n,i){s.set(0,0,1),e.vmult(s,s);var o=Number.MAX_VALUE;n.set(-o,-o,-o),i.set(o,o,o),1===s.x&&(i.x=t.x),1===s.y&&(i.y=t.y),1===s.z&&(i.z=t.z),-1===s.x&&(n.x=t.x),-1===s.y&&(n.y=t.y),-1===s.z&&(n.z=t.z)},r.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=Number.MAX_VALUE}},"s/hC":function(t,e,n){var i=n("ayFu"),o=AFRAME.utils.extend({},i.definition);t.exports=AFRAME.registerComponent("dynamic-body",o)},sIIe:function(t,e,n){function i(t){return new THREE.Mesh(t,new THREE.MeshPhongMaterial({color:16777215,shading:THREE.FlatShading,vertexColors:THREE.VertexColors,shininess:0}))}THREE.PLYLoader=n("qstC"),t.exports.System=AFRAME.registerSystem("ply-model",{init:function(){this.cache={}},getOrLoadGeometry:function(t,e){const n=this.cache,i=n[t];return!e&&i?i:(n[t]=new Promise(function(e){const n=new THREE.PLYLoader;n.load(t,function(t){e(t)})}),n[t])}}),t.exports.Component=AFRAME.registerComponent("ply-model",{schema:{skipCache:{type:"boolean",default:!1},src:{type:"asset"}},init:function(){this.model=null},update:function(){const t=this.data,e=this.el;t.src?this.system.getOrLoadGeometry(t.src,t.skipCache).then(t=>{const n=i(t);e.setObject3D("mesh",n),e.emit("model-loaded",{format:"ply",model:n})}):console.warn("[%s] `src` property is required.",this.name)},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},skem:function(t,e,n){const i=n("8L4W")(),o="https://rawgit.com/mrdoob/three.js/r86/examples/js/loaders/GLTFLoader.js",r=function(){let t;return function(){return t=t||i(o),t}}();t.exports=AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=r().then(()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")})},update:function(){const t=this,e=this.el,n=this.data;n&&(this.remove(),this.loaderPromise.then(()=>{this.loader.load(n,function(n){t.model=n.scene,t.model.animations=n.animations,e.setObject3D("mesh",t.model),e.emit("model-loaded",{format:"gltf",model:t.model})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},tQLc:function(t,e,n){t.exports=l;var i=n("6zDq"),o=(n("Z6Vu"),n("JcM6")),r=n("FKcu"),s=n("kk46"),a=(n("Ot0k"),n("qa/2")),c=n("vGJX");function l(t){t=t||{},i.apply(this),this.id=l.idCounter++,this.world=null,this.preStep=null,this.postStep=null,this.vlambda=new o,this.collisionFilterGroup="number"===typeof t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask="number"===typeof t.collisionFilterMask?t.collisionFilterMask:1,this.collisionResponse=!0,this.position=new o,this.previousPosition=new o,this.interpolatedPosition=new o,this.initPosition=new o,t.position&&(this.position.copy(t.position),this.previousPosition.copy(t.position),this.interpolatedPosition.copy(t.position),this.initPosition.copy(t.position)),this.velocity=new o,t.velocity&&this.velocity.copy(t.velocity),this.initVelocity=new o,this.force=new o;var e="number"===typeof t.mass?t.mass:0;this.mass=e,this.invMass=e>0?1/e:0,this.material=t.material||null,this.linearDamping="number"===typeof t.linearDamping?t.linearDamping:.01,this.type=e<=0?l.STATIC:l.DYNAMIC,typeof t.type===typeof l.STATIC&&(this.type=t.type),this.allowSleep="undefined"===typeof t.allowSleep||t.allowSleep,this.sleepState=0,this.sleepSpeedLimit="undefined"!==typeof t.sleepSpeedLimit?t.sleepSpeedLimit:.1,this.sleepTimeLimit="undefined"!==typeof t.sleepTimeLimit?t.sleepTimeLimit:1,this.timeLastSleepy=0,this._wakeUpAfterNarrowphase=!1,this.torque=new o,this.quaternion=new s,this.initQuaternion=new s,this.previousQuaternion=new s,this.interpolatedQuaternion=new s,t.quaternion&&(this.quaternion.copy(t.quaternion),this.initQuaternion.copy(t.quaternion),this.previousQuaternion.copy(t.quaternion),this.interpolatedQuaternion.copy(t.quaternion)),this.angularVelocity=new o,t.angularVelocity&&this.angularVelocity.copy(t.angularVelocity),this.initAngularVelocity=new o,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new o,this.invInertia=new o,this.invInertiaWorld=new r,this.invMassSolve=0,this.invInertiaSolve=new o,this.invInertiaWorldSolve=new r,this.fixedRotation="undefined"!==typeof t.fixedRotation&&t.fixedRotation,this.angularDamping="undefined"!==typeof t.angularDamping?t.angularDamping:.01,this.linearFactor=new o(1,1,1),t.linearFactor&&this.linearFactor.copy(t.linearFactor),this.angularFactor=new o(1,1,1),t.angularFactor&&this.angularFactor.copy(t.angularFactor),this.aabb=new a,this.aabbNeedsUpdate=!0,this.wlambda=new o,t.shape&&this.addShape(t.shape),this.updateMassProperties()}l.prototype=new i,l.prototype.constructor=l,l.COLLIDE_EVENT_NAME="collide",l.DYNAMIC=1,l.STATIC=2,l.KINEMATIC=4,l.AWAKE=0,l.SLEEPY=1,l.SLEEPING=2,l.idCounter=0,l.wakeupEvent={type:"wakeup"},l.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=0,this._wakeUpAfterNarrowphase=!1,t===l.SLEEPING&&this.dispatchEvent(l.wakeupEvent)},l.prototype.sleep=function(){this.sleepState=l.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this._wakeUpAfterNarrowphase=!1},l.sleepyEvent={type:"sleepy"},l.sleepEvent={type:"sleep"},l.prototype.sleepTick=function(t){if(this.allowSleep){var e=this.sleepState,n=this.velocity.norm2()+this.angularVelocity.norm2(),i=Math.pow(this.sleepSpeedLimit,2);e===l.AWAKE&&n<i?(this.sleepState=l.SLEEPY,this.timeLastSleepy=t,this.dispatchEvent(l.sleepyEvent)):e===l.SLEEPY&&n>i?this.wakeUp():e===l.SLEEPY&&t-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(l.sleepEvent))}},l.prototype.updateSolveMassProperties=function(){this.sleepState===l.SLEEPING||this.type===l.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))},l.prototype.pointToLocalFrame=function(t,e){e=e||new o;return t.vsub(this.position,e),this.quaternion.conjugate().vmult(e,e),e},l.prototype.vectorToLocalFrame=function(t,e){e=e||new o;return this.quaternion.conjugate().vmult(t,e),e},l.prototype.pointToWorldFrame=function(t,e){e=e||new o;return this.quaternion.vmult(t,e),e.vadd(this.position,e),e},l.prototype.vectorToWorldFrame=function(t,e){e=e||new o;return this.quaternion.vmult(t,e),e};var u=new o,h=new s;l.prototype.addShape=function(t,e,n){var i=new o,r=new s;return e&&i.copy(e),n&&r.copy(n),this.shapes.push(t),this.shapeOffsets.push(i),this.shapeOrientations.push(r),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,t.body=this,this},l.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=this.shapeOffsets,n=t.length,i=0,o=0;o!==n;o++){var r=t[o];r.updateBoundingSphereRadius();var s=e[o].norm(),a=r.boundingSphereRadius;s+a>i&&(i=s+a)}this.boundingRadius=i};var p=new a;l.prototype.computeAABB=function(){for(var t=this.shapes,e=this.shapeOffsets,n=this.shapeOrientations,i=t.length,o=u,r=h,s=this.quaternion,a=this.aabb,c=p,l=0;l!==i;l++){var d=t[l];s.vmult(e[l],o),o.vadd(this.position,o),n[l].mult(s,r),d.calculateWorldAABB(o,r,c.lowerBound,c.upperBound),0===l?a.copy(c):a.extend(c)}this.aabbNeedsUpdate=!1};var d=new r,f=new r;new r;l.prototype.updateInertiaWorld=function(t){var e=this.invInertia;if(e.x!==e.y||e.y!==e.z||t){var n=d,i=f;n.setRotationFromQuaternion(this.quaternion),n.transpose(i),n.scale(e,n),n.mmult(i,this.invInertiaWorld)}else;};new o;var v=new o;l.prototype.applyForce=function(t,e){if(this.type===l.DYNAMIC){var n=v;e.cross(t,n),this.force.vadd(t,this.force),this.torque.vadd(n,this.torque)}};var y=new o,m=new o;l.prototype.applyLocalForce=function(t,e){if(this.type===l.DYNAMIC){var n=y,i=m;this.vectorToWorldFrame(t,n),this.vectorToWorldFrame(e,i),this.applyForce(n,i)}};new o;var g=new o,w=new o;l.prototype.applyImpulse=function(t,e){if(this.type===l.DYNAMIC){var n=e,i=g;i.copy(t),i.mult(this.invMass,i),this.velocity.vadd(i,this.velocity);var o=w;n.cross(t,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}};var b=new o,x=new o;l.prototype.applyLocalImpulse=function(t,e){if(this.type===l.DYNAMIC){var n=b,i=x;this.vectorToWorldFrame(t,n),this.vectorToWorldFrame(e,i),this.applyImpulse(n,i)}};var E=new o;l.prototype.updateMassProperties=function(){var t=E;this.invMass=this.mass>0?1/this.mass:0;var e=this.inertia,n=this.fixedRotation;this.computeAABB(),t.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),c.calculateInertia(t,this.mass,e),this.invInertia.set(e.x>0&&!n?1/e.x:0,e.y>0&&!n?1/e.y:0,e.z>0&&!n?1/e.z:0),this.updateInertiaWorld(!0)},l.prototype.getVelocityAtWorldPoint=function(t,e){var n=new o;return t.vsub(this.position,n),this.angularVelocity.cross(n,e),this.velocity.vadd(e,e),e};new o,new o,new s,new s;l.prototype.integrate=function(t,e,n){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),(this.type===l.DYNAMIC||this.type===l.KINEMATIC)&&this.sleepState!==l.SLEEPING){var i=this.velocity,o=this.angularVelocity,r=this.position,s=this.force,a=this.torque,c=this.quaternion,u=this.invMass,h=this.invInertiaWorld,p=this.linearFactor,d=u*t;i.x+=s.x*d*p.x,i.y+=s.y*d*p.y,i.z+=s.z*d*p.z;var f=h.elements,v=this.angularFactor,y=a.x*v.x,m=a.y*v.y,g=a.z*v.z;o.x+=t*(f[0]*y+f[1]*m+f[2]*g),o.y+=t*(f[3]*y+f[4]*m+f[5]*g),o.z+=t*(f[6]*y+f[7]*m+f[8]*g),r.x+=i.x*t,r.y+=i.y*t,r.z+=i.z*t,c.integrate(this.angularVelocity,t,this.angularFactor,c),e&&(n?c.normalizeFast():c.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}},vGJX:function(t,e,n){t.exports=s;var i=n("Z6Vu"),o=n("JcM6"),r=n("XrCg");function s(t){i.call(this),this.type=i.types.BOX,this.halfExtents=t,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}s.prototype=new i,s.prototype.constructor=s,s.prototype.updateConvexPolyhedronRepresentation=function(){var t=this.halfExtents.x,e=this.halfExtents.y,n=this.halfExtents.z,i=o,s=[new i(-t,-e,-n),new i(t,-e,-n),new i(t,e,-n),new i(-t,e,-n),new i(-t,-e,n),new i(t,-e,n),new i(t,e,n),new i(-t,e,n)],a=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],c=(new i(0,0,1),new i(0,1,0),new i(1,0,0),new r(s,a));this.convexPolyhedronRepresentation=c,c.material=this.material},s.prototype.calculateLocalInertia=function(t,e){return e=e||new o,s.calculateInertia(this.halfExtents,t,e),e},s.calculateInertia=function(t,e,n){var i=t;n.x=1/12*e*(2*i.y*2*i.y+2*i.z*2*i.z),n.y=1/12*e*(2*i.x*2*i.x+2*i.z*2*i.z),n.z=1/12*e*(2*i.y*2*i.y+2*i.x*2*i.x)},s.prototype.getSideNormals=function(t,e){var n=t,i=this.halfExtents;if(n[0].set(i.x,0,0),n[1].set(0,i.y,0),n[2].set(0,0,i.z),n[3].set(-i.x,0,0),n[4].set(0,-i.y,0),n[5].set(0,0,-i.z),void 0!==e)for(var o=0;o!==n.length;o++)e.vmult(n[o],n[o]);return n},s.prototype.volume=function(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z},s.prototype.updateBoundingSphereRadius=function(){this.boundingSphereRadius=this.halfExtents.norm()};var a=new o;new o;s.prototype.forEachWorldCorner=function(t,e,n){for(var i=this.halfExtents,o=[[i.x,i.y,i.z],[-i.x,i.y,i.z],[-i.x,-i.y,i.z],[-i.x,-i.y,-i.z],[i.x,-i.y,-i.z],[i.x,i.y,-i.z],[-i.x,i.y,-i.z],[i.x,-i.y,i.z]],r=0;r<o.length;r++)a.set(o[r][0],o[r][1],o[r][2]),e.vmult(a,a),t.vadd(a,a),n(a.x,a.y,a.z)};var c=[new o,new o,new o,new o,new o,new o,new o,new o];s.prototype.calculateWorldAABB=function(t,e,n,i){var o=this.halfExtents;c[0].set(o.x,o.y,o.z),c[1].set(-o.x,o.y,o.z),c[2].set(-o.x,-o.y,o.z),c[3].set(-o.x,-o.y,-o.z),c[4].set(o.x,-o.y,-o.z),c[5].set(o.x,o.y,-o.z),c[6].set(-o.x,o.y,-o.z),c[7].set(o.x,-o.y,o.z);var r=c[0];e.vmult(r,r),t.vadd(r,r),i.copy(r),n.copy(r);for(var s=1;s<8;s++){r=c[s];e.vmult(r,r),t.vadd(r,r);var a=r.x,l=r.y,u=r.z;a>i.x&&(i.x=a),l>i.y&&(i.y=l),u>i.z&&(i.z=u),a<n.x&&(n.x=a),l<n.y&&(n.y=l),u<n.z&&(n.z=u)}}},vKrd:function(t,e,n){var i=n("y3w9"),o=n("0/R4"),r=n("pbhE");t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t),s=n.resolve;return s(e),n.promise}},"w/IA":function(t,e,n){t.exports={velocity:n("iCBk"),registerAll:function(t){this._registered||(t=t||window.AFRAME,t.components["velocity"]||t.registerComponent("velocity",this.velocity),this._registered=!0)}}},x3f3:function(t,e){function n(){}t.exports=n,n.defaults=function(t,e){for(var n in t=t||{},e)n in t||(t[n]=e[n]);return t}},xlRs:function(t,e){t.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const t=this.el.sceneEl;t.addEventListener("axismove",this.onAxisMove),t.addEventListener("trackpadtouchstart",this.onTouchStart),t.addEventListener("trackpadtouchend",this.onTouchEnd)},removeEventListeners:function(){const t=this.el.sceneEl;t.removeEventListener("axismove",this.onAxisMove),t.removeEventListener("trackpadtouchstart",this.onTouchStart),t.removeEventListener("trackpadtouchend",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(t){this.isMoving=!0,t.preventDefault()},onTouchEnd:function(t){this.isMoving=!1,t.preventDefault()},onAxisMove:function(t){var e=t.detail.axis;e[1]<0&&(this.zVel=1),e[1]>0&&(this.zVel=-1)}})},xpql:function(t,e,n){t.exports=!n("nh4g")&&!n("eeVq")(function(){return 7!=Object.defineProperty(n("Iw71")("div"),"a",{get:function(){return 7}}).a})},y3EA:function(t,e){var n=t.exports={VERSION:"0.1.1",PI:Math.PI,TAU:2*Math.PI,DEG_TO_RAD:.0174532925,RAD_TO_DEG:57.2957795,SQRT3:Math.sqrt(3),TILE:"tile",ENT:"entity",STR:"structure",HEX:"hex",SQR:"square",ABS:"abstract"};n.Board=function(t,e){if(!t)throw new Error("You must pass in a grid system for the board to use.");this.tiles=[],this.tileGroup=null,this.group=new THREE.Object3D,this.grid=null,this.overlay=null,this.finder=new n.AStarFinder(e),n.Loader.init(),this.setGrid(t)},n.Board.prototype={setEntityOnTile:function(t,e){var n=this.grid.cellToPixel(e.cell);t.position.copy(n),t.position.y+=t.heightOffset||0,t.tile&&(t.tile.entity=null),t.tile=e,e.entity=t},addTile:function(t){var e=this.tiles.indexOf(t);-1===e&&(this.tiles.push(t),this.snapTileToGrid(t),t.position.y=0,this.tileGroup.add(t.mesh),this.grid.add(t.cell),t.cell.tile=t)},removeTile:function(t){if(t){var e=this.tiles.indexOf(t);this.grid.remove(t.cell),-1!==e&&this.tiles.splice(e,1),t.dispose()}},removeAllTiles:function(){if(this.tileGroup)for(var t=this.tileGroup.children,e=0;e<t.length;e++)this.tileGroup.remove(t[e])},getTileAtCell:function(t){var e=this.grid.cellToHash(t);return t.tile||("undefined"!=typeof this.grid.cells[e]?this.grid.cells[e].tile:null)},snapToGrid:function(t){var e=this.grid.pixelToCell(t);t.copy(this.grid.cellToPixel(e))},snapTileToGrid:function(t){if(t.cell)t.position.copy(this.grid.cellToPixel(t.cell));else{var e=this.grid.pixelToCell(t.position);t.position.copy(this.grid.cellToPixel(e))}return t},getRandomTile:function(){var t=n.Tools.randomInt(0,this.tiles.length-1);return this.tiles[t]},findPath:function(t,e,n){return this.finder.findPath(t.cell,e.cell,n,this.grid)},setGrid:function(t){this.group.remove(this.tileGroup),this.grid&&t!==this.grid&&(this.removeAllTiles(),this.tiles.forEach(function(t){this.grid.remove(t.cell),t.dispose()}),this.grid.dispose()),this.grid=t,this.tiles=[],this.tileGroup=new THREE.Object3D,this.group.add(this.tileGroup)},generateOverlay:function(t){var e=new THREE.LineBasicMaterial({color:0,opacity:.3});this.overlay&&this.group.remove(this.overlay),this.overlay=new THREE.Object3D,this.grid.generateOverlay(t,this.overlay,e),this.group.add(this.overlay)},generateTilemap:function(t){this.reset();var e=this.grid.generateTiles(t);this.tiles=e,this.tileGroup=new THREE.Object3D;for(var n=0;n<e.length;n++)this.tileGroup.add(e[n].mesh);this.group.add(this.tileGroup)},reset:function(){this.removeAllTiles(),this.tileGroup&&this.group.remove(this.tileGroup)}},n.Board.prototype.constructor=n.Board,n.Cell=function(t,e,i,o){this.q=t||0,this.r=e||0,this.s=i||0,this.h=o||1,this.tile=null,this.userData={},this.walkable=!0,this._calcCost=0,this._priority=0,this._visited=!1,this._parent=null,this.uniqueID=n.LinkedList.generateID()},n.Cell.prototype={set:function(t,e,n){return this.q=t,this.r=e,this.s=n,this},copy:function(t){return this.q=t.q,this.r=t.r,this.s=t.s,this.h=t.h,this.tile=t.tile||null,this.userData=t.userData||{},this.walkable=t.walkable,this},add:function(t){return this.q+=t.q,this.r+=t.r,this.s+=t.s,this},equals:function(t){return this.q===t.q&&this.r===t.r&&this.s===t.s}},n.Cell.prototype.constructor=n.Cell,n.HexGrid=function(t){t=t||{},this.type=n.HEX,this.size=5,this.cellSize="undefined"==typeof t.cellSize?10:t.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e,i=[];for(e=0;6>e;e++)i.push(this._createVertex(e));for(this.cellShape=new THREE.Shape,this.cellShape.moveTo(i[0].x,i[0].y),e=1;6>e;e++)this.cellShape.lineTo(i[e].x,i[e].y);this.cellShape.lineTo(i[0].x,i[0].y),this.cellShape.autoClose=!0,this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=i,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this._hashDelimeter=".",this._directions=[new n.Cell(1,-1,0),new n.Cell(1,0,-1),new n.Cell(0,1,-1),new n.Cell(-1,1,0),new n.Cell(-1,0,1),new n.Cell(0,-1,1)],this._diagonals=[new n.Cell(2,-1,-1),new n.Cell(1,1,-2),new n.Cell(-1,2,-1),new n.Cell(-2,1,1),new n.Cell(-1,-1,2),new n.Cell(1,-2,1)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.HexGrid.TWO_THIRDS=2/3,n.HexGrid.prototype={cellToPixel:function(t){return this._vec3.x=t.q*this._cellWidth*.75,this._vec3.y=t.h,this._vec3.z=-(t.s-t.r)*this._cellLength*.5,this._vec3},pixelToCell:function(t){var e=t.x*(n.HexGrid.TWO_THIRDS/this.cellSize),i=(-t.x/3+n.SQRT3/3*t.z)/this.cellSize;return this._cel.set(e,i,-e-i),this._cubeRound(this._cel)},getCellAt:function(t){var e=t.x*(n.HexGrid.TWO_THIRDS/this.cellSize),i=(-t.x/3+n.SQRT3/3*t.z)/this.cellSize;return this._cel.set(e,i,-e-i),this._cubeRound(this._cel),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(t,e,n){var i,o,r=this._directions.length;for(this._list.length=0,i=0;r>i;i++)this._cel.copy(t),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||n&&!n(t,o)||this._list.push(o);if(e)for(i=0;r>i;i++)this._cel.copy(t),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||n&&!n(t,o)||this._list.push(o);return this._list},getRandomCell:function(){var t,e=0,i=n.Tools.randomInt(0,this.numCells);for(t in this.cells){if(e===i)return this.cells[t];e++}return this.cells[t]},cellToHash:function(t){return t.q+this._hashDelimeter+t.r+this._hashDelimeter+t.s},distance:function(t,e){var n=Math.max(Math.abs(t.q-e.q),Math.abs(t.r-e.r),Math.abs(t.s-e.s));return n+(e.h-t.h)},clearPath:function(){var t,e;for(t in this.cells)e=this.cells[t],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(t){var e;for(e in this.cells)t(this.cells[e])},generateTile:function(t,e,i){var o=Math.abs(t.h);1>o&&(o=1);var r=this._geoCache[o];r||(this.extrudeSettings.amount=o,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[o]=r);var s=new n.Tile({size:this.cellSize,scale:e,cell:t,geometry:r,material:i});return t.tile=s,s},generateTiles:function(t){t=t||{};var e,i,o,r=[],s={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(e in s=n.Tools.merge(s,t),this.cellSize=s.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.autogenerated=!0,this.extrudeSettings=s.extrudeSettings,this.cells)o=this.cells[e],i=this.generateTile(o,s.tileScale,s.material),i.position.copy(this.cellToPixel(o)),i.position.y=0,r.push(i);return r},generateTilePoly:function(t){t||(t=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,t);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,n.PI/2),e},generate:function(t){var e,i,o,r;for(t=t||{},this.size="undefined"==typeof t.size?this.size:t.size,e=-this.size;e<this.size+1;e++)for(i=-this.size;i<this.size+1;i++)o=-e-i,Math.abs(e)<=this.size&&Math.abs(i)<=this.size&&Math.abs(o)<=this.size&&(r=new n.Cell(e,i,o),this.add(r))},generateOverlay:function(t,e,i){var o,r,s,a=this.cellShape.createPointsGeometry();for(o=-t;t+1>o;o++)for(r=-t;t+1>r;r++)if(s=-o-r,Math.abs(o)<=t&&Math.abs(r)<=t&&Math.abs(s)<=t){this._cel.set(o,r,s);var c=new THREE.Line(a,i);c.position.copy(this.cellToPixel(this._cel)),c.rotation.x=90*n.DEG_TO_RAD,e.add(c)}},add:function(t){var e=this.cellToHash(t);if(!this.cells[e])return this.cells[e]=t,this.numCells++,t},remove:function(t){var e=this.cellToHash(t);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(t,e,i){var o=this;n.Tools.getJSON({url:t,callback:function(t){o.fromJSON(t),e.call(i||null,t)},cache:!1,scope:o})},fromJSON:function(t){var e,i,o=t.cells;for(this.cells={},this.numCells=0,this.size=t.size,this.cellSize=t.cellSize,this._cellWidth=2*this.cellSize,this._cellLength=.5*n.SQRT3*this._cellWidth,this.extrudeSettings=t.extrudeSettings,this.autogenerated=t.autogenerated,e=0;e<o.length;e++)i=new n.Cell,i.copy(o[e]),this.add(i)},toJSON:function(){var t,e,n={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)t=this.cells[e],i.push({q:t.q,r:t.r,s:t.s,h:t.h,walkable:t.walkable,userData:t.userData});return n.cells=i,n},_createVertex:function(t){var e=n.TAU/6*t;return new THREE.Vector3(this.cellSize*Math.cos(e),this.cellSize*Math.sin(e),0)},_cubeRound:function(t){var e=Math.round(t.q),n=Math.round(t.r),i=Math.round(t.s),o=Math.abs(e-t.q),r=Math.abs(n-t.r),s=Math.abs(i-t.s);return o>r&&o>s?e=-n-i:r>s?n=-e-i:i=-e-n,this._cel.set(e,n,i)}},n.HexGrid.prototype.constructor=n.HexGrid,n.SqrGrid=function(t){t=t||{},this.type=n.SQR,this.size=5,this.cellSize="undefined"==typeof t.cellSize?10:t.cellSize,this.cells={},this.numCells=0,this.extrudeSettings=null,this.autogenerated=!1;var e=[];e.push(new THREE.Vector3),e.push(new THREE.Vector3(-this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,this.cellSize)),e.push(new THREE.Vector3(this.cellSize,-this.cellSize)),this.cellShape=new THREE.Shape,this.cellShape.moveTo(-this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,this.cellSize),this.cellShape.lineTo(this.cellSize,-this.cellSize),this.cellShape.lineTo(-this.cellSize,-this.cellSize),this.cellGeo=new THREE.Geometry,this.cellGeo.vertices=e,this.cellGeo.verticesNeedUpdate=!0,this.cellShapeGeo=new THREE.ShapeGeometry(this.cellShape),this._fullCellSize=2*this.cellSize,this._hashDelimeter=".",this._directions=[new n.Cell(1,0,0),new n.Cell(0,-1,0),new n.Cell(-1,0,0),new n.Cell(0,1,0)],this._diagonals=[new n.Cell(-1,-1,0),new n.Cell(-1,1,0),new n.Cell(1,1,0),new n.Cell(1,-1,0)],this._list=[],this._vec3=new THREE.Vector3,this._cel=new n.Cell,this._conversionVec=new THREE.Vector3,this._geoCache=[],this._matCache=[]},n.SqrGrid.prototype={cellToPixel:function(t){return this._vec3.x=t.q*this._fullCellSize,this._vec3.y=t.h,this._vec3.z=t.r*this._fullCellSize,this._vec3},pixelToCell:function(t){var e=Math.round(t.x/this._fullCellSize),n=Math.round(t.z/this._fullCellSize);return this._cel.set(e,n,0)},getCellAt:function(t){var e=Math.round(t.x/this._fullCellSize),n=Math.round(t.z/this._fullCellSize);return this._cel.set(e,n),this.cells[this.cellToHash(this._cel)]},getNeighbors:function(t,e,n){var i,o,r=this._directions.length;for(this._list.length=0,i=0;r>i;i++)this._cel.copy(t),this._cel.add(this._directions[i]),o=this.cells[this.cellToHash(this._cel)],!o||n&&!n(t,o)||this._list.push(o);if(e)for(i=0;r>i;i++)this._cel.copy(t),this._cel.add(this._diagonals[i]),o=this.cells[this.cellToHash(this._cel)],!o||n&&!n(t,o)||this._list.push(o);return this._list},getRandomCell:function(){var t,e=0,i=n.Tools.randomInt(0,this.numCells);for(t in this.cells){if(e===i)return this.cells[t];e++}return this.cells[t]},cellToHash:function(t){return t.q+this._hashDelimeter+t.r},distance:function(t,e){var n=Math.max(Math.abs(t.q-e.q),Math.abs(t.r-e.r));return n+(e.h-t.h)},clearPath:function(){var t,e;for(t in this.cells)e=this.cells[t],e._calcCost=0,e._priority=0,e._parent=null,e._visited=!1},traverse:function(t){var e;for(e in this.cells)t(this.cells[e])},generateTile:function(t,e,i){var o=Math.abs(t.h);1>o&&(o=1);var r=this._geoCache[o];r||(this.extrudeSettings.amount=o,r=new THREE.ExtrudeGeometry(this.cellShape,this.extrudeSettings),this._geoCache[o]=r);var s=new n.Tile({size:this.cellSize,scale:e,cell:t,geometry:r,material:i});return t.tile=s,s},generateTiles:function(t){t=t||{};var e,i,o,r=[],s={tileScale:.95,cellSize:this.cellSize,material:null,extrudeSettings:{amount:1,bevelEnabled:!0,bevelSegments:1,steps:1,bevelSize:.5,bevelThickness:.5}};for(e in s=n.Tools.merge(s,t),this.cellSize=s.cellSize,this._fullCellSize=2*this.cellSize,this.autogenerated=!0,this.extrudeSettings=s.extrudeSettings,this.cells)o=this.cells[e],i=this.generateTile(o,s.tileScale,s.material),i.position.copy(this.cellToPixel(o)),i.position.y=0,r.push(i);return r},generateTilePoly:function(t){t||(t=new THREE.MeshBasicMaterial({color:2405631}));var e=new THREE.Mesh(this.cellShapeGeo,t);return this._vec3.set(1,0,0),e.rotateOnAxis(this._vec3,n.PI/2),e},generate:function(t){t=t||{},this.size="undefined"==typeof t.size?this.size:t.size;var e,i,o,r=Math.ceil(this.size/2);for(e=-r;r>e;e++)for(i=-r;r>i;i++)o=new n.Cell(e,i+1),this.add(o)},generateOverlay:function(t,e,i){var o,r,s=Math.ceil(t/2);for(o=-s;s>o;o++)for(r=-s;s>r;r++){this._cel.set(o,r);var a=new THREE.Line(this.cellGeo,i);a.position.copy(this.cellToPixel(this._cel)),a.rotation.x=90*n.DEG_TO_RAD,e.add(a)}},add:function(t){var e=this.cellToHash(t);if(!this.cells[e])return this.cells[e]=t,this.numCells++,t},remove:function(t){var e=this.cellToHash(t);this.cells[e]&&(delete this.cells[e],this.numCells--)},dispose:function(){this.cells=null,this.numCells=0,this.cellShape=null,this.cellGeo.dispose(),this.cellGeo=null,this.cellShapeGeo.dispose(),this.cellShapeGeo=null,this._list=null,this._vec3=null,this._conversionVec=null,this._geoCache=null,this._matCache=null},load:function(t,e,i){n.Tools.getJSON({url:t,callback:function(t){this.fromJSON(t),e.call(i||null,t)},cache:!1,scope:this})},fromJSON:function(t){var e,i,o=t.cells;for(this.cells={},this.numCells=0,this.size=t.size,this.cellSize=t.cellSize,this._fullCellSize=2*this.cellSize,this.extrudeSettings=t.extrudeSettings,this.autogenerated=t.autogenerated,e=0;e<o.length;e++)i=new n.Cell,i.copy(o[e]),this.add(i)},toJSON:function(){var t,e,n={size:this.size,cellSize:this.cellSize,extrudeSettings:this.extrudeSettings,autogenerated:this.autogenerated},i=[];for(e in this.cells)t=this.cells[e],i.push({q:t.q,r:t.r,s:t.s,h:t.h,walkable:t.walkable,userData:t.userData});return n.cells=i,n}},n.SqrGrid.prototype.constructor=n.SqrGrid,n.Tile=function(t){t=t||{};var e={cell:null,geometry:null,material:null};if(e=n.Tools.merge(e,t),!e.cell||!e.geometry)throw new Error("Missing vg.Tile configuration");this.cell=e.cell,this.cell.tile&&this.cell.tile!==this&&this.cell.tile.dispose(),this.cell.tile=this,this.uniqueID=n.Tools.generateID(),this.geometry=e.geometry,this.material=e.material,this.material||(this.material=new THREE.MeshPhongMaterial({color:n.Tools.randomizeRGB("30, 30, 30",13)})),this.objectType=n.TILE,this.entity=null,this.userData={},this.selected=!1,this.highlight="0x0084cc",this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.userData.structure=this,this.position=this.mesh.position,this.rotation=this.mesh.rotation,this.rotation.x=-90*n.DEG_TO_RAD,this.mesh.scale.set(e.scale,e.scale,1),this.material.emissive?this._emissive=this.material.emissive.getHex():this._emissive=null},n.Tile.prototype={select:function(){return this.material.emissive&&this.material.emissive.setHex(this.highlight),this.selected=!0,this},deselect:function(){return null!==this._emissive&&this.material.emissive&&this.material.emissive.setHex(this._emissive),this.selected=!1,this},toggle:function(){return this.selected?this.deselect():this.select(),this},dispose:function(){this.cell&&this.cell.tile&&(this.cell.tile=null),this.cell=null,this.position=null,this.rotation=null,this.mesh.parent&&this.mesh.parent.remove(this.mesh),this.mesh.userData.structure=null,this.mesh=null,this.material=null,this.userData=null,this.entity=null,this.geometry=null,this._emissive=null}},n.Tile.prototype.constructor=n.Tile,function(){var t=function(){this.obj=null,this.next=null,this.prev=null,this.free=!0},e=function(){this.first=null,this.last=null,this.length=0,this.objToNodeMap={},this.uniqueID=Date.now()+""+Math.floor(1e3*Math.random()),this.sortArray=[]};e.generateID=function(){return Math.random().toString(36).slice(2)+Date.now()},e.prototype={getNode:function(t){return this.objToNodeMap[t.uniqueID]},addNode:function(n){var i=new t;if(!n.uniqueID)try{n.uniqueID=e.generateID()}catch(t){return console.error("[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier"),null}return i.obj=n,i.free=!1,this.objToNodeMap[n.uniqueID]=i,i},swapObjects:function(t,e){this.objToNodeMap[t.obj.uniqueID]=null,this.objToNodeMap[e.uniqueID]=t,t.obj=e},add:function(t){var e=this.objToNodeMap[t.uniqueID];if(e){if(!1===e.free)return;e.obj=t,e.free=!1,e.next=null,e.prev=null}else e=this.addNode(t);if(this.first){if(!this.last)throw new Error("[LinkedList.add] No last in the list -- that shouldn't happen here");this.last.next=e,e.prev=this.last,this.last=e,e.next=null}else this.first=e,this.last=e,e.next=null,e.prev=null;this.length++,this.showDebug&&this.dump("after add")},has:function(t){return!!this.objToNodeMap[t.uniqueID]},moveUp:function(t){this.dump("before move up");var e=this.getNode(t);if(!e)throw"Oops, trying to move an object that isn't in the list";if(e.prev){var n=e.prev,i=n.prev;e==this.last&&(this.last=n);var o=e.next;i&&(i.next=e),e.next=n,e.prev=n.prev,n.next=o,n.prev=e,this.first==n&&(this.first=e)}},moveDown:function(t){var e=this.getNode(t);if(!e)throw"Oops, trying to move an object that isn't in the list";if(e.next){var n=e.next;this.moveUp(n.obj),this.last==n&&(this.last=e)}},sort:function(t){var e,n,i=this.sortArray,o=this.first;for(i.length=0;o;)i.push(o.obj),o=o.next;for(this.clear(),i.sort(t),n=i.length,e=0;n>e;e++)this.add(i[e])},remove:function(t){var e=this.getNode(t);return!(!e||e.free)&&(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.prev||(this.first=e.next),e.next||(this.last=e.prev),e.free=!0,e.prev=null,e.next=null,this.length--,!0)},shift:function(){var t=this.first;return 0===this.length?null:(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first=t.next,t.next||(this.last=null),t.free=!0,t.prev=null,t.next=null,this.length--,t.obj)},pop:function(){var t=this.last;return 0===this.length?null:(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.last=t.prev,t.prev||(this.first=null),t.free=!0,t.prev=null,t.next=null,this.length--,t.obj)},concat:function(t){for(var e=t.first;e;)this.add(e.obj),e=e.next},clear:function(){for(var t=this.first;t;)t.free=!0,t=t.next;this.first=null,this.length=0},dispose:function(){for(var t=this.first;t;)t.obj=null,t=t.next;this.first=null,this.objToNodeMap=null},dump:function(t){console.log("===================="+t+"=====================");for(var e=this.first;e;)console.log("{"+e.obj.toString()+"} previous="+(e.prev?e.prev.obj:"NULL")),e=e.next();console.log("==================================="),console.log("Last: {"+(this.last?this.last.obj:"NULL")+"} First: {"+(this.first?this.first.obj:"NULL")+"}")}},e.prototype.constructor=e,n.LinkedList=e}(),function(){var t=function(t,e,n,i,o){this._listener=e,this.isOnce=n,this.context=i,this.signal=t,this._priority=o||0};t.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this.isOnce&&this.detach()),e},detach:function(){return this.isBound()?this.signal.remove(this._listener,this.context):null},isBound:function(){return!!this.signal&&!!this._listener},_destroy:function(){delete this.signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this.isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},t.prototype.constructor=t;var e=function(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}};e.prototype={memorize:!1,_shouldPropagate:!0,active:!0,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(e,n,i,o){var r,s=this._indexOfListener(e,i);if(-1!==s){if(r=this._bindings[s],r.isOnce!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else r=new t(this,e,n,i,o),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){var e=this._bindings.length;do{e--}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===t&&n.context===e)return i;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return this.validateListener(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){this.validateListener(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(t){"undefined"==typeof t&&(t=null);for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var t,e=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=e),n){t=this._bindings.slice(),this._shouldPropagate=!0;do{n--}while(t[n]&&this._shouldPropagate&&!1!==t[n].execute(e))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},e.prototype.constructor=e,n.Signal=e}(),n.AStarFinder=function(t){t=t||{};var e={allowDiagonal:!1,heuristicFilter:null};e=n.Tools.merge(e,t),this.allowDiagonal=e.allowDiagonal,this.heuristicFilter=e.heuristicFilter,this.list=new n.LinkedList},n.AStarFinder.prototype={findPath:function(t,e,i,o){var r,s,a,c,l,u;for(i=i||this.heuristicFilter,o.clearPath(),this.list.clear(),this.list.add(t);this.list.length>0;){if(this.list.sort(this.compare),r=this.list.shift(),r._visited=!0,r===e)return n.PathUtil.backtrace(e);for(a=o.getNeighbors(r,this.allowDiagonal,i),l=0,u=a.length;u>l;l++)if(c=a[l],c.walkable&&(s=r._calcCost+o.distance(r,c),!c._visited||s<c._calcCost)){if(c._visited=!0,c._parent=r,c._calcCost=s,c._priority=s+o.distance(e,c),c===e)return n.PathUtil.backtrace(e);this.list.add(c)}}return null},compare:function(t,e){return t._priority-e._priority}},n.AStarFinder.prototype.constructor=n.AStarFinder,n.PathUtil={backtrace:function(t){for(var e=[t];t._parent;)t=t._parent,e.push(t);return e.reverse()},biBacktrace:function(t,e){var n=this.backtrace(t),i=this.backtrace(e);return n.concat(i.reverse())},pathLength:function(t){var e,n,i,o,r,s=0;for(e=1;e<t.length;++e)n=t[e-1],i=t[e],o=n[0]-i[0],r=n[1]-i[1],s+=Math.sqrt(o*o+r*r);return s},interpolate:function(t,e,n,i){var o,r,s,a,c,l,u=Math.abs,h=[];for(s=u(n-t),a=u(i-e),o=n>t?1:-1,r=i>e?1:-1,c=s-a;t!==n||e!==i;)h.push([t,e]),l=2*c,l>-a&&(c-=a,t+=o),s>l&&(c+=s,e+=r);return h},expandPath:function(t){var e,n,i,o,r,s,a=[],c=t.length;if(2>c)return a;for(r=0;c-1>r;++r)for(e=t[r],n=t[r+1],i=this.interpolate(e[0],e[1],n[0],n[1]),o=i.length,s=0;o-1>s;++s)a.push(i[s]);return a.push(t[c-1]),a},smoothenPath:function(t,e){var n,i,o,r,s,a,c,l,u,h,p,d,f=e.length,v=e[0][0],y=e[0][1],m=e[f-1][0],g=e[f-1][1];for(n=v,i=y,s=[[n,i]],c=2;f>c;++c){for(u=e[c],o=u[0],r=u[1],h=this.interpolate(n,i,o,r),d=!1,l=1;l<h.length;++l)if(p=h[l],!t.isWalkableAt(p[0],p[1])){d=!0;break}d&&(a=e[c-1],s.push(a),n=a[0],i=a[1])}return s.push([m,g]),s},compressPath:function(t){if(t.length<3)return t;var e,n,i,o,r,s,a=[],c=t[0][0],l=t[0][1],u=t[1][0],h=t[1][1],p=u-c,d=h-l;for(r=Math.sqrt(p*p+d*d),p/=r,d/=r,a.push([c,l]),s=2;s<t.length;s++)e=u,n=h,i=p,o=d,u=t[s][0],h=t[s][1],p=u-e,d=h-n,r=Math.sqrt(p*p+d*d),p/=r,d/=r,(p!==i||d!==o)&&a.push([e,n]);return a.push([u,h]),a}},n.Loader={manager:null,imageLoader:null,crossOrigin:!1,init:function(t){this.crossOrigin=t||!1,this.manager=new THREE.LoadingManager(function(){},function(){},function(){console.warn("Error loading images")}),this.imageLoader=new THREE.ImageLoader(this.manager),this.imageLoader.crossOrigin=t},loadTexture:function(t,e,n,i){var o=new THREE.Texture(null,e);return this.imageLoader.load(t,function(t){o.image=t,o.needsUpdate=!0,n&&n(o)},null,function(t){i&&i(t)}),o.sourceFile=t,o}},n.MouseCaster=function(t,e,i){this.down=!1,this.rightDown=!1,this.pickedObject=null,this.selectedObject=null,this.allHits=null,this.active=!0,this.shift=!1,this.ctrl=!1,this.wheel=0,this.position=new THREE.Vector3,this.screenPosition=new THREE.Vector2,this.signal=new n.Signal,this.group=t,this._camera=e,this._raycaster=new THREE.Raycaster,this._preventDefault=!1,i=i||document,i.addEventListener("mousemove",this._onDocumentMouseMove.bind(this),!1),i.addEventListener("mousedown",this._onDocumentMouseDown.bind(this),!1),i.addEventListener("mouseup",this._onDocumentMouseUp.bind(this),!1),i.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),i.addEventListener("DOMMouseScroll",this._onMouseWheel.bind(this),!1)},n.MouseCaster.OVER="over",n.MouseCaster.OUT="out",n.MouseCaster.DOWN="down",n.MouseCaster.UP="up",n.MouseCaster.CLICK="click",n.MouseCaster.WHEEL="wheel",n.MouseCaster.prototype={update:function(){if(this.active){this._raycaster.setFromCamera(this.screenPosition,this._camera);var t,e,i=this._raycaster.intersectObject(this.group,!0);i.length>0?(t=i[0],e=t.object.userData.structure,this.pickedObject!=e&&(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=e,this.selectedObject=null,this.signal.dispatch(n.MouseCaster.OVER,this.pickedObject)),this.position.copy(t.point),this.screenPosition.z=t.distance):(this.pickedObject&&this.signal.dispatch(n.MouseCaster.OUT,this.pickedObject),this.pickedObject=null,this.selectedObject=null),this.allHits=i}},preventDefault:function(){this._preventDefault=!0},_onDocumentMouseDown:function(t){return t=t||window.event,t.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.pickedObject&&(this.selectedObject=this.pickedObject),this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.down=1===t.which,this.rightDown=3===t.which,void this.signal.dispatch(n.MouseCaster.DOWN,this.pickedObject))},_onDocumentMouseUp:function(t){return t.preventDefault(),this._preventDefault?(this._preventDefault=!1,!1):(this.shift=t.shiftKey,this.ctrl=t.ctrlKey,this.signal.dispatch(n.MouseCaster.UP,this.pickedObject),this.selectedObject&&this.pickedObject&&this.selectedObject.uniqueID===this.pickedObject.uniqueID&&this.signal.dispatch(n.MouseCaster.CLICK,this.pickedObject),this.down=1!==t.which&&this.down,void(this.rightDown=3!==t.which&&this.rightDown))},_onDocumentMouseMove:function(t){t.preventDefault(),this.screenPosition.x=t.clientX/window.innerWidth*2-1,this.screenPosition.y=-t.clientY/window.innerHeight*2+1},_onMouseWheel:function(t){if(this.active){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?this.wheel++:this.wheel--,this.signal.dispatch(n.MouseCaster.WHEEL,this.wheel)}}},n.MouseCaster.prototype.constructor=n.MouseCaster,n.Scene=function(t,e){var i={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},o={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(i=n.Tools.merge(i,t),"boolean"!=typeof e&&(o=n.Tools.merge(o,e)),this.renderer=new THREE.WebGLRenderer({alpha:i.alpha,antialias:i.antialias}),this.renderer.setClearColor(i.clearColor,0),this.renderer.sortObjects=i.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=i.orthoZoom,this.container=new THREE.Scene,this.container.fog=i.fog,this.container.add(new THREE.AmbientLight(14540253)),i.lightPosition||i.light.position.set(-1,1,-1).normalize(),this.container.add(i.light),"OrthographicCamera"===i.cameraType){var r=window.innerWidth/this.orthoZoom,s=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(r/-2,r/2,s/2,s/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!e,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=o.minDistance,this.controls.maxDistance=o.maxDistance,this.controls.zoomSpeed=o.zoomSpeed,this.controls.noZoom=o.noZoom),i.cameraPosition&&this.camera.position.copy(i.cameraPosition),window.addEventListener("resize",function(){if(this.width=window.innerWidth,this.height=window.innerHeight,"OrthographicCamera"===this.camera.type){var t=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=e/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(i.element)},n.Scene.prototype={attachTo:function(t){t.style.width=this.width+"px",t.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),t.appendChild(this.renderer.domElement)},add:function(t){this.container.add(t)},remove:function(t){this.container.remove(t)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)this.orthoZoom=0;else{var t=this.width/this.orthoZoom,e=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=e/2,this.camera.bottom=e/-2,this.camera.updateProjectionMatrix()}},focusOn:function(t){this.camera.lookAt(t.position)}},n.Scene.prototype.constructor=n.Scene,n.SelectionManager=function(t){this.mouse=t,this.onSelect=new n.Signal,this.onDeselect=new n.Signal,this.selected=null,this.toggleSelection=!1,this.mouse.signal.add(this.onMouse,this)},n.SelectionManager.prototype={select:function(t,e){t&&(e=e||!0,this.selected!==t&&this.clearSelection(e),t.selected?this.toggleSelection&&(e&&this.onDeselect.dispatch(t),t.deselect()):t.select(),this.selected=t,e&&this.onSelect.dispatch(t))},clearSelection:function(t){t=t||!0,this.selected&&(t&&this.onDeselect.dispatch(this.selected),this.selected.deselect()),this.selected=null},onMouse:function(t,e){switch(t){case n.MouseCaster.DOWN:e||this.clearSelection();break;case n.MouseCaster.CLICK:this.select(e)}}},n.SelectionManager.prototype.constructor=n.SelectionManager,n.Tools={clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},sign:function(t){return t&&t/Math.abs(t)},random:function(t,e){return 1===arguments.length?Math.random()*t-.5*t:Math.random()*(e-t)+t},randomInt:function(t,e){return 1===arguments.length?Math.random()*t-.5*t|0:Math.random()*(e-t+1)+t|0},normalize:function(t,e,n){return(t-e)/(n-e)},getShortRotation:function(t){return t%=this.TAU,t>this.PI?t-=this.TAU:t<-this.PI&&(t+=this.TAU),t},generateID:function(){return Math.random().toString(36).slice(2)+Date.now()},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!Object.prototype.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},merge:function(t,e){var n=this,i=Array.isArray(e),o=i&&[]||{};return i?(t=t||[],o=o.concat(t),e.forEach(function(e,i){"undefined"==typeof o[i]?o[i]=e:n.isPlainObject(e)?o[i]=n.merge(t[i],e):-1===t.indexOf(e)&&o.push(e)}),o):(t&&n.isPlainObject(t)&&Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.keys(e).forEach(function(i){e[i]&&n.isPlainObject(e[i])&&t[i]?o[i]=n.merge(t[i],e[i]):o[i]=e[i]}),o)},now:function(){return window.nwf?window.nwf.system.Performance.elapsedTime:window.performance.now()},empty:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},radixSort:function(t,e,n,i){if(e=e||0,n=n||t.length,i=i||31,!(e>=n-1||0>i)){for(var o=e,r=n,s=1<<i;r>o;)if(t[o]&s){--r;var a=t[o];t[o]=t[r],t[r]=a}else++o;this.radixSort(t,e,r,i-1),this.radixSort(t,r,n,i-1)}},randomizeRGB:function(t,e){var n,i,o=t.split(","),r="rgb(";for(e=this.randomInt(e),n=0;3>n;n++)i=parseInt(o[n])+e,0>i?i=0:i>255&&(i=255),r+=i+",";return r=r.substring(0,r.length-1),r+")"},getJSON:function(t){var e=new XMLHttpRequest,n="undefined"!=typeof t.cache&&t.cache,i=n?t.url:t.url+"?t="+Math.floor(1e4*Math.random())+Date.now();e.onreadystatechange=function(){if(200!==this.status)0!==this.status&&console.warn("[Tools.getJSON] Error: "+this.status+" ("+this.statusText+") :: "+t.url);else{var e=null;try{e=JSON.parse(this.responseText)}catch(t){return}t.callback.call(t.scope||null,e)}},e.open("GET",i,!0),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send("")}}},y3w9:function(t,e,n){var i=n("0/R4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},ylqs:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},z8T1:function(t){t.exports={_from:"github:donmccurdy/cannon.js#v0.6.2-dev1",_id:"cannon@0.6.2",_inBundle:!1,_integrity:"",_location:"/cannon",_phantomChildren:{},_requested:{type:"git",raw:"cannon@github:donmccurdy/cannon.js#v0.6.2-dev1",name:"cannon",escapedName:"cannon",rawSpec:"github:donmccurdy/cannon.js#v0.6.2-dev1",saveSpec:"github:donmccurdy/cannon.js#v0.6.2-dev1",fetchSpec:null,gitCommittish:"v0.6.2-dev1"},_requiredBy:["/aframe-physics-system"],_resolved:"github:donmccurdy/cannon.js#022e8ba53fa83abf0ad8a0e4fd08623123838a17",_spec:"cannon@github:donmccurdy/cannon.js#v0.6.2-dev1",_where:"/home/slavikse/Project/doom_ar/node_modules/aframe-physics-system",author:{name:"Stefan Hedman",email:"schteppe@gmail.com",url:"http://steffe.se"},bugs:{url:"https://github.com/schteppe/cannon.js/issues"},bundleDependencies:!1,dependencies:{},deprecated:!1,description:"A lightweight 3D physics engine written in JavaScript.",devDependencies:{browserify:"*",grunt:"~0.4.0","grunt-browserify":"^2.1.4","grunt-contrib-concat":"~0.1.3","grunt-contrib-jshint":"~0.1.1","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"^0.5.1","grunt-contrib-yuidoc":"^0.5.2",jshint:"latest",nodeunit:"^0.9.0","uglify-js":"latest"},engines:{node:"*"},homepage:"https://github.com/schteppe/cannon.js",keywords:["cannon.js","cannon","physics","engine","3d"],licenses:[{type:"MIT"}],main:"./src/Cannon.js",name:"cannon",repository:{type:"git",url:"git+https://github.com/schteppe/cannon.js.git"},version:"0.6.2"}},zjFM:function(t,e){t.exports=AFRAME.registerComponent("json-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let t;const e=this.data;e.src&&(this.remove(),t=new THREE.JSONLoader,e.crossorigin&&(t.crossOrigin=e.crossorigin),t.load(e.src,(t,e)=>{e.forEach(e=>{e.vertexColors=(t.faces[0]||{}).color?THREE.FaceColors:THREE.NoColors,e.skinning=!!(t.bones||[]).length,e.morphTargets=!!(t.morphTargets||[]).length,e.morphNormals=!!(t.morphNormals||[]).length});const n=(t.bones||[]).length?new THREE.SkinnedMesh(t,new THREE.MultiMaterial(e)):new THREE.Mesh(t,new THREE.MultiMaterial(e));this.load(n)}))},load:function(t){this.model=t,this.el.setObject3D("mesh",t),this.el.emit("model-loaded",{format:"json",model:t})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},zy4p:function(t,e,n){var i=n("JcM6");function o(){this.rayFromWorld=new i,this.rayToWorld=new i,this.hitNormalWorld=new i,this.hitPointWorld=new i,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1}t.exports=o,o.prototype.reset=function(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this._shouldStop=!1},o.prototype.abort=function(){this._shouldStop=!0},o.prototype.set=function(t,e,n,i,o,r,s){this.rayFromWorld.copy(t),this.rayToWorld.copy(e),this.hitNormalWorld.copy(n),this.hitPointWorld.copy(i),this.shape=o,this.body=r,this.distance=s}}}]);
//# sourceMappingURL=chunk-vendors.9f0f2587.js.map